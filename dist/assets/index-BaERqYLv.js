var t1=Object.defineProperty;var r1=(n,e,t)=>e in n?t1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var n1=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var le=(n,e,t)=>r1(n,typeof e!="symbol"?e+"":e,t);var Pj=n1((fr,pr)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sd={exports:{}},bo={},id={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function s1(){if(s0)return $e;s0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=w&&A[w]||A["@@iterator"],typeof A=="function"?A:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function j(A,D,ie){this.props=A,this.context=D,this.refs=S,this.updater=ie||N}j.prototype.isReactComponent={},j.prototype.setState=function(A,D){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,D,"setState")},j.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function L(){}L.prototype=j.prototype;function M(A,D,ie){this.props=A,this.context=D,this.refs=S,this.updater=ie||N}var q=M.prototype=new L;q.constructor=M,k(q,j.prototype),q.isPureReactComponent=!0;var Y=Array.isArray,te=Object.prototype.hasOwnProperty,ae={current:null},me={key:!0,ref:!0,__self:!0,__source:!0};function Le(A,D,ie){var oe,ne={},we=null,Ee=null;if(D!=null)for(oe in D.ref!==void 0&&(Ee=D.ref),D.key!==void 0&&(we=""+D.key),D)te.call(D,oe)&&!me.hasOwnProperty(oe)&&(ne[oe]=D[oe]);var ue=arguments.length-2;if(ue===1)ne.children=ie;else if(1<ue){for(var Ne=Array(ue),Re=0;Re<ue;Re++)Ne[Re]=arguments[Re+2];ne.children=Ne}if(A&&A.defaultProps)for(oe in ue=A.defaultProps,ue)ne[oe]===void 0&&(ne[oe]=ue[oe]);return{$$typeof:n,type:A,key:we,ref:Ee,props:ne,_owner:ae.current}}function xe(A,D){return{$$typeof:n,type:A.type,key:D,ref:A.ref,props:A.props,_owner:A._owner}}function Pe(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function T(A){var D={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ie){return D[ie]})}var K=/\/+/g;function P(A,D){return typeof A=="object"&&A!==null&&A.key!=null?T(""+A.key):D.toString(36)}function V(A,D,ie,oe,ne){var we=typeof A;(we==="undefined"||we==="boolean")&&(A=null);var Ee=!1;if(A===null)Ee=!0;else switch(we){case"string":case"number":Ee=!0;break;case"object":switch(A.$$typeof){case n:case e:Ee=!0}}if(Ee)return Ee=A,ne=ne(Ee),A=oe===""?"."+P(Ee,0):oe,Y(ne)?(ie="",A!=null&&(ie=A.replace(K,"$&/")+"/"),V(ne,D,ie,"",function(Re){return Re})):ne!=null&&(Pe(ne)&&(ne=xe(ne,ie+(!ne.key||Ee&&Ee.key===ne.key?"":(""+ne.key).replace(K,"$&/")+"/")+A)),D.push(ne)),1;if(Ee=0,oe=oe===""?".":oe+":",Y(A))for(var ue=0;ue<A.length;ue++){we=A[ue];var Ne=oe+P(we,ue);Ee+=V(we,D,ie,Ne,ne)}else if(Ne=v(A),typeof Ne=="function")for(A=Ne.call(A),ue=0;!(we=A.next()).done;)we=we.value,Ne=oe+P(we,ue++),Ee+=V(we,D,ie,Ne,ne);else if(we==="object")throw D=String(A),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Ee}function G(A,D,ie){if(A==null)return A;var oe=[],ne=0;return V(A,oe,"","",function(we){return D.call(ie,we,ne++)}),oe}function F(A){if(A._status===-1){var D=A._result;D=D(),D.then(function(ie){(A._status===0||A._status===-1)&&(A._status=1,A._result=ie)},function(ie){(A._status===0||A._status===-1)&&(A._status=2,A._result=ie)}),A._status===-1&&(A._status=0,A._result=D)}if(A._status===1)return A._result.default;throw A._result}var W={current:null},z={transition:null},Q={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:z,ReactCurrentOwner:ae};function U(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:G,forEach:function(A,D,ie){G(A,function(){D.apply(this,arguments)},ie)},count:function(A){var D=0;return G(A,function(){D++}),D},toArray:function(A){return G(A,function(D){return D})||[]},only:function(A){if(!Pe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},$e.Component=j,$e.Fragment=t,$e.Profiler=a,$e.PureComponent=M,$e.StrictMode=s,$e.Suspense=p,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,$e.act=U,$e.cloneElement=function(A,D,ie){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var oe=k({},A.props),ne=A.key,we=A.ref,Ee=A._owner;if(D!=null){if(D.ref!==void 0&&(we=D.ref,Ee=ae.current),D.key!==void 0&&(ne=""+D.key),A.type&&A.type.defaultProps)var ue=A.type.defaultProps;for(Ne in D)te.call(D,Ne)&&!me.hasOwnProperty(Ne)&&(oe[Ne]=D[Ne]===void 0&&ue!==void 0?ue[Ne]:D[Ne])}var Ne=arguments.length-2;if(Ne===1)oe.children=ie;else if(1<Ne){ue=Array(Ne);for(var Re=0;Re<Ne;Re++)ue[Re]=arguments[Re+2];oe.children=ue}return{$$typeof:n,type:A.type,key:ne,ref:we,props:oe,_owner:Ee}},$e.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},$e.createElement=Le,$e.createFactory=function(A){var D=Le.bind(null,A);return D.type=A,D},$e.createRef=function(){return{current:null}},$e.forwardRef=function(A){return{$$typeof:h,render:A}},$e.isValidElement=Pe,$e.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:F}},$e.memo=function(A,D){return{$$typeof:g,type:A,compare:D===void 0?null:D}},$e.startTransition=function(A){var D=z.transition;z.transition={};try{A()}finally{z.transition=D}},$e.unstable_act=U,$e.useCallback=function(A,D){return W.current.useCallback(A,D)},$e.useContext=function(A){return W.current.useContext(A)},$e.useDebugValue=function(){},$e.useDeferredValue=function(A){return W.current.useDeferredValue(A)},$e.useEffect=function(A,D){return W.current.useEffect(A,D)},$e.useId=function(){return W.current.useId()},$e.useImperativeHandle=function(A,D,ie){return W.current.useImperativeHandle(A,D,ie)},$e.useInsertionEffect=function(A,D){return W.current.useInsertionEffect(A,D)},$e.useLayoutEffect=function(A,D){return W.current.useLayoutEffect(A,D)},$e.useMemo=function(A,D){return W.current.useMemo(A,D)},$e.useReducer=function(A,D,ie){return W.current.useReducer(A,D,ie)},$e.useRef=function(A){return W.current.useRef(A)},$e.useState=function(A){return W.current.useState(A)},$e.useSyncExternalStore=function(A,D,ie){return W.current.useSyncExternalStore(A,D,ie)},$e.useTransition=function(){return W.current.useTransition()},$e.version="18.3.1",$e}var i0;function vh(){return i0||(i0=1,id.exports=s1()),id.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function i1(){if(a0)return bo;a0=1;var n=vh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,g){var b,w={},v=null,N=null;g!==void 0&&(v=""+g),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(N=p.ref);for(b in p)s.call(p,b)&&!l.hasOwnProperty(b)&&(w[b]=p[b]);if(h&&h.defaultProps)for(b in p=h.defaultProps,p)w[b]===void 0&&(w[b]=p[b]);return{$$typeof:e,type:h,key:v,ref:N,props:w,_owner:a.current}}return bo.Fragment=t,bo.jsx=u,bo.jsxs=u,bo}var o0;function a1(){return o0||(o0=1,sd.exports=i1()),sd.exports}var d=a1(),Kl={},ad={exports:{}},er={},od={exports:{}},ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function o1(){return l0||(l0=1,(function(n){function e(z,Q){var U=z.length;z.push(Q);e:for(;0<U;){var A=U-1>>>1,D=z[A];if(0<a(D,Q))z[A]=Q,z[U]=D,U=A;else break e}}function t(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var Q=z[0],U=z.pop();if(U!==Q){z[0]=U;e:for(var A=0,D=z.length,ie=D>>>1;A<ie;){var oe=2*(A+1)-1,ne=z[oe],we=oe+1,Ee=z[we];if(0>a(ne,U))we<D&&0>a(Ee,ne)?(z[A]=Ee,z[we]=U,A=we):(z[A]=ne,z[oe]=U,A=oe);else if(we<D&&0>a(Ee,U))z[A]=Ee,z[we]=U,A=we;else break e}}return Q}function a(z,Q){var U=z.sortIndex-Q.sortIndex;return U!==0?U:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var p=[],g=[],b=1,w=null,v=3,N=!1,k=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(z){for(var Q=t(g);Q!==null;){if(Q.callback===null)s(g);else if(Q.startTime<=z)s(g),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=t(g)}}function Y(z){if(S=!1,q(z),!k)if(t(p)!==null)k=!0,F(te);else{var Q=t(g);Q!==null&&W(Y,Q.startTime-z)}}function te(z,Q){k=!1,S&&(S=!1,L(Le),Le=-1),N=!0;var U=v;try{for(q(Q),w=t(p);w!==null&&(!(w.expirationTime>Q)||z&&!T());){var A=w.callback;if(typeof A=="function"){w.callback=null,v=w.priorityLevel;var D=A(w.expirationTime<=Q);Q=n.unstable_now(),typeof D=="function"?w.callback=D:w===t(p)&&s(p),q(Q)}else s(p);w=t(p)}if(w!==null)var ie=!0;else{var oe=t(g);oe!==null&&W(Y,oe.startTime-Q),ie=!1}return ie}finally{w=null,v=U,N=!1}}var ae=!1,me=null,Le=-1,xe=5,Pe=-1;function T(){return!(n.unstable_now()-Pe<xe)}function K(){if(me!==null){var z=n.unstable_now();Pe=z;var Q=!0;try{Q=me(!0,z)}finally{Q?P():(ae=!1,me=null)}}else ae=!1}var P;if(typeof M=="function")P=function(){M(K)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=K,P=function(){G.postMessage(null)}}else P=function(){j(K,0)};function F(z){me=z,ae||(ae=!0,P())}function W(z,Q){Le=j(function(){z(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){k||N||(k=!0,F(te))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var U=v;v=Q;try{return z()}finally{v=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=v;v=z;try{return Q()}finally{v=U}},n.unstable_scheduleCallback=function(z,Q,U){var A=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?A+U:A):U=A,z){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=U+D,z={id:b++,callback:Q,priorityLevel:z,startTime:U,expirationTime:D,sortIndex:-1},U>A?(z.sortIndex=U,e(g,z),t(p)===null&&z===t(g)&&(S?(L(Le),Le=-1):S=!0,W(Y,U-A))):(z.sortIndex=D,e(p,z),k||N||(k=!0,F(te))),z},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(z){var Q=v;return function(){var U=v;v=Q;try{return z.apply(this,arguments)}finally{v=U}}}})(ld)),ld}var u0;function l1(){return u0||(u0=1,od.exports=o1()),od.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function u1(){if(c0)return er;c0=1;var n=vh(),e=l1();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(a[r]=i,r=0;r<i.length;r++)s.add(i[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},w={};function v(r){return p.call(w,r)?!0:p.call(b,r)?!1:g.test(r)?w[r]=!0:(b[r]=!0,!1)}function N(r,i,o,c){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,i,o,c){if(i===null||typeof i>"u"||N(r,i,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(r,i,o,c,f,m,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=r,this.type=i,this.sanitizeURL=m,this.removeEmptyString=x}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];j[i]=new S(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(L,M);j[i]=new S(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(L,M);j[i]=new S(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(L,M);j[i]=new S(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function q(r,i,o,c){var f=j.hasOwnProperty(i)?j[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,o,f,c)&&(o=null),c||f===null?v(i)&&(o===null?r.removeAttribute(i):r.setAttribute(i,""+o)):f.mustUseProperty?r[f.propertyName]=o===null?f.type===3?!1:"":o:(i=f.attributeName,c=f.attributeNamespace,o===null?r.removeAttribute(i):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?r.setAttributeNS(c,i,o):r.setAttribute(i,o))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),ae=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),Le=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),T=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),z=Symbol.iterator;function Q(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var U=Object.assign,A;function D(r){if(A===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);A=i&&i[1]||""}return`
`+A+r}var ie=!1;function oe(r,i){if(!r||ie)return"";ie=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var c=B}Reflect.construct(r,[],i)}else{try{i.call()}catch(B){c=B}r.call(i.prototype)}else{try{throw Error()}catch(B){c=B}r()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),m=c.stack.split(`
`),x=f.length-1,E=m.length-1;1<=x&&0<=E&&f[x]!==m[E];)E--;for(;1<=x&&0<=E;x--,E--)if(f[x]!==m[E]){if(x!==1||E!==1)do if(x--,E--,0>E||f[x]!==m[E]){var O=`
`+f[x].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=x&&0<=E);break}}}finally{ie=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?D(r):""}function ne(r){switch(r.tag){case 5:return D(r.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return r=oe(r.type,!1),r;case 11:return r=oe(r.type.render,!1),r;case 1:return r=oe(r.type,!0),r;default:return""}}function we(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case me:return"Fragment";case ae:return"Portal";case xe:return"Profiler";case Le:return"StrictMode";case P:return"Suspense";case V:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case T:return(r.displayName||"Context")+".Consumer";case Pe:return(r._context.displayName||"Context")+".Provider";case K:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return i=r.displayName||null,i!==null?i:we(r.type)||"Memo";case F:i=r._payload,r=r._init;try{return we(r(i))}catch{}}return null}function Ee(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(i);case 8:return i===Le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ne(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Re(r){var i=Ne(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,m.call(this,x)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function qe(r){r._valueTracker||(r._valueTracker=Re(r))}function Fe(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return r&&(c=Ne(r)?r.checked?"true":"false":r.value),r=c,r!==o?(i.setValue(r),!0):!1}function Be(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Xe(r,i){var o=i.checked;return U({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function gt(r,i){var o=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;o=ue(i.value!=null?i.value:o),r._wrapperState={initialChecked:c,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Zn(r,i){i=i.checked,i!=null&&q(r,"checked",i,!1)}function Xn(r,i){Zn(r,i);var o=ue(i.value),c=i.type;if(o!=null)c==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Bs(r,i.type,o):i.hasOwnProperty("defaultValue")&&Bs(r,i.type,ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function ji(r,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,o||i===r.value||(r.value=i),r.defaultValue=i}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function Bs(r,i,o){(i!=="number"||Be(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var gr=Array.isArray;function yr(r,i,o,c){if(r=r.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=i.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&c&&(r[o].defaultSelected=!0)}else{for(o=""+ue(o),i=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function es(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return U({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function zs(r,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(t(92));if(gr(o)){if(1<o.length)throw Error(t(93));o=o[0]}i=o}i==null&&(i=""),o=i}r._wrapperState={initialValue:ue(o)}}function rr(r,i){var o=ue(i.value),c=ue(i.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),i.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),c!=null&&(r.defaultValue=""+c)}function jn(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Ti(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ir(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Ti(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var $r,ts=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,c,f){MSApp.execUnsafeLocalFunction(function(){return r(i,o,c,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=$r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function _t(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ci=["Webkit","ms","Moz","O"];Object.keys(sn).forEach(function(r){Ci.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),sn[i]=sn[r]})});function Ai(r,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||sn.hasOwnProperty(r)&&sn[r]?(""+i).trim():i+"px"}function rs(r,i){r=r.style;for(var o in i)if(i.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=Ai(o,i[o],c);o==="float"&&(o="cssFloat"),c?r.setProperty(o,f):r[o]=f}}var ns=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ss(r,i){if(i){if(ns[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function an(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dr=null;function Ut(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var on=null,vr=null,Kt=null;function is(r){if(r=no(r)){if(typeof on!="function")throw Error(t(280));var i=r.stateNode;i&&(i=ol(i),on(r.stateNode,r.type,i))}}function ln(r){vr?Kt?Kt.push(r):Kt=[r]:vr=r}function as(){if(vr){var r=vr,i=Kt;if(Kt=vr=null,is(r),i)for(r=0;r<i.length;r++)is(i[r])}}function os(r,i){return r(i)}function ls(){}var br=!1;function Fs(r,i,o){if(br)return r(i,o);br=!0;try{return os(r,i,o)}finally{br=!1,(vr!==null||Kt!==null)&&(ls(),as())}}function Bt(r,i){var o=r.stateNode;if(o===null)return null;var c=ol(o);if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(t(231,i,typeof o));return o}var Hs=!1;if(h)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{Hs=!1}function La(r,i,o,c,f,m,x,E,O){var B=Array.prototype.slice.call(arguments,3);try{i.apply(o,B)}catch(X){this.onError(X)}}var un=!1,cn=null,at=!1,Vs=null,Pa={onError:function(r){un=!0,cn=r}};function Ia(r,i,o,c,f,m,x,E,O){un=!1,cn=null,La.apply(Pa,arguments)}function $a(r,i,o,c,f,m,x,E,O){if(Ia.apply(this,arguments),un){if(un){var B=cn;un=!1,cn=null}else throw Error(t(198));at||(at=!0,Vs=B)}}function Mr(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function yt(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Oi(r){if(Mr(r)!==r)throw Error(t(188))}function Da(r){var i=r.alternate;if(!i){if(i=Mr(r),i===null)throw Error(t(188));return i!==r?null:r}for(var o=r,c=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return Oi(f),r;if(m===c)return Oi(f),i;m=m.sibling}throw Error(t(188))}if(o.return!==c.return)o=f,c=m;else{for(var x=!1,E=f.child;E;){if(E===o){x=!0,o=f,c=m;break}if(E===c){x=!0,c=f,o=m;break}E=E.sibling}if(!x){for(E=m.child;E;){if(E===o){x=!0,o=m,c=f;break}if(E===c){x=!0,c=m,o=f;break}E=E.sibling}if(!x)throw Error(t(189))}}if(o.alternate!==c)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?r:i}function Ri(r){return r=Da(r),r!==null?Li(r):null}function Li(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Li(r);if(i!==null)return i;r=r.sibling}return null}var Pi=e.unstable_scheduleCallback,Et=e.unstable_cancelCallback,Ma=e.unstable_shouldYield,qa=e.unstable_requestPaint,Je=e.unstable_now,Ua=e.unstable_getCurrentPriorityLevel,Ks=e.unstable_ImmediatePriority,Cn=e.unstable_UserBlockingPriority,An=e.unstable_NormalPriority,us=e.unstable_LowPriority,nr=e.unstable_IdlePriority,dn=null,Wt=null;function Ba(r){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(dn,r,void 0,(r.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:cs,za=Math.log,Fa=Math.LN2;function cs(r){return r>>>=0,r===0?32:31-(za(r)/Fa|0)|0}var hn=64,xr=4194304;function fn(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function On(r,i){var o=r.pendingLanes;if(o===0)return 0;var c=0,f=r.suspendedLanes,m=r.pingedLanes,x=o&268435455;if(x!==0){var E=x&~f;E!==0?c=fn(E):(m&=x,m!==0&&(c=fn(m)))}else x=o&~f,x!==0?c=fn(x):m!==0&&(c=fn(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=o&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)o=31-zt(i),f=1<<o,c|=r[o],i&=~f;return c}function Ha(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Va(r,i){for(var o=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes;0<m;){var x=31-zt(m),E=1<<x,O=f[x];O===-1?((E&o)===0||(E&c)!==0)&&(f[x]=Ha(E,i)):O<=i&&(r.expiredLanes|=E),m&=~E}}function Ws(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ii(){var r=hn;return hn<<=1,(hn&4194240)===0&&(hn=64),r}function Rn(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Ln(r,i,o){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-zt(i),r[i]=o}function Ka(r,i){var o=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<o;){var f=31-zt(o),m=1<<f;i[f]=0,c[f]=-1,r[f]=-1,o&=~m}}function qr(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var c=31-zt(o),f=1<<c;f&i|r[c]&i&&(r[c]|=i),o&=~f}}var Ie=0;function wr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var _r,Gs,sr,$i,Di,Js=!1,ds=[],ir=null,et=null,ar=null,pn=new Map,Nr=new Map,Gt=[],hs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mi(r,i){switch(r){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":et=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":pn.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(i.pointerId)}}function mn(r,i,o,c,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=no(i),i!==null&&Gs(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function Qs(r,i,o,c,f){switch(i){case"focusin":return ir=mn(ir,r,i,o,c,f),!0;case"dragenter":return et=mn(et,r,i,o,c,f),!0;case"mouseover":return ar=mn(ar,r,i,o,c,f),!0;case"pointerover":var m=f.pointerId;return pn.set(m,mn(pn.get(m)||null,r,i,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Nr.set(m,mn(Nr.get(m)||null,r,i,o,c,f)),!0}return!1}function Ys(r){var i=ei(r.target);if(i!==null){var o=Mr(i);if(o!==null){if(i=o.tag,i===13){if(i=yt(o),i!==null){r.blockedOn=i,Di(r.priority,function(){sr(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ft(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=De(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Dr=c,o.target.dispatchEvent(c),Dr=null}else return i=no(o),i!==null&&Gs(i),r.blockedOn=o,!1;i.shift()}return!0}function Zs(r,i,o){Ft(r)&&o.delete(i)}function Xs(){Js=!1,ir!==null&&Ft(ir)&&(ir=null),et!==null&&Ft(et)&&(et=null),ar!==null&&Ft(ar)&&(ar=null),pn.forEach(Zs),Nr.forEach(Zs)}function Pn(r,i){r.blockedOn===i&&(r.blockedOn=null,Js||(Js=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xs)))}function In(r){function i(f){return Pn(f,r)}if(0<ds.length){Pn(ds[0],r);for(var o=1;o<ds.length;o++){var c=ds[o];c.blockedOn===r&&(c.blockedOn=null)}}for(ir!==null&&Pn(ir,r),et!==null&&Pn(et,r),ar!==null&&Pn(ar,r),pn.forEach(i),Nr.forEach(i),o=0;o<Gt.length;o++)c=Gt[o],c.blockedOn===r&&(c.blockedOn=null);for(;0<Gt.length&&(o=Gt[0],o.blockedOn===null);)Ys(o),o.blockedOn===null&&Gt.shift()}var y=Y.ReactCurrentBatchConfig,_=!0;function C(r,i,o,c){var f=Ie,m=y.transition;y.transition=null;try{Ie=1,Ae(r,i,o,c)}finally{Ie=f,y.transition=m}}function H(r,i,o,c){var f=Ie,m=y.transition;y.transition=null;try{Ie=4,Ae(r,i,o,c)}finally{Ie=f,y.transition=m}}function Ae(r,i,o,c){if(_){var f=De(r,i,o,c);if(f===null)Gu(r,i,c,ge,o),Mi(r,c);else if(Qs(f,r,i,o,c))c.stopPropagation();else if(Mi(r,c),i&4&&-1<hs.indexOf(r)){for(;f!==null;){var m=no(f);if(m!==null&&_r(m),m=De(r,i,o,c),m===null&&Gu(r,i,c,ge,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else Gu(r,i,c,null,o)}}var ge=null;function De(r,i,o,c){if(ge=null,r=Ut(c),r=ei(r),r!==null)if(i=Mr(r),i===null)r=null;else if(o=i.tag,o===13){if(r=yt(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return ge=r,null}function Me(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ua()){case Ks:return 1;case Cn:return 4;case An:case us:return 16;case nr:return 536870912;default:return 16}default:return 16}}var Ve=null,Ue=null,ct=null;function jt(){if(ct)return ct;var r,i=Ue,o=i.length,c,f="value"in Ve?Ve.value:Ve.textContent,m=f.length;for(r=0;r<o&&i[r]===f[r];r++);var x=o-r;for(c=1;c<=x&&i[o-c]===f[m-c];c++);return ct=f.slice(r,1<c?1-c:void 0)}function tt(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function dt(){return!0}function ft(){return!1}function ot(r){function i(o,c,f,m,x){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(o=r[E],this[E]=o?o(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?dt:ft,this.isPropagationStopped=ft,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=dt)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=dt)},persist:function(){},isPersistent:dt}),i}var Lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=ot(Lt),fs=U({},Lt,{view:0,detail:0}),qi=ot(fs),ps,Iu,Wa,Xo=U({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Wa&&(Wa&&r.type==="mousemove"?(ps=r.screenX-Wa.screenX,Iu=r.screenY-Wa.screenY):Iu=ps=0,Wa=r),ps)},movementY:function(r){return"movementY"in r?r.movementY:Iu}}),Kh=ot(Xo),Cy=U({},Xo,{dataTransfer:0}),Ay=ot(Cy),Oy=U({},fs,{relatedTarget:0}),$u=ot(Oy),Ry=U({},Lt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ly=ot(Ry),Py=U({},Lt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Iy=ot(Py),$y=U({},Lt,{data:0}),Wh=ot($y),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},My={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uy(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=qy[r])?!!i[r]:!1}function Du(){return Uy}var By=U({},fs,{key:function(r){if(r.key){var i=Dy[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=tt(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?My[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(r){return r.type==="keypress"?tt(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?tt(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),zy=ot(By),Fy=U({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=ot(Fy),Hy=U({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),Vy=ot(Hy),Ky=U({},Lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wy=ot(Ky),Gy=U({},Xo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Jy=ot(Gy),Qy=[9,13,27,32],Mu=h&&"CompositionEvent"in window,Ga=null;h&&"documentMode"in document&&(Ga=document.documentMode);var Yy=h&&"TextEvent"in window&&!Ga,Jh=h&&(!Mu||Ga&&8<Ga&&11>=Ga),Qh=" ",Yh=!1;function Zh(r,i){switch(r){case"keyup":return Qy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ui=!1;function Zy(r,i){switch(r){case"compositionend":return Xh(i);case"keypress":return i.which!==32?null:(Yh=!0,Qh);case"textInput":return r=i.data,r===Qh&&Yh?null:r;default:return null}}function Xy(r,i){if(Ui)return r==="compositionend"||!Mu&&Zh(r,i)?(r=jt(),ct=Ue=Ve=null,Ui=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Jh&&i.locale!=="ko"?null:i.data;default:return null}}var ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ev[r.type]:i==="textarea"}function tf(r,i,o,c){ln(c),i=sl(i,"onChange"),0<i.length&&(o=new Ur("onChange","change",null,o,c),r.push({event:o,listeners:i}))}var Ja=null,Qa=null;function tv(r){xf(r,0)}function el(r){var i=Vi(r);if(Fe(i))return r}function rv(r,i){if(r==="change")return i}var rf=!1;if(h){var qu;if(h){var Uu="oninput"in document;if(!Uu){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),Uu=typeof nf.oninput=="function"}qu=Uu}else qu=!1;rf=qu&&(!document.documentMode||9<document.documentMode)}function sf(){Ja&&(Ja.detachEvent("onpropertychange",af),Qa=Ja=null)}function af(r){if(r.propertyName==="value"&&el(Qa)){var i=[];tf(i,Qa,r,Ut(r)),Fs(tv,i)}}function nv(r,i,o){r==="focusin"?(sf(),Ja=i,Qa=o,Ja.attachEvent("onpropertychange",af)):r==="focusout"&&sf()}function sv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return el(Qa)}function iv(r,i){if(r==="click")return el(i)}function av(r,i){if(r==="input"||r==="change")return el(i)}function ov(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Br=typeof Object.is=="function"?Object.is:ov;function Ya(r,i){if(Br(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!p.call(i,f)||!Br(r[f],i[f]))return!1}return!0}function of(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function lf(r,i){var o=of(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=i&&c>=i)return{node:o,offset:i-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=of(o)}}function uf(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?uf(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function cf(){for(var r=window,i=Be();i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Be(r.document)}return i}function Bu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function lv(r){var i=cf(),o=r.focusedElem,c=r.selectionRange;if(i!==o&&o&&o.ownerDocument&&uf(o.ownerDocument.documentElement,o)){if(c!==null&&Bu(o)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(r,o.value.length);else if(r=(i=o.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=o.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!r.extend&&m>c&&(f=c,c=m,m=f),f=lf(o,m);var x=lf(o,c);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),m>c?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=o;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)r=i[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var uv=h&&"documentMode"in document&&11>=document.documentMode,Bi=null,zu=null,Za=null,Fu=!1;function df(r,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fu||Bi==null||Bi!==Be(c)||(c=Bi,"selectionStart"in c&&Bu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Za&&Ya(Za,c)||(Za=c,c=sl(zu,"onSelect"),0<c.length&&(i=new Ur("onSelect","select",null,i,o),r.push({event:i,listeners:c}),i.target=Bi)))}function tl(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var zi={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},Hu={},hf={};h&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function rl(r){if(Hu[r])return Hu[r];if(!zi[r])return r;var i=zi[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in hf)return Hu[r]=i[o];return r}var ff=rl("animationend"),pf=rl("animationiteration"),mf=rl("animationstart"),gf=rl("transitionend"),yf=new Map,vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(r,i){yf.set(r,i),l(i,[r])}for(var Vu=0;Vu<vf.length;Vu++){var Ku=vf[Vu],cv=Ku.toLowerCase(),dv=Ku[0].toUpperCase()+Ku.slice(1);ms(cv,"on"+dv)}ms(ff,"onAnimationEnd"),ms(pf,"onAnimationIteration"),ms(mf,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(gf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function bf(r,i,o){var c=r.type||"unknown-event";r.currentTarget=o,$a(c,i,void 0,r),r.currentTarget=null}function xf(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var x=c.length-1;0<=x;x--){var E=c[x],O=E.instance,B=E.currentTarget;if(E=E.listener,O!==m&&f.isPropagationStopped())break e;bf(f,E,B),m=O}else for(x=0;x<c.length;x++){if(E=c[x],O=E.instance,B=E.currentTarget,E=E.listener,O!==m&&f.isPropagationStopped())break e;bf(f,E,B),m=O}}}if(at)throw r=Vs,at=!1,Vs=null,r}function Qe(r,i){var o=i[ec];o===void 0&&(o=i[ec]=new Set);var c=r+"__bubble";o.has(c)||(wf(i,r,2,!1),o.add(c))}function Wu(r,i,o){var c=0;i&&(c|=4),wf(o,r,c,i)}var nl="_reactListening"+Math.random().toString(36).slice(2);function eo(r){if(!r[nl]){r[nl]=!0,s.forEach(function(o){o!=="selectionchange"&&(hv.has(o)||Wu(o,!1,r),Wu(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[nl]||(i[nl]=!0,Wu("selectionchange",!1,i))}}function wf(r,i,o,c){switch(Me(i)){case 1:var f=C;break;case 4:f=H;break;default:f=Ae}o=f.bind(null,i,o,r),f=void 0,!Hs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(i,o,{capture:!0,passive:f}):r.addEventListener(i,o,!0):f!==void 0?r.addEventListener(i,o,{passive:f}):r.addEventListener(i,o,!1)}function Gu(r,i,o,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var E=c.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(x===4)for(x=c.return;x!==null;){var O=x.tag;if((O===3||O===4)&&(O=x.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;x=x.return}for(;E!==null;){if(x=ei(E),x===null)return;if(O=x.tag,O===5||O===6){c=m=x;continue e}E=E.parentNode}}c=c.return}Fs(function(){var B=m,X=Ut(o),ee=[];e:{var Z=yf.get(r);if(Z!==void 0){var ce=Ur,fe=r;switch(r){case"keypress":if(tt(o)===0)break e;case"keydown":case"keyup":ce=zy;break;case"focusin":fe="focus",ce=$u;break;case"focusout":fe="blur",ce=$u;break;case"beforeblur":case"afterblur":ce=$u;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Vy;break;case ff:case pf:case mf:ce=Ly;break;case gf:ce=Wy;break;case"scroll":ce=qi;break;case"wheel":ce=Jy;break;case"copy":case"cut":case"paste":ce=Iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Gh}var pe=(i&4)!==0,ht=!pe&&r==="scroll",I=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var R=B,$;R!==null;){$=R;var re=$.stateNode;if($.tag===5&&re!==null&&($=re,I!==null&&(re=Bt(R,I),re!=null&&pe.push(to(R,re,$)))),ht)break;R=R.return}0<pe.length&&(Z=new ce(Z,fe,null,o,X),ee.push({event:Z,listeners:pe}))}}if((i&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",Z&&o!==Dr&&(fe=o.relatedTarget||o.fromElement)&&(ei(fe)||fe[$n]))break e;if((ce||Z)&&(Z=X.window===X?X:(Z=X.ownerDocument)?Z.defaultView||Z.parentWindow:window,ce?(fe=o.relatedTarget||o.toElement,ce=B,fe=fe?ei(fe):null,fe!==null&&(ht=Mr(fe),fe!==ht||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=B),ce!==fe)){if(pe=Kh,re="onMouseLeave",I="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(pe=Gh,re="onPointerLeave",I="onPointerEnter",R="pointer"),ht=ce==null?Z:Vi(ce),$=fe==null?Z:Vi(fe),Z=new pe(re,R+"leave",ce,o,X),Z.target=ht,Z.relatedTarget=$,re=null,ei(X)===B&&(pe=new pe(I,R+"enter",fe,o,X),pe.target=$,pe.relatedTarget=ht,re=pe),ht=re,ce&&fe)t:{for(pe=ce,I=fe,R=0,$=pe;$;$=Fi($))R++;for($=0,re=I;re;re=Fi(re))$++;for(;0<R-$;)pe=Fi(pe),R--;for(;0<$-R;)I=Fi(I),$--;for(;R--;){if(pe===I||I!==null&&pe===I.alternate)break t;pe=Fi(pe),I=Fi(I)}pe=null}else pe=null;ce!==null&&_f(ee,Z,ce,pe,!1),fe!==null&&ht!==null&&_f(ee,ht,fe,pe,!0)}}e:{if(Z=B?Vi(B):window,ce=Z.nodeName&&Z.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Z.type==="file")var ve=rv;else if(ef(Z))if(rf)ve=av;else{ve=sv;var ke=nv}else(ce=Z.nodeName)&&ce.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ve=iv);if(ve&&(ve=ve(r,B))){tf(ee,ve,o,X);break e}ke&&ke(r,Z,B),r==="focusout"&&(ke=Z._wrapperState)&&ke.controlled&&Z.type==="number"&&Bs(Z,"number",Z.value)}switch(ke=B?Vi(B):window,r){case"focusin":(ef(ke)||ke.contentEditable==="true")&&(Bi=ke,zu=B,Za=null);break;case"focusout":Za=zu=Bi=null;break;case"mousedown":Fu=!0;break;case"contextmenu":case"mouseup":case"dragend":Fu=!1,df(ee,o,X);break;case"selectionchange":if(uv)break;case"keydown":case"keyup":df(ee,o,X)}var Se;if(Mu)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ui?Zh(r,o)&&(Oe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(Jh&&o.locale!=="ko"&&(Ui||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ui&&(Se=jt()):(Ve=X,Ue="value"in Ve?Ve.value:Ve.textContent,Ui=!0)),ke=sl(B,Oe),0<ke.length&&(Oe=new Wh(Oe,r,null,o,X),ee.push({event:Oe,listeners:ke}),Se?Oe.data=Se:(Se=Xh(o),Se!==null&&(Oe.data=Se)))),(Se=Yy?Zy(r,o):Xy(r,o))&&(B=sl(B,"onBeforeInput"),0<B.length&&(X=new Wh("onBeforeInput","beforeinput",null,o,X),ee.push({event:X,listeners:B}),X.data=Se))}xf(ee,i)})}function to(r,i,o){return{instance:r,listener:i,currentTarget:o}}function sl(r,i){for(var o=i+"Capture",c=[];r!==null;){var f=r,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=Bt(r,o),m!=null&&c.unshift(to(r,m,f)),m=Bt(r,i),m!=null&&c.push(to(r,m,f))),r=r.return}return c}function Fi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function _f(r,i,o,c,f){for(var m=i._reactName,x=[];o!==null&&o!==c;){var E=o,O=E.alternate,B=E.stateNode;if(O!==null&&O===c)break;E.tag===5&&B!==null&&(E=B,f?(O=Bt(o,m),O!=null&&x.unshift(to(o,O,E))):f||(O=Bt(o,m),O!=null&&x.push(to(o,O,E)))),o=o.return}x.length!==0&&r.push({event:i,listeners:x})}var fv=/\r\n?/g,pv=/\u0000|\uFFFD/g;function Nf(r){return(typeof r=="string"?r:""+r).replace(fv,`
`).replace(pv,"")}function il(r,i,o){if(i=Nf(i),Nf(r)!==i&&o)throw Error(t(425))}function al(){}var Ju=null,Qu=null;function Yu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zu=typeof setTimeout=="function"?setTimeout:void 0,mv=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,gv=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(r){return kf.resolve(null).then(r).catch(yv)}:Zu;function yv(r){setTimeout(function(){throw r})}function Xu(r,i){var o=i,c=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){r.removeChild(f),In(i);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);In(i)}function gs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Sf(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),gn="__reactFiber$"+Hi,ro="__reactProps$"+Hi,$n="__reactContainer$"+Hi,ec="__reactEvents$"+Hi,vv="__reactListeners$"+Hi,bv="__reactHandles$"+Hi;function ei(r){var i=r[gn];if(i)return i;for(var o=r.parentNode;o;){if(i=o[$n]||o[gn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=Sf(r);r!==null;){if(o=r[gn])return o;r=Sf(r)}return i}r=o,o=r.parentNode}return null}function no(r){return r=r[gn]||r[$n],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Vi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ol(r){return r[ro]||null}var tc=[],Ki=-1;function ys(r){return{current:r}}function Ye(r){0>Ki||(r.current=tc[Ki],tc[Ki]=null,Ki--)}function Ke(r,i){Ki++,tc[Ki]=r.current,r.current=i}var vs={},Pt=ys(vs),Jt=ys(!1),ti=vs;function Wi(r,i){var o=r.type.contextTypes;if(!o)return vs;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=i[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function Qt(r){return r=r.childContextTypes,r!=null}function ll(){Ye(Jt),Ye(Pt)}function Ef(r,i,o){if(Pt.current!==vs)throw Error(t(168));Ke(Pt,i),Ke(Jt,o)}function jf(r,i,o){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Ee(r)||"Unknown",f));return U({},o,c)}function ul(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||vs,ti=Pt.current,Ke(Pt,r),Ke(Jt,Jt.current),!0}function Tf(r,i,o){var c=r.stateNode;if(!c)throw Error(t(169));o?(r=jf(r,i,ti),c.__reactInternalMemoizedMergedChildContext=r,Ye(Jt),Ye(Pt),Ke(Pt,r)):Ye(Jt),Ke(Jt,o)}var Dn=null,cl=!1,rc=!1;function Cf(r){Dn===null?Dn=[r]:Dn.push(r)}function xv(r){cl=!0,Cf(r)}function bs(){if(!rc&&Dn!==null){rc=!0;var r=0,i=Ie;try{var o=Dn;for(Ie=1;r<o.length;r++){var c=o[r];do c=c(!0);while(c!==null)}Dn=null,cl=!1}catch(f){throw Dn!==null&&(Dn=Dn.slice(r+1)),Pi(Ks,bs),f}finally{Ie=i,rc=!1}}return null}var Gi=[],Ji=0,dl=null,hl=0,kr=[],Sr=0,ri=null,Mn=1,qn="";function ni(r,i){Gi[Ji++]=hl,Gi[Ji++]=dl,dl=r,hl=i}function Af(r,i,o){kr[Sr++]=Mn,kr[Sr++]=qn,kr[Sr++]=ri,ri=r;var c=Mn;r=qn;var f=32-zt(c)-1;c&=~(1<<f),o+=1;var m=32-zt(i)+f;if(30<m){var x=f-f%5;m=(c&(1<<x)-1).toString(32),c>>=x,f-=x,Mn=1<<32-zt(i)+f|o<<f|c,qn=m+r}else Mn=1<<m|o<<f|c,qn=r}function nc(r){r.return!==null&&(ni(r,1),Af(r,1,0))}function sc(r){for(;r===dl;)dl=Gi[--Ji],Gi[Ji]=null,hl=Gi[--Ji],Gi[Ji]=null;for(;r===ri;)ri=kr[--Sr],kr[Sr]=null,qn=kr[--Sr],kr[Sr]=null,Mn=kr[--Sr],kr[Sr]=null}var or=null,lr=null,rt=!1,zr=null;function Of(r,i){var o=Cr(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=r,i=r.deletions,i===null?(r.deletions=[o],r.flags|=16):i.push(o)}function Rf(r,i){switch(r.tag){case 5:var o=r.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,or=r,lr=gs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,or=r,lr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=ri!==null?{id:Mn,overflow:qn}:null,r.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Cr(18,null,null,0),o.stateNode=i,o.return=r,r.child=o,or=r,lr=null,!0):!1;default:return!1}}function ic(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ac(r){if(rt){var i=lr;if(i){var o=i;if(!Rf(r,i)){if(ic(r))throw Error(t(418));i=gs(o.nextSibling);var c=or;i&&Rf(r,i)?Of(c,o):(r.flags=r.flags&-4097|2,rt=!1,or=r)}}else{if(ic(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,or=r}}}function Lf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;or=r}function fl(r){if(r!==or)return!1;if(!rt)return Lf(r),rt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Yu(r.type,r.memoizedProps)),i&&(i=lr)){if(ic(r))throw Pf(),Error(t(418));for(;i;)Of(r,i),i=gs(i.nextSibling)}if(Lf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(i===0){lr=gs(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}r=r.nextSibling}lr=null}}else lr=or?gs(r.stateNode.nextSibling):null;return!0}function Pf(){for(var r=lr;r;)r=gs(r.nextSibling)}function Qi(){lr=or=null,rt=!1}function oc(r){zr===null?zr=[r]:zr.push(r)}var wv=Y.ReactCurrentBatchConfig;function so(r,i,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var c=o.stateNode}if(!c)throw Error(t(147,r));var f=c,m=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(x){var E=f.refs;x===null?delete E[m]:E[m]=x},i._stringRef=m,i)}if(typeof r!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,r))}return r}function pl(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function If(r){var i=r._init;return i(r._payload)}function $f(r){function i(I,R){if(r){var $=I.deletions;$===null?(I.deletions=[R],I.flags|=16):$.push(R)}}function o(I,R){if(!r)return null;for(;R!==null;)i(I,R),R=R.sibling;return null}function c(I,R){for(I=new Map;R!==null;)R.key!==null?I.set(R.key,R):I.set(R.index,R),R=R.sibling;return I}function f(I,R){return I=js(I,R),I.index=0,I.sibling=null,I}function m(I,R,$){return I.index=$,r?($=I.alternate,$!==null?($=$.index,$<R?(I.flags|=2,R):$):(I.flags|=2,R)):(I.flags|=1048576,R)}function x(I){return r&&I.alternate===null&&(I.flags|=2),I}function E(I,R,$,re){return R===null||R.tag!==6?(R=Zc($,I.mode,re),R.return=I,R):(R=f(R,$),R.return=I,R)}function O(I,R,$,re){var ve=$.type;return ve===me?X(I,R,$.props.children,re,$.key):R!==null&&(R.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===F&&If(ve)===R.type)?(re=f(R,$.props),re.ref=so(I,R,$),re.return=I,re):(re=Ml($.type,$.key,$.props,null,I.mode,re),re.ref=so(I,R,$),re.return=I,re)}function B(I,R,$,re){return R===null||R.tag!==4||R.stateNode.containerInfo!==$.containerInfo||R.stateNode.implementation!==$.implementation?(R=Xc($,I.mode,re),R.return=I,R):(R=f(R,$.children||[]),R.return=I,R)}function X(I,R,$,re,ve){return R===null||R.tag!==7?(R=di($,I.mode,re,ve),R.return=I,R):(R=f(R,$),R.return=I,R)}function ee(I,R,$){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Zc(""+R,I.mode,$),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case te:return $=Ml(R.type,R.key,R.props,null,I.mode,$),$.ref=so(I,null,R),$.return=I,$;case ae:return R=Xc(R,I.mode,$),R.return=I,R;case F:var re=R._init;return ee(I,re(R._payload),$)}if(gr(R)||Q(R))return R=di(R,I.mode,$,null),R.return=I,R;pl(I,R)}return null}function Z(I,R,$,re){var ve=R!==null?R.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ve!==null?null:E(I,R,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case te:return $.key===ve?O(I,R,$,re):null;case ae:return $.key===ve?B(I,R,$,re):null;case F:return ve=$._init,Z(I,R,ve($._payload),re)}if(gr($)||Q($))return ve!==null?null:X(I,R,$,re,null);pl(I,$)}return null}function ce(I,R,$,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number")return I=I.get($)||null,E(R,I,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case te:return I=I.get(re.key===null?$:re.key)||null,O(R,I,re,ve);case ae:return I=I.get(re.key===null?$:re.key)||null,B(R,I,re,ve);case F:var ke=re._init;return ce(I,R,$,ke(re._payload),ve)}if(gr(re)||Q(re))return I=I.get($)||null,X(R,I,re,ve,null);pl(R,re)}return null}function fe(I,R,$,re){for(var ve=null,ke=null,Se=R,Oe=R=0,St=null;Se!==null&&Oe<$.length;Oe++){Se.index>Oe?(St=Se,Se=null):St=Se.sibling;var He=Z(I,Se,$[Oe],re);if(He===null){Se===null&&(Se=St);break}r&&Se&&He.alternate===null&&i(I,Se),R=m(He,R,Oe),ke===null?ve=He:ke.sibling=He,ke=He,Se=St}if(Oe===$.length)return o(I,Se),rt&&ni(I,Oe),ve;if(Se===null){for(;Oe<$.length;Oe++)Se=ee(I,$[Oe],re),Se!==null&&(R=m(Se,R,Oe),ke===null?ve=Se:ke.sibling=Se,ke=Se);return rt&&ni(I,Oe),ve}for(Se=c(I,Se);Oe<$.length;Oe++)St=ce(Se,I,Oe,$[Oe],re),St!==null&&(r&&St.alternate!==null&&Se.delete(St.key===null?Oe:St.key),R=m(St,R,Oe),ke===null?ve=St:ke.sibling=St,ke=St);return r&&Se.forEach(function(Ts){return i(I,Ts)}),rt&&ni(I,Oe),ve}function pe(I,R,$,re){var ve=Q($);if(typeof ve!="function")throw Error(t(150));if($=ve.call($),$==null)throw Error(t(151));for(var ke=ve=null,Se=R,Oe=R=0,St=null,He=$.next();Se!==null&&!He.done;Oe++,He=$.next()){Se.index>Oe?(St=Se,Se=null):St=Se.sibling;var Ts=Z(I,Se,He.value,re);if(Ts===null){Se===null&&(Se=St);break}r&&Se&&Ts.alternate===null&&i(I,Se),R=m(Ts,R,Oe),ke===null?ve=Ts:ke.sibling=Ts,ke=Ts,Se=St}if(He.done)return o(I,Se),rt&&ni(I,Oe),ve;if(Se===null){for(;!He.done;Oe++,He=$.next())He=ee(I,He.value,re),He!==null&&(R=m(He,R,Oe),ke===null?ve=He:ke.sibling=He,ke=He);return rt&&ni(I,Oe),ve}for(Se=c(I,Se);!He.done;Oe++,He=$.next())He=ce(Se,I,Oe,He.value,re),He!==null&&(r&&He.alternate!==null&&Se.delete(He.key===null?Oe:He.key),R=m(He,R,Oe),ke===null?ve=He:ke.sibling=He,ke=He);return r&&Se.forEach(function(e1){return i(I,e1)}),rt&&ni(I,Oe),ve}function ht(I,R,$,re){if(typeof $=="object"&&$!==null&&$.type===me&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case te:e:{for(var ve=$.key,ke=R;ke!==null;){if(ke.key===ve){if(ve=$.type,ve===me){if(ke.tag===7){o(I,ke.sibling),R=f(ke,$.props.children),R.return=I,I=R;break e}}else if(ke.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===F&&If(ve)===ke.type){o(I,ke.sibling),R=f(ke,$.props),R.ref=so(I,ke,$),R.return=I,I=R;break e}o(I,ke);break}else i(I,ke);ke=ke.sibling}$.type===me?(R=di($.props.children,I.mode,re,$.key),R.return=I,I=R):(re=Ml($.type,$.key,$.props,null,I.mode,re),re.ref=so(I,R,$),re.return=I,I=re)}return x(I);case ae:e:{for(ke=$.key;R!==null;){if(R.key===ke)if(R.tag===4&&R.stateNode.containerInfo===$.containerInfo&&R.stateNode.implementation===$.implementation){o(I,R.sibling),R=f(R,$.children||[]),R.return=I,I=R;break e}else{o(I,R);break}else i(I,R);R=R.sibling}R=Xc($,I.mode,re),R.return=I,I=R}return x(I);case F:return ke=$._init,ht(I,R,ke($._payload),re)}if(gr($))return fe(I,R,$,re);if(Q($))return pe(I,R,$,re);pl(I,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,R!==null&&R.tag===6?(o(I,R.sibling),R=f(R,$),R.return=I,I=R):(o(I,R),R=Zc($,I.mode,re),R.return=I,I=R),x(I)):o(I,R)}return ht}var Yi=$f(!0),Df=$f(!1),ml=ys(null),gl=null,Zi=null,lc=null;function uc(){lc=Zi=gl=null}function cc(r){var i=ml.current;Ye(ml),r._currentValue=i}function dc(r,i,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===o)break;r=r.return}}function Xi(r,i){gl=r,lc=Zi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Yt=!0),r.firstContext=null)}function Er(r){var i=r._currentValue;if(lc!==r)if(r={context:r,memoizedValue:i,next:null},Zi===null){if(gl===null)throw Error(t(308));Zi=r,gl.dependencies={lanes:0,firstContext:r}}else Zi=Zi.next=r;return i}var si=null;function hc(r){si===null?si=[r]:si.push(r)}function Mf(r,i,o,c){var f=i.interleaved;return f===null?(o.next=o,hc(i)):(o.next=f.next,f.next=o),i.interleaved=o,Un(r,c)}function Un(r,i){r.lanes|=i;var o=r.alternate;for(o!==null&&(o.lanes|=i),o=r,r=r.return;r!==null;)r.childLanes|=i,o=r.alternate,o!==null&&(o.childLanes|=i),o=r,r=r.return;return o.tag===3?o.stateNode:null}var xs=!1;function fc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Bn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ws(r,i,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ze&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Un(r,o)}return f=c.interleaved,f===null?(i.next=i,hc(c)):(i.next=f.next,f.next=i),c.interleaved=i,Un(r,o)}function yl(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,qr(r,o)}}function Uf(r,i){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var x={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=x:m=m.next=x,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}function vl(r,i,o,c){var f=r.updateQueue;xs=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,B=O.next;O.next=null,x===null?m=B:x.next=B,x=O;var X=r.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==x&&(E===null?X.firstBaseUpdate=B:E.next=B,X.lastBaseUpdate=O))}if(m!==null){var ee=f.baseState;x=0,X=B=O=null,E=m;do{var Z=E.lane,ce=E.eventTime;if((c&Z)===Z){X!==null&&(X=X.next={eventTime:ce,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var fe=r,pe=E;switch(Z=i,ce=o,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ee=fe.call(ce,ee,Z);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,Z=typeof fe=="function"?fe.call(ce,ee,Z):fe,Z==null)break e;ee=U({},ee,Z);break e;case 2:xs=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[E]:Z.push(E))}else ce={eventTime:ce,lane:Z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?(B=X=ce,O=ee):X=X.next=ce,x|=Z;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;Z=E,E=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(X===null&&(O=ee),f.baseState=O,f.firstBaseUpdate=B,f.lastBaseUpdate=X,i=f.shared.interleaved,i!==null){f=i;do x|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);oi|=x,r.lanes=x,r.memoizedState=ee}}function Bf(r,i,o){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var io={},yn=ys(io),ao=ys(io),oo=ys(io);function ii(r){if(r===io)throw Error(t(174));return r}function pc(r,i){switch(Ke(oo,i),Ke(ao,r),Ke(yn,io),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ir(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ir(i,r)}Ye(yn),Ke(yn,i)}function ea(){Ye(yn),Ye(ao),Ye(oo)}function zf(r){ii(oo.current);var i=ii(yn.current),o=Ir(i,r.type);i!==o&&(Ke(ao,r),Ke(yn,o))}function mc(r){ao.current===r&&(Ye(yn),Ye(ao))}var nt=ys(0);function bl(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gc=[];function yc(){for(var r=0;r<gc.length;r++)gc[r]._workInProgressVersionPrimary=null;gc.length=0}var xl=Y.ReactCurrentDispatcher,vc=Y.ReactCurrentBatchConfig,ai=0,st=null,vt=null,Nt=null,wl=!1,lo=!1,uo=0,_v=0;function It(){throw Error(t(321))}function bc(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Br(r[o],i[o]))return!1;return!0}function xc(r,i,o,c,f,m){if(ai=m,st=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,xl.current=r===null||r.memoizedState===null?Ev:jv,r=o(c,f),lo){m=0;do{if(lo=!1,uo=0,25<=m)throw Error(t(301));m+=1,Nt=vt=null,i.updateQueue=null,xl.current=Tv,r=o(c,f)}while(lo)}if(xl.current=kl,i=vt!==null&&vt.next!==null,ai=0,Nt=vt=st=null,wl=!1,i)throw Error(t(300));return r}function wc(){var r=uo!==0;return uo=0,r}function vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?st.memoizedState=Nt=r:Nt=Nt.next=r,Nt}function jr(){if(vt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var i=Nt===null?st.memoizedState:Nt.next;if(i!==null)Nt=i,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Nt===null?st.memoizedState=Nt=r:Nt=Nt.next=r}return Nt}function co(r,i){return typeof i=="function"?i(r):i}function _c(r){var i=jr(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=r;var c=vt,f=c.baseQueue,m=o.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}c.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,c=c.baseState;var E=x=null,O=null,B=m;do{var X=B.lane;if((ai&X)===X)O!==null&&(O=O.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:r(c,B.action);else{var ee={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};O===null?(E=O=ee,x=c):O=O.next=ee,st.lanes|=X,oi|=X}B=B.next}while(B!==null&&B!==m);O===null?x=c:O.next=E,Br(c,i.memoizedState)||(Yt=!0),i.memoizedState=c,i.baseState=x,i.baseQueue=O,o.lastRenderedState=c}if(r=o.interleaved,r!==null){f=r;do m=f.lane,st.lanes|=m,oi|=m,f=f.next;while(f!==r)}else f===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function Nc(r){var i=jr(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=r;var c=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var x=f=f.next;do m=r(m,x.action),x=x.next;while(x!==f);Br(m,i.memoizedState)||(Yt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,c]}function Ff(){}function Hf(r,i){var o=st,c=jr(),f=i(),m=!Br(c.memoizedState,f);if(m&&(c.memoizedState=f,Yt=!0),c=c.queue,kc(Wf.bind(null,o,c,r),[r]),c.getSnapshot!==i||m||Nt!==null&&Nt.memoizedState.tag&1){if(o.flags|=2048,ho(9,Kf.bind(null,o,c,f,i),void 0,null),kt===null)throw Error(t(349));(ai&30)!==0||Vf(o,i,f)}return f}function Vf(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=st.updateQueue,i===null?(i={lastEffect:null,stores:null},st.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function Kf(r,i,o,c){i.value=o,i.getSnapshot=c,Gf(i)&&Jf(r)}function Wf(r,i,o){return o(function(){Gf(i)&&Jf(r)})}function Gf(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Br(r,o)}catch{return!0}}function Jf(r){var i=Un(r,1);i!==null&&Kr(i,r,1,-1)}function Qf(r){var i=vn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:r},i.queue=r,r=r.dispatch=Sv.bind(null,st,r),[i.memoizedState,r]}function ho(r,i,o,c){return r={tag:r,create:i,destroy:o,deps:c,next:null},i=st.updateQueue,i===null?(i={lastEffect:null,stores:null},st.updateQueue=i,i.lastEffect=r.next=r):(o=i.lastEffect,o===null?i.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,i.lastEffect=r)),r}function Yf(){return jr().memoizedState}function _l(r,i,o,c){var f=vn();st.flags|=r,f.memoizedState=ho(1|i,o,void 0,c===void 0?null:c)}function Nl(r,i,o,c){var f=jr();c=c===void 0?null:c;var m=void 0;if(vt!==null){var x=vt.memoizedState;if(m=x.destroy,c!==null&&bc(c,x.deps)){f.memoizedState=ho(i,o,m,c);return}}st.flags|=r,f.memoizedState=ho(1|i,o,m,c)}function Zf(r,i){return _l(8390656,8,r,i)}function kc(r,i){return Nl(2048,8,r,i)}function Xf(r,i){return Nl(4,2,r,i)}function ep(r,i){return Nl(4,4,r,i)}function tp(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function rp(r,i,o){return o=o!=null?o.concat([r]):null,Nl(4,4,tp.bind(null,i,r),o)}function Sc(){}function np(r,i){var o=jr();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&bc(i,c[1])?c[0]:(o.memoizedState=[r,i],r)}function sp(r,i){var o=jr();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&bc(i,c[1])?c[0]:(r=r(),o.memoizedState=[r,i],r)}function ip(r,i,o){return(ai&21)===0?(r.baseState&&(r.baseState=!1,Yt=!0),r.memoizedState=o):(Br(o,i)||(o=Ii(),st.lanes|=o,oi|=o,r.baseState=!0),i)}function Nv(r,i){var o=Ie;Ie=o!==0&&4>o?o:4,r(!0);var c=vc.transition;vc.transition={};try{r(!1),i()}finally{Ie=o,vc.transition=c}}function ap(){return jr().memoizedState}function kv(r,i,o){var c=Ss(r);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},op(r))lp(i,o);else if(o=Mf(r,i,o,c),o!==null){var f=Vt();Kr(o,r,c,f),up(o,i,c)}}function Sv(r,i,o){var c=Ss(r),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(op(r))lp(i,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var x=i.lastRenderedState,E=m(x,o);if(f.hasEagerState=!0,f.eagerState=E,Br(E,x)){var O=i.interleaved;O===null?(f.next=f,hc(i)):(f.next=O.next,O.next=f),i.interleaved=f;return}}catch{}finally{}o=Mf(r,i,f,c),o!==null&&(f=Vt(),Kr(o,r,c,f),up(o,i,c))}}function op(r){var i=r.alternate;return r===st||i!==null&&i===st}function lp(r,i){lo=wl=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function up(r,i,o){if((o&4194240)!==0){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,qr(r,o)}}var kl={readContext:Er,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},Ev={readContext:Er,useCallback:function(r,i){return vn().memoizedState=[r,i===void 0?null:i],r},useContext:Er,useEffect:Zf,useImperativeHandle:function(r,i,o){return o=o!=null?o.concat([r]):null,_l(4194308,4,tp.bind(null,i,r),o)},useLayoutEffect:function(r,i){return _l(4194308,4,r,i)},useInsertionEffect:function(r,i){return _l(4,2,r,i)},useMemo:function(r,i){var o=vn();return i=i===void 0?null:i,r=r(),o.memoizedState=[r,i],r},useReducer:function(r,i,o){var c=vn();return i=o!==void 0?o(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=kv.bind(null,st,r),[c.memoizedState,r]},useRef:function(r){var i=vn();return r={current:r},i.memoizedState=r},useState:Qf,useDebugValue:Sc,useDeferredValue:function(r){return vn().memoizedState=r},useTransition:function(){var r=Qf(!1),i=r[0];return r=Nv.bind(null,r[1]),vn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,o){var c=st,f=vn();if(rt){if(o===void 0)throw Error(t(407));o=o()}else{if(o=i(),kt===null)throw Error(t(349));(ai&30)!==0||Vf(c,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,Zf(Wf.bind(null,c,m,r),[r]),c.flags|=2048,ho(9,Kf.bind(null,c,m,o,i),void 0,null),o},useId:function(){var r=vn(),i=kt.identifierPrefix;if(rt){var o=qn,c=Mn;o=(c&~(1<<32-zt(c)-1)).toString(32)+o,i=":"+i+"R"+o,o=uo++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=_v++,i=":"+i+"r"+o.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},jv={readContext:Er,useCallback:np,useContext:Er,useEffect:kc,useImperativeHandle:rp,useInsertionEffect:Xf,useLayoutEffect:ep,useMemo:sp,useReducer:_c,useRef:Yf,useState:function(){return _c(co)},useDebugValue:Sc,useDeferredValue:function(r){var i=jr();return ip(i,vt.memoizedState,r)},useTransition:function(){var r=_c(co)[0],i=jr().memoizedState;return[r,i]},useMutableSource:Ff,useSyncExternalStore:Hf,useId:ap,unstable_isNewReconciler:!1},Tv={readContext:Er,useCallback:np,useContext:Er,useEffect:kc,useImperativeHandle:rp,useInsertionEffect:Xf,useLayoutEffect:ep,useMemo:sp,useReducer:Nc,useRef:Yf,useState:function(){return Nc(co)},useDebugValue:Sc,useDeferredValue:function(r){var i=jr();return vt===null?i.memoizedState=r:ip(i,vt.memoizedState,r)},useTransition:function(){var r=Nc(co)[0],i=jr().memoizedState;return[r,i]},useMutableSource:Ff,useSyncExternalStore:Hf,useId:ap,unstable_isNewReconciler:!1};function Fr(r,i){if(r&&r.defaultProps){i=U({},i),r=r.defaultProps;for(var o in r)i[o]===void 0&&(i[o]=r[o]);return i}return i}function Ec(r,i,o,c){i=r.memoizedState,o=o(c,i),o=o==null?i:U({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Sl={isMounted:function(r){return(r=r._reactInternals)?Mr(r)===r:!1},enqueueSetState:function(r,i,o){r=r._reactInternals;var c=Vt(),f=Ss(r),m=Bn(c,f);m.payload=i,o!=null&&(m.callback=o),i=ws(r,m,f),i!==null&&(Kr(i,r,f,c),yl(i,r,f))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var c=Vt(),f=Ss(r),m=Bn(c,f);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=ws(r,m,f),i!==null&&(Kr(i,r,f,c),yl(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Vt(),c=Ss(r),f=Bn(o,c);f.tag=2,i!=null&&(f.callback=i),i=ws(r,f,c),i!==null&&(Kr(i,r,c,o),yl(i,r,c))}};function cp(r,i,o,c,f,m,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,x):i.prototype&&i.prototype.isPureReactComponent?!Ya(o,c)||!Ya(f,m):!0}function dp(r,i,o){var c=!1,f=vs,m=i.contextType;return typeof m=="object"&&m!==null?m=Er(m):(f=Qt(i)?ti:Pt.current,c=i.contextTypes,m=(c=c!=null)?Wi(r,f):vs),i=new i(o,m),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Sl,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=m),i}function hp(r,i,o,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==r&&Sl.enqueueReplaceState(i,i.state,null)}function jc(r,i,o,c){var f=r.stateNode;f.props=o,f.state=r.memoizedState,f.refs={},fc(r);var m=i.contextType;typeof m=="object"&&m!==null?f.context=Er(m):(m=Qt(i)?ti:Pt.current,f.context=Wi(r,m)),f.state=r.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Ec(r,i,m,o),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Sl.enqueueReplaceState(f,f.state,null),vl(r,o,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ta(r,i){try{var o="",c=i;do o+=ne(c),c=c.return;while(c);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:i,stack:f,digest:null}}function Tc(r,i,o){return{value:r,source:null,stack:o??null,digest:i??null}}function Cc(r,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Cv=typeof WeakMap=="function"?WeakMap:Map;function fp(r,i,o){o=Bn(-1,o),o.tag=3,o.payload={element:null};var c=i.value;return o.callback=function(){Rl||(Rl=!0,Hc=c),Cc(r,i)},o}function pp(r,i,o){o=Bn(-1,o),o.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;o.payload=function(){return c(f)},o.callback=function(){Cc(r,i)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Cc(r,i),typeof c!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),o}function mp(r,i,o){var c=r.pingCache;if(c===null){c=r.pingCache=new Cv;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(f.add(o),r=Fv.bind(null,r,i,o),i.then(r,r))}function gp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function yp(r,i,o,c,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=Bn(-1,1),i.tag=2,ws(o,i,1))),o.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var Av=Y.ReactCurrentOwner,Yt=!1;function Ht(r,i,o,c){i.child=r===null?Df(i,null,o,c):Yi(i,r.child,o,c)}function vp(r,i,o,c,f){o=o.render;var m=i.ref;return Xi(i,f),c=xc(r,i,o,c,m,f),o=wc(),r!==null&&!Yt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,zn(r,i,f)):(rt&&o&&nc(i),i.flags|=1,Ht(r,i,c,f),i.child)}function bp(r,i,o,c,f){if(r===null){var m=o.type;return typeof m=="function"&&!Yc(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=m,xp(r,i,m,c,f)):(r=Ml(o.type,null,c,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,(r.lanes&f)===0){var x=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ya,o(x,c)&&r.ref===i.ref)return zn(r,i,f)}return i.flags|=1,r=js(m,c),r.ref=i.ref,r.return=i,i.child=r}function xp(r,i,o,c,f){if(r!==null){var m=r.memoizedProps;if(Ya(m,c)&&r.ref===i.ref)if(Yt=!1,i.pendingProps=c=m,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Yt=!0);else return i.lanes=r.lanes,zn(r,i,f)}return Ac(r,i,o,c,f)}function wp(r,i,o){var c=i.pendingProps,f=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(na,ur),ur|=o;else{if((o&1073741824)===0)return r=m!==null?m.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ke(na,ur),ur|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,Ke(na,ur),ur|=c}else m!==null?(c=m.baseLanes|o,i.memoizedState=null):c=o,Ke(na,ur),ur|=c;return Ht(r,i,f,o),i.child}function _p(r,i){var o=i.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function Ac(r,i,o,c,f){var m=Qt(o)?ti:Pt.current;return m=Wi(i,m),Xi(i,f),o=xc(r,i,o,c,m,f),c=wc(),r!==null&&!Yt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,zn(r,i,f)):(rt&&c&&nc(i),i.flags|=1,Ht(r,i,o,f),i.child)}function Np(r,i,o,c,f){if(Qt(o)){var m=!0;ul(i)}else m=!1;if(Xi(i,f),i.stateNode===null)jl(r,i),dp(i,o,c),jc(i,o,c,f),c=!0;else if(r===null){var x=i.stateNode,E=i.memoizedProps;x.props=E;var O=x.context,B=o.contextType;typeof B=="object"&&B!==null?B=Er(B):(B=Qt(o)?ti:Pt.current,B=Wi(i,B));var X=o.getDerivedStateFromProps,ee=typeof X=="function"||typeof x.getSnapshotBeforeUpdate=="function";ee||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==c||O!==B)&&hp(i,x,c,B),xs=!1;var Z=i.memoizedState;x.state=Z,vl(i,c,x,f),O=i.memoizedState,E!==c||Z!==O||Jt.current||xs?(typeof X=="function"&&(Ec(i,o,X,c),O=i.memoizedState),(E=xs||cp(i,o,E,c,Z,O,B))?(ee||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=O),x.props=c,x.state=O,x.context=B,c=E):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{x=i.stateNode,qf(r,i),E=i.memoizedProps,B=i.type===i.elementType?E:Fr(i.type,E),x.props=B,ee=i.pendingProps,Z=x.context,O=o.contextType,typeof O=="object"&&O!==null?O=Er(O):(O=Qt(o)?ti:Pt.current,O=Wi(i,O));var ce=o.getDerivedStateFromProps;(X=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==ee||Z!==O)&&hp(i,x,c,O),xs=!1,Z=i.memoizedState,x.state=Z,vl(i,c,x,f);var fe=i.memoizedState;E!==ee||Z!==fe||Jt.current||xs?(typeof ce=="function"&&(Ec(i,o,ce,c),fe=i.memoizedState),(B=xs||cp(i,o,B,c,Z,fe,O)||!1)?(X||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,fe,O),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,fe,O)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=fe),x.props=c,x.state=fe,x.context=O,c=B):(typeof x.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),c=!1)}return Oc(r,i,o,c,m,f)}function Oc(r,i,o,c,f,m){_p(r,i);var x=(i.flags&128)!==0;if(!c&&!x)return f&&Tf(i,o,!1),zn(r,i,m);c=i.stateNode,Av.current=i;var E=x&&typeof o.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&x?(i.child=Yi(i,r.child,null,m),i.child=Yi(i,null,E,m)):Ht(r,i,E,m),i.memoizedState=c.state,f&&Tf(i,o,!0),i.child}function kp(r){var i=r.stateNode;i.pendingContext?Ef(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Ef(r,i.context,!1),pc(r,i.containerInfo)}function Sp(r,i,o,c,f){return Qi(),oc(f),i.flags|=256,Ht(r,i,o,c),i.child}var Rc={dehydrated:null,treeContext:null,retryLane:0};function Lc(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ep(r,i,o){var c=i.pendingProps,f=nt.current,m=!1,x=(i.flags&128)!==0,E;if((E=x)||(E=r!==null&&r.memoizedState===null?!1:(f&2)!==0),E?(m=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ke(nt,f&1),r===null)return ac(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=c.children,r=c.fallback,m?(c=i.mode,m=i.child,x={mode:"hidden",children:x},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=ql(x,c,0,null),r=di(r,c,o,null),m.return=i,r.return=i,m.sibling=r,i.child=m,i.child.memoizedState=Lc(o),i.memoizedState=Rc,r):Pc(i,x));if(f=r.memoizedState,f!==null&&(E=f.dehydrated,E!==null))return Ov(r,i,x,c,E,f,o);if(m){m=c.fallback,x=i.mode,f=r.child,E=f.sibling;var O={mode:"hidden",children:c.children};return(x&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=O,i.deletions=null):(c=js(f,O),c.subtreeFlags=f.subtreeFlags&14680064),E!==null?m=js(E,m):(m=di(m,x,o,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,x=r.child.memoizedState,x=x===null?Lc(o):{baseLanes:x.baseLanes|o,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=r.childLanes&~o,i.memoizedState=Rc,c}return m=r.child,r=m.sibling,c=js(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=o),c.return=i,c.sibling=null,r!==null&&(o=i.deletions,o===null?(i.deletions=[r],i.flags|=16):o.push(r)),i.child=c,i.memoizedState=null,c}function Pc(r,i){return i=ql({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function El(r,i,o,c){return c!==null&&oc(c),Yi(i,r.child,null,o),r=Pc(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ov(r,i,o,c,f,m,x){if(o)return i.flags&256?(i.flags&=-257,c=Tc(Error(t(422))),El(r,i,x,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=ql({mode:"visible",children:c.children},f,0,null),m=di(m,f,x,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&Yi(i,r.child,null,x),i.child.memoizedState=Lc(x),i.memoizedState=Rc,m);if((i.mode&1)===0)return El(r,i,x,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var E=c.dgst;return c=E,m=Error(t(419)),c=Tc(m,c,void 0),El(r,i,x,c)}if(E=(x&r.childLanes)!==0,Yt||E){if(c=kt,c!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|x))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Un(r,f),Kr(c,r,f,-1))}return Qc(),c=Tc(Error(t(421))),El(r,i,x,c)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=Hv.bind(null,r),f._reactRetry=i,null):(r=m.treeContext,lr=gs(f.nextSibling),or=i,rt=!0,zr=null,r!==null&&(kr[Sr++]=Mn,kr[Sr++]=qn,kr[Sr++]=ri,Mn=r.id,qn=r.overflow,ri=i),i=Pc(i,c.children),i.flags|=4096,i)}function jp(r,i,o){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),dc(r.return,i,o)}function Ic(r,i,o,c,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=f)}function Tp(r,i,o){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(Ht(r,i,c.children,o),c=nt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jp(r,o,i);else if(r.tag===19)jp(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Ke(nt,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(o=i.child,f=null;o!==null;)r=o.alternate,r!==null&&bl(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Ic(i,!1,f,o,m);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&bl(r)===null){i.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Ic(i,!0,o,null,m);break;case"together":Ic(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jl(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function zn(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),oi|=i.lanes,(o&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,o=js(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=js(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Rv(r,i,o){switch(i.tag){case 3:kp(i),Qi();break;case 5:zf(i);break;case 1:Qt(i.type)&&ul(i);break;case 4:pc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Ke(ml,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ke(nt,nt.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?Ep(r,i,o):(Ke(nt,nt.current&1),r=zn(r,i,o),r!==null?r.sibling:null);Ke(nt,nt.current&1);break;case 19:if(c=(o&i.childLanes)!==0,(r.flags&128)!==0){if(c)return Tp(r,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(nt,nt.current),c)break;return null;case 22:case 23:return i.lanes=0,wp(r,i,o)}return zn(r,i,o)}var Cp,$c,Ap,Op;Cp=function(r,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},$c=function(){},Ap=function(r,i,o,c){var f=r.memoizedProps;if(f!==c){r=i.stateNode,ii(yn.current);var m=null;switch(o){case"input":f=Xe(r,f),c=Xe(r,c),m=[];break;case"select":f=U({},f,{value:void 0}),c=U({},c,{value:void 0}),m=[];break;case"textarea":f=es(r,f),c=es(r,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=al)}ss(o,c);var x;o=null;for(B in f)if(!c.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var E=f[B];for(x in E)E.hasOwnProperty(x)&&(o||(o={}),o[x]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var O=c[B];if(E=f!=null?f[B]:void 0,c.hasOwnProperty(B)&&O!==E&&(O!=null||E!=null))if(B==="style")if(E){for(x in E)!E.hasOwnProperty(x)||O&&O.hasOwnProperty(x)||(o||(o={}),o[x]="");for(x in O)O.hasOwnProperty(x)&&E[x]!==O[x]&&(o||(o={}),o[x]=O[x])}else o||(m||(m=[]),m.push(B,o)),o=O;else B==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(m=m||[]).push(B,O)):B==="children"?typeof O!="string"&&typeof O!="number"||(m=m||[]).push(B,""+O):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(O!=null&&B==="onScroll"&&Qe("scroll",r),m||E===O||(m=[])):(m=m||[]).push(B,O))}o&&(m=m||[]).push("style",o);var B=m;(i.updateQueue=B)&&(i.flags|=4)}},Op=function(r,i,o,c){o!==c&&(i.flags|=4)};function fo(r,i){if(!rt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function $t(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(i)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=o,i}function Lv(r,i,o){var c=i.pendingProps;switch(sc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(i),null;case 1:return Qt(i.type)&&ll(),$t(i),null;case 3:return c=i.stateNode,ea(),Ye(Jt),Ye(Pt),yc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(fl(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zr!==null&&(Wc(zr),zr=null))),$c(r,i),$t(i),null;case 5:mc(i);var f=ii(oo.current);if(o=i.type,r!==null&&i.stateNode!=null)Ap(r,i,o,c,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return $t(i),null}if(r=ii(yn.current),fl(i)){c=i.stateNode,o=i.type;var m=i.memoizedProps;switch(c[gn]=i,c[ro]=m,r=(i.mode&1)!==0,o){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(f=0;f<Xa.length;f++)Qe(Xa[f],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":gt(c,m),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Qe("invalid",c);break;case"textarea":zs(c,m),Qe("invalid",c)}ss(o,m),f=null;for(var x in m)if(m.hasOwnProperty(x)){var E=m[x];x==="children"?typeof E=="string"?c.textContent!==E&&(m.suppressHydrationWarning!==!0&&il(c.textContent,E,r),f=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(m.suppressHydrationWarning!==!0&&il(c.textContent,E,r),f=["children",""+E]):a.hasOwnProperty(x)&&E!=null&&x==="onScroll"&&Qe("scroll",c)}switch(o){case"input":qe(c),ji(c,m,!0);break;case"textarea":qe(c),jn(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=al)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ti(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=x.createElement(o,{is:c.is}):(r=x.createElement(o),o==="select"&&(x=r,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):r=x.createElementNS(r,o),r[gn]=i,r[ro]=c,Cp(r,i,!1,!1),i.stateNode=r;e:{switch(x=an(o,c),o){case"dialog":Qe("cancel",r),Qe("close",r),f=c;break;case"iframe":case"object":case"embed":Qe("load",r),f=c;break;case"video":case"audio":for(f=0;f<Xa.length;f++)Qe(Xa[f],r);f=c;break;case"source":Qe("error",r),f=c;break;case"img":case"image":case"link":Qe("error",r),Qe("load",r),f=c;break;case"details":Qe("toggle",r),f=c;break;case"input":gt(r,c),f=Xe(r,c),Qe("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=U({},c,{value:void 0}),Qe("invalid",r);break;case"textarea":zs(r,c),f=es(r,c),Qe("invalid",r);break;default:f=c}ss(o,f),E=f;for(m in E)if(E.hasOwnProperty(m)){var O=E[m];m==="style"?rs(r,O):m==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ts(r,O)):m==="children"?typeof O=="string"?(o!=="textarea"||O!=="")&&_t(r,O):typeof O=="number"&&_t(r,""+O):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?O!=null&&m==="onScroll"&&Qe("scroll",r):O!=null&&q(r,m,O,x))}switch(o){case"input":qe(r),ji(r,c,!1);break;case"textarea":qe(r),jn(r);break;case"option":c.value!=null&&r.setAttribute("value",""+ue(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?yr(r,!!c.multiple,m,!1):c.defaultValue!=null&&yr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=al)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return $t(i),null;case 6:if(r&&i.stateNode!=null)Op(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(o=ii(oo.current),ii(yn.current),fl(i)){if(c=i.stateNode,o=i.memoizedProps,c[gn]=i,(m=c.nodeValue!==o)&&(r=or,r!==null))switch(r.tag){case 3:il(c.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&il(c.nodeValue,o,(r.mode&1)!==0)}m&&(i.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[gn]=i,i.stateNode=c}return $t(i),null;case 13:if(Ye(nt),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&lr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Pf(),Qi(),i.flags|=98560,m=!1;else if(m=fl(i),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[gn]=i}else Qi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$t(i),m=!1}else zr!==null&&(Wc(zr),zr=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=o,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(nt.current&1)!==0?bt===0&&(bt=3):Qc())),i.updateQueue!==null&&(i.flags|=4),$t(i),null);case 4:return ea(),$c(r,i),r===null&&eo(i.stateNode.containerInfo),$t(i),null;case 10:return cc(i.type._context),$t(i),null;case 17:return Qt(i.type)&&ll(),$t(i),null;case 19:if(Ye(nt),m=i.memoizedState,m===null)return $t(i),null;if(c=(i.flags&128)!==0,x=m.rendering,x===null)if(c)fo(m,!1);else{if(bt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=bl(r),x!==null){for(i.flags|=128,fo(m,!1),c=x.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=o,o=i.child;o!==null;)m=o,r=c,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,r=x.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return Ke(nt,nt.current&1|2),i.child}r=r.sibling}m.tail!==null&&Je()>sa&&(i.flags|=128,c=!0,fo(m,!1),i.lanes=4194304)}else{if(!c)if(r=bl(x),r!==null){if(i.flags|=128,c=!0,o=r.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),fo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!rt)return $t(i),null}else 2*Je()-m.renderingStartTime>sa&&o!==1073741824&&(i.flags|=128,c=!0,fo(m,!1),i.lanes=4194304);m.isBackwards?(x.sibling=i.child,i.child=x):(o=m.last,o!==null?o.sibling=x:i.child=x,m.last=x)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Je(),i.sibling=null,o=nt.current,Ke(nt,c?o&1|2:o&1),i):($t(i),null);case 22:case 23:return Jc(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(ur&1073741824)!==0&&($t(i),i.subtreeFlags&6&&(i.flags|=8192)):$t(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Pv(r,i){switch(sc(i),i.tag){case 1:return Qt(i.type)&&ll(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ea(),Ye(Jt),Ye(Pt),yc(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return mc(i),null;case 13:if(Ye(nt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Qi()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ye(nt),null;case 4:return ea(),null;case 10:return cc(i.type._context),null;case 22:case 23:return Jc(),null;case 24:return null;default:return null}}var Tl=!1,Dt=!1,Iv=typeof WeakSet=="function"?WeakSet:Set,de=null;function ra(r,i){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){lt(r,i,c)}else o.current=null}function Dc(r,i,o){try{o()}catch(c){lt(r,i,c)}}var Rp=!1;function $v(r,i){if(Ju=_,r=cf(),Bu(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var x=0,E=-1,O=-1,B=0,X=0,ee=r,Z=null;t:for(;;){for(var ce;ee!==o||f!==0&&ee.nodeType!==3||(E=x+f),ee!==m||c!==0&&ee.nodeType!==3||(O=x+c),ee.nodeType===3&&(x+=ee.nodeValue.length),(ce=ee.firstChild)!==null;)Z=ee,ee=ce;for(;;){if(ee===r)break t;if(Z===o&&++B===f&&(E=x),Z===m&&++X===c&&(O=x),(ce=ee.nextSibling)!==null)break;ee=Z,Z=ee.parentNode}ee=ce}o=E===-1||O===-1?null:{start:E,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qu={focusedElem:r,selectionRange:o},_=!1,de=i;de!==null;)if(i=de,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,de=r;else for(;de!==null;){i=de;try{var fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,ht=fe.memoizedState,I=i.stateNode,R=I.getSnapshotBeforeUpdate(i.elementType===i.type?pe:Fr(i.type,pe),ht);I.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){lt(i,i.return,re)}if(r=i.sibling,r!==null){r.return=i.return,de=r;break}de=i.return}return fe=Rp,Rp=!1,fe}function po(r,i,o){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var m=f.destroy;f.destroy=void 0,m!==void 0&&Dc(i,o,m)}f=f.next}while(f!==c)}}function Cl(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&r)===r){var c=o.create;o.destroy=c()}o=o.next}while(o!==i)}}function Mc(r){var i=r.ref;if(i!==null){var o=r.stateNode;switch(r.tag){case 5:r=o;break;default:r=o}typeof i=="function"?i(r):i.current=r}}function Lp(r){var i=r.alternate;i!==null&&(r.alternate=null,Lp(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[gn],delete i[ro],delete i[ec],delete i[vv],delete i[bv])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Pp(r){return r.tag===5||r.tag===3||r.tag===4}function Ip(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Pp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qc(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(r,i):o.insertBefore(r,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(r,o)):(i=o,i.appendChild(r)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=al));else if(c!==4&&(r=r.child,r!==null))for(qc(r,i,o),r=r.sibling;r!==null;)qc(r,i,o),r=r.sibling}function Uc(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Uc(r,i,o),r=r.sibling;r!==null;)Uc(r,i,o),r=r.sibling}var Tt=null,Hr=!1;function _s(r,i,o){for(o=o.child;o!==null;)$p(r,i,o),o=o.sibling}function $p(r,i,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(dn,o)}catch{}switch(o.tag){case 5:Dt||ra(o,i);case 6:var c=Tt,f=Hr;Tt=null,_s(r,i,o),Tt=c,Hr=f,Tt!==null&&(Hr?(r=Tt,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(Hr?(r=Tt,o=o.stateNode,r.nodeType===8?Xu(r.parentNode,o):r.nodeType===1&&Xu(r,o),In(r)):Xu(Tt,o.stateNode));break;case 4:c=Tt,f=Hr,Tt=o.stateNode.containerInfo,Hr=!0,_s(r,i,o),Tt=c,Hr=f;break;case 0:case 11:case 14:case 15:if(!Dt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&Dc(o,i,x),f=f.next}while(f!==c)}_s(r,i,o);break;case 1:if(!Dt&&(ra(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(E){lt(o,i,E)}_s(r,i,o);break;case 21:_s(r,i,o);break;case 22:o.mode&1?(Dt=(c=Dt)||o.memoizedState!==null,_s(r,i,o),Dt=c):_s(r,i,o);break;default:_s(r,i,o)}}function Dp(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new Iv),i.forEach(function(c){var f=Vv.bind(null,r,c);o.has(c)||(o.add(c),c.then(f,f))})}}function Vr(r,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var m=r,x=i,E=x;e:for(;E!==null;){switch(E.tag){case 5:Tt=E.stateNode,Hr=!1;break e;case 3:Tt=E.stateNode.containerInfo,Hr=!0;break e;case 4:Tt=E.stateNode.containerInfo,Hr=!0;break e}E=E.return}if(Tt===null)throw Error(t(160));$p(m,x,f),Tt=null,Hr=!1;var O=f.alternate;O!==null&&(O.return=null),f.return=null}catch(B){lt(f,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Mp(i,r),i=i.sibling}function Mp(r,i){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Vr(i,r),bn(r),c&4){try{po(3,r,r.return),Cl(3,r)}catch(pe){lt(r,r.return,pe)}try{po(5,r,r.return)}catch(pe){lt(r,r.return,pe)}}break;case 1:Vr(i,r),bn(r),c&512&&o!==null&&ra(o,o.return);break;case 5:if(Vr(i,r),bn(r),c&512&&o!==null&&ra(o,o.return),r.flags&32){var f=r.stateNode;try{_t(f,"")}catch(pe){lt(r,r.return,pe)}}if(c&4&&(f=r.stateNode,f!=null)){var m=r.memoizedProps,x=o!==null?o.memoizedProps:m,E=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{E==="input"&&m.type==="radio"&&m.name!=null&&Zn(f,m),an(E,x);var B=an(E,m);for(x=0;x<O.length;x+=2){var X=O[x],ee=O[x+1];X==="style"?rs(f,ee):X==="dangerouslySetInnerHTML"?ts(f,ee):X==="children"?_t(f,ee):q(f,X,ee,B)}switch(E){case"input":Xn(f,m);break;case"textarea":rr(f,m);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var ce=m.value;ce!=null?yr(f,!!m.multiple,ce,!1):Z!==!!m.multiple&&(m.defaultValue!=null?yr(f,!!m.multiple,m.defaultValue,!0):yr(f,!!m.multiple,m.multiple?[]:"",!1))}f[ro]=m}catch(pe){lt(r,r.return,pe)}}break;case 6:if(Vr(i,r),bn(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,m=r.memoizedProps;try{f.nodeValue=m}catch(pe){lt(r,r.return,pe)}}break;case 3:if(Vr(i,r),bn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{In(i.containerInfo)}catch(pe){lt(r,r.return,pe)}break;case 4:Vr(i,r),bn(r);break;case 13:Vr(i,r),bn(r),f=r.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Fc=Je())),c&4&&Dp(r);break;case 22:if(X=o!==null&&o.memoizedState!==null,r.mode&1?(Dt=(B=Dt)||X,Vr(i,r),Dt=B):Vr(i,r),bn(r),c&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!X&&(r.mode&1)!==0)for(de=r,X=r.child;X!==null;){for(ee=de=X;de!==null;){switch(Z=de,ce=Z.child,Z.tag){case 0:case 11:case 14:case 15:po(4,Z,Z.return);break;case 1:ra(Z,Z.return);var fe=Z.stateNode;if(typeof fe.componentWillUnmount=="function"){c=Z,o=Z.return;try{i=c,fe.props=i.memoizedProps,fe.state=i.memoizedState,fe.componentWillUnmount()}catch(pe){lt(c,o,pe)}}break;case 5:ra(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Bp(ee);continue}}ce!==null?(ce.return=Z,de=ce):Bp(ee)}X=X.sibling}e:for(X=null,ee=r;;){if(ee.tag===5){if(X===null){X=ee;try{f=ee.stateNode,B?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(E=ee.stateNode,O=ee.memoizedProps.style,x=O!=null&&O.hasOwnProperty("display")?O.display:null,E.style.display=Ai("display",x))}catch(pe){lt(r,r.return,pe)}}}else if(ee.tag===6){if(X===null)try{ee.stateNode.nodeValue=B?"":ee.memoizedProps}catch(pe){lt(r,r.return,pe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;X===ee&&(X=null),ee=ee.return}X===ee&&(X=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Vr(i,r),bn(r),c&4&&Dp(r);break;case 21:break;default:Vr(i,r),bn(r)}}function bn(r){var i=r.flags;if(i&2){try{e:{for(var o=r.return;o!==null;){if(Pp(o)){var c=o;break e}o=o.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(_t(f,""),c.flags&=-33);var m=Ip(r);Uc(r,m,f);break;case 3:case 4:var x=c.stateNode.containerInfo,E=Ip(r);qc(r,E,x);break;default:throw Error(t(161))}}catch(O){lt(r,r.return,O)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Dv(r,i,o){de=r,qp(r)}function qp(r,i,o){for(var c=(r.mode&1)!==0;de!==null;){var f=de,m=f.child;if(f.tag===22&&c){var x=f.memoizedState!==null||Tl;if(!x){var E=f.alternate,O=E!==null&&E.memoizedState!==null||Dt;E=Tl;var B=Dt;if(Tl=x,(Dt=O)&&!B)for(de=f;de!==null;)x=de,O=x.child,x.tag===22&&x.memoizedState!==null?zp(f):O!==null?(O.return=x,de=O):zp(f);for(;m!==null;)de=m,qp(m),m=m.sibling;de=f,Tl=E,Dt=B}Up(r)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,de=m):Up(r)}}function Up(r){for(;de!==null;){var i=de;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Dt||Cl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Dt)if(o===null)c.componentDidMount();else{var f=i.elementType===i.type?o.memoizedProps:Fr(i.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Bf(i,m,c);break;case 3:var x=i.updateQueue;if(x!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}Bf(i,x,o)}break;case 5:var E=i.stateNode;if(o===null&&i.flags&4){o=E;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&o.focus();break;case"img":O.src&&(o.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var ee=X.dehydrated;ee!==null&&In(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Dt||i.flags&512&&Mc(i)}catch(Z){lt(i,i.return,Z)}}if(i===r){de=null;break}if(o=i.sibling,o!==null){o.return=i.return,de=o;break}de=i.return}}function Bp(r){for(;de!==null;){var i=de;if(i===r){de=null;break}var o=i.sibling;if(o!==null){o.return=i.return,de=o;break}de=i.return}}function zp(r){for(;de!==null;){var i=de;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Cl(4,i)}catch(O){lt(i,o,O)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(O){lt(i,f,O)}}var m=i.return;try{Mc(i)}catch(O){lt(i,m,O)}break;case 5:var x=i.return;try{Mc(i)}catch(O){lt(i,x,O)}}}catch(O){lt(i,i.return,O)}if(i===r){de=null;break}var E=i.sibling;if(E!==null){E.return=i.return,de=E;break}de=i.return}}var Mv=Math.ceil,Al=Y.ReactCurrentDispatcher,Bc=Y.ReactCurrentOwner,Tr=Y.ReactCurrentBatchConfig,ze=0,kt=null,pt=null,Ct=0,ur=0,na=ys(0),bt=0,mo=null,oi=0,Ol=0,zc=0,go=null,Zt=null,Fc=0,sa=1/0,Fn=null,Rl=!1,Hc=null,Ns=null,Ll=!1,ks=null,Pl=0,yo=0,Vc=null,Il=-1,$l=0;function Vt(){return(ze&6)!==0?Je():Il!==-1?Il:Il=Je()}function Ss(r){return(r.mode&1)===0?1:(ze&2)!==0&&Ct!==0?Ct&-Ct:wv.transition!==null?($l===0&&($l=Ii()),$l):(r=Ie,r!==0||(r=window.event,r=r===void 0?16:Me(r.type)),r)}function Kr(r,i,o,c){if(50<yo)throw yo=0,Vc=null,Error(t(185));Ln(r,o,c),((ze&2)===0||r!==kt)&&(r===kt&&((ze&2)===0&&(Ol|=o),bt===4&&Es(r,Ct)),Xt(r,c),o===1&&ze===0&&(i.mode&1)===0&&(sa=Je()+500,cl&&bs()))}function Xt(r,i){var o=r.callbackNode;Va(r,i);var c=On(r,r===kt?Ct:0);if(c===0)o!==null&&Et(o),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(o!=null&&Et(o),i===1)r.tag===0?xv(Hp.bind(null,r)):Cf(Hp.bind(null,r)),gv(function(){(ze&6)===0&&bs()}),o=null;else{switch(wr(c)){case 1:o=Ks;break;case 4:o=Cn;break;case 16:o=An;break;case 536870912:o=nr;break;default:o=An}o=Zp(o,Fp.bind(null,r))}r.callbackPriority=i,r.callbackNode=o}}function Fp(r,i){if(Il=-1,$l=0,(ze&6)!==0)throw Error(t(327));var o=r.callbackNode;if(ia()&&r.callbackNode!==o)return null;var c=On(r,r===kt?Ct:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||i)i=Dl(r,c);else{i=c;var f=ze;ze|=2;var m=Kp();(kt!==r||Ct!==i)&&(Fn=null,sa=Je()+500,ui(r,i));do try{Bv();break}catch(E){Vp(r,E)}while(!0);uc(),Al.current=m,ze=f,pt!==null?i=0:(kt=null,Ct=0,i=bt)}if(i!==0){if(i===2&&(f=Ws(r),f!==0&&(c=f,i=Kc(r,f))),i===1)throw o=mo,ui(r,0),Es(r,c),Xt(r,Je()),o;if(i===6)Es(r,c);else{if(f=r.current.alternate,(c&30)===0&&!qv(f)&&(i=Dl(r,c),i===2&&(m=Ws(r),m!==0&&(c=m,i=Kc(r,m))),i===1))throw o=mo,ui(r,0),Es(r,c),Xt(r,Je()),o;switch(r.finishedWork=f,r.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:ci(r,Zt,Fn);break;case 3:if(Es(r,c),(c&130023424)===c&&(i=Fc+500-Je(),10<i)){if(On(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){Vt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Zu(ci.bind(null,r,Zt,Fn),i);break}ci(r,Zt,Fn);break;case 4:if(Es(r,c),(c&4194240)===c)break;for(i=r.eventTimes,f=-1;0<c;){var x=31-zt(c);m=1<<x,x=i[x],x>f&&(f=x),c&=~m}if(c=f,c=Je()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Mv(c/1960))-c,10<c){r.timeoutHandle=Zu(ci.bind(null,r,Zt,Fn),c);break}ci(r,Zt,Fn);break;case 5:ci(r,Zt,Fn);break;default:throw Error(t(329))}}}return Xt(r,Je()),r.callbackNode===o?Fp.bind(null,r):null}function Kc(r,i){var o=go;return r.current.memoizedState.isDehydrated&&(ui(r,i).flags|=256),r=Dl(r,i),r!==2&&(i=Zt,Zt=o,i!==null&&Wc(i)),r}function Wc(r){Zt===null?Zt=r:Zt.push.apply(Zt,r)}function qv(r){for(var i=r;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!Br(m(),f))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Es(r,i){for(i&=~zc,i&=~Ol,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var o=31-zt(i),c=1<<o;r[o]=-1,i&=~c}}function Hp(r){if((ze&6)!==0)throw Error(t(327));ia();var i=On(r,0);if((i&1)===0)return Xt(r,Je()),null;var o=Dl(r,i);if(r.tag!==0&&o===2){var c=Ws(r);c!==0&&(i=c,o=Kc(r,c))}if(o===1)throw o=mo,ui(r,0),Es(r,i),Xt(r,Je()),o;if(o===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,ci(r,Zt,Fn),Xt(r,Je()),null}function Gc(r,i){var o=ze;ze|=1;try{return r(i)}finally{ze=o,ze===0&&(sa=Je()+500,cl&&bs())}}function li(r){ks!==null&&ks.tag===0&&(ze&6)===0&&ia();var i=ze;ze|=1;var o=Tr.transition,c=Ie;try{if(Tr.transition=null,Ie=1,r)return r()}finally{Ie=c,Tr.transition=o,ze=i,(ze&6)===0&&bs()}}function Jc(){ur=na.current,Ye(na)}function ui(r,i){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,mv(o)),pt!==null)for(o=pt.return;o!==null;){var c=o;switch(sc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ll();break;case 3:ea(),Ye(Jt),Ye(Pt),yc();break;case 5:mc(c);break;case 4:ea();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:cc(c.type._context);break;case 22:case 23:Jc()}o=o.return}if(kt=r,pt=r=js(r.current,null),Ct=ur=i,bt=0,mo=null,zc=Ol=oi=0,Zt=go=null,si!==null){for(i=0;i<si.length;i++)if(o=si[i],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,m=o.pending;if(m!==null){var x=m.next;m.next=f,c.next=x}o.pending=c}si=null}return r}function Vp(r,i){do{var o=pt;try{if(uc(),xl.current=kl,wl){for(var c=st.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}wl=!1}if(ai=0,Nt=vt=st=null,lo=!1,uo=0,Bc.current=null,o===null||o.return===null){bt=1,mo=i,pt=null;break}e:{var m=r,x=o.return,E=o,O=i;if(i=Ct,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var B=O,X=E,ee=X.tag;if((X.mode&1)===0&&(ee===0||ee===11||ee===15)){var Z=X.alternate;Z?(X.updateQueue=Z.updateQueue,X.memoizedState=Z.memoizedState,X.lanes=Z.lanes):(X.updateQueue=null,X.memoizedState=null)}var ce=gp(x);if(ce!==null){ce.flags&=-257,yp(ce,x,E,m,i),ce.mode&1&&mp(m,B,i),i=ce,O=B;var fe=i.updateQueue;if(fe===null){var pe=new Set;pe.add(O),i.updateQueue=pe}else fe.add(O);break e}else{if((i&1)===0){mp(m,B,i),Qc();break e}O=Error(t(426))}}else if(rt&&E.mode&1){var ht=gp(x);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),yp(ht,x,E,m,i),oc(ta(O,E));break e}}m=O=ta(O,E),bt!==4&&(bt=2),go===null?go=[m]:go.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var I=fp(m,O,i);Uf(m,I);break e;case 1:E=O;var R=m.type,$=m.stateNode;if((m.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ns===null||!Ns.has($)))){m.flags|=65536,i&=-i,m.lanes|=i;var re=pp(m,E,i);Uf(m,re);break e}}m=m.return}while(m!==null)}Gp(o)}catch(ve){i=ve,pt===o&&o!==null&&(pt=o=o.return);continue}break}while(!0)}function Kp(){var r=Al.current;return Al.current=kl,r===null?kl:r}function Qc(){(bt===0||bt===3||bt===2)&&(bt=4),kt===null||(oi&268435455)===0&&(Ol&268435455)===0||Es(kt,Ct)}function Dl(r,i){var o=ze;ze|=2;var c=Kp();(kt!==r||Ct!==i)&&(Fn=null,ui(r,i));do try{Uv();break}catch(f){Vp(r,f)}while(!0);if(uc(),ze=o,Al.current=c,pt!==null)throw Error(t(261));return kt=null,Ct=0,bt}function Uv(){for(;pt!==null;)Wp(pt)}function Bv(){for(;pt!==null&&!Ma();)Wp(pt)}function Wp(r){var i=Yp(r.alternate,r,ur);r.memoizedProps=r.pendingProps,i===null?Gp(r):pt=i,Bc.current=null}function Gp(r){var i=r;do{var o=i.alternate;if(r=i.return,(i.flags&32768)===0){if(o=Lv(o,i,ur),o!==null){pt=o;return}}else{if(o=Pv(o,i),o!==null){o.flags&=32767,pt=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,pt=null;return}}if(i=i.sibling,i!==null){pt=i;return}pt=i=r}while(i!==null);bt===0&&(bt=5)}function ci(r,i,o){var c=Ie,f=Tr.transition;try{Tr.transition=null,Ie=1,zv(r,i,o,c)}finally{Tr.transition=f,Ie=c}return null}function zv(r,i,o,c){do ia();while(ks!==null);if((ze&6)!==0)throw Error(t(327));o=r.finishedWork;var f=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=o.lanes|o.childLanes;if(Ka(r,m),r===kt&&(pt=kt=null,Ct=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Ll||(Ll=!0,Zp(An,function(){return ia(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=Tr.transition,Tr.transition=null;var x=Ie;Ie=1;var E=ze;ze|=4,Bc.current=null,$v(r,o),Mp(o,r),lv(Qu),_=!!Ju,Qu=Ju=null,r.current=o,Dv(o),qa(),ze=E,Ie=x,Tr.transition=m}else r.current=o;if(Ll&&(Ll=!1,ks=r,Pl=f),m=r.pendingLanes,m===0&&(Ns=null),Ba(o.stateNode),Xt(r,Je()),i!==null)for(c=r.onRecoverableError,o=0;o<i.length;o++)f=i[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(Rl)throw Rl=!1,r=Hc,Hc=null,r;return(Pl&1)!==0&&r.tag!==0&&ia(),m=r.pendingLanes,(m&1)!==0?r===Vc?yo++:(yo=0,Vc=r):yo=0,bs(),null}function ia(){if(ks!==null){var r=wr(Pl),i=Tr.transition,o=Ie;try{if(Tr.transition=null,Ie=16>r?16:r,ks===null)var c=!1;else{if(r=ks,ks=null,Pl=0,(ze&6)!==0)throw Error(t(331));var f=ze;for(ze|=4,de=r.current;de!==null;){var m=de,x=m.child;if((de.flags&16)!==0){var E=m.deletions;if(E!==null){for(var O=0;O<E.length;O++){var B=E[O];for(de=B;de!==null;){var X=de;switch(X.tag){case 0:case 11:case 15:po(8,X,m)}var ee=X.child;if(ee!==null)ee.return=X,de=ee;else for(;de!==null;){X=de;var Z=X.sibling,ce=X.return;if(Lp(X),X===B){de=null;break}if(Z!==null){Z.return=ce,de=Z;break}de=ce}}}var fe=m.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var ht=pe.sibling;pe.sibling=null,pe=ht}while(pe!==null)}}de=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,de=x;else e:for(;de!==null;){if(m=de,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:po(9,m,m.return)}var I=m.sibling;if(I!==null){I.return=m.return,de=I;break e}de=m.return}}var R=r.current;for(de=R;de!==null;){x=de;var $=x.child;if((x.subtreeFlags&2064)!==0&&$!==null)$.return=x,de=$;else e:for(x=R;de!==null;){if(E=de,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Cl(9,E)}}catch(ve){lt(E,E.return,ve)}if(E===x){de=null;break e}var re=E.sibling;if(re!==null){re.return=E.return,de=re;break e}de=E.return}}if(ze=f,bs(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(dn,r)}catch{}c=!0}return c}finally{Ie=o,Tr.transition=i}}return!1}function Jp(r,i,o){i=ta(o,i),i=fp(r,i,1),r=ws(r,i,1),i=Vt(),r!==null&&(Ln(r,1,i),Xt(r,i))}function lt(r,i,o){if(r.tag===3)Jp(r,r,o);else for(;i!==null;){if(i.tag===3){Jp(i,r,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ns===null||!Ns.has(c))){r=ta(o,r),r=pp(i,r,1),i=ws(i,r,1),r=Vt(),i!==null&&(Ln(i,1,r),Xt(i,r));break}}i=i.return}}function Fv(r,i,o){var c=r.pingCache;c!==null&&c.delete(i),i=Vt(),r.pingedLanes|=r.suspendedLanes&o,kt===r&&(Ct&o)===o&&(bt===4||bt===3&&(Ct&130023424)===Ct&&500>Je()-Fc?ui(r,0):zc|=o),Xt(r,i)}function Qp(r,i){i===0&&((r.mode&1)===0?i=1:(i=xr,xr<<=1,(xr&130023424)===0&&(xr=4194304)));var o=Vt();r=Un(r,i),r!==null&&(Ln(r,i,o),Xt(r,o))}function Hv(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Qp(r,o)}function Vv(r,i){var o=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Qp(r,o)}var Yp;Yp=function(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps||Jt.current)Yt=!0;else{if((r.lanes&o)===0&&(i.flags&128)===0)return Yt=!1,Rv(r,i,o);Yt=(r.flags&131072)!==0}else Yt=!1,rt&&(i.flags&1048576)!==0&&Af(i,hl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;jl(r,i),r=i.pendingProps;var f=Wi(i,Pt.current);Xi(i,o),f=xc(null,i,c,r,f,o);var m=wc();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Qt(c)?(m=!0,ul(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,fc(i),f.updater=Sl,i.stateNode=f,f._reactInternals=i,jc(i,c,r,o),i=Oc(null,i,c,!0,m,o)):(i.tag=0,rt&&m&&nc(i),Ht(null,i,f,o),i=i.child),i;case 16:c=i.elementType;e:{switch(jl(r,i),r=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Wv(c),r=Fr(c,r),f){case 0:i=Ac(null,i,c,r,o);break e;case 1:i=Np(null,i,c,r,o);break e;case 11:i=vp(null,i,c,r,o);break e;case 14:i=bp(null,i,c,Fr(c.type,r),o);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Fr(c,f),Ac(r,i,c,f,o);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Fr(c,f),Np(r,i,c,f,o);case 3:e:{if(kp(i),r===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,f=m.element,qf(r,i),vl(i,c,null,o);var x=i.memoizedState;if(c=x.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=ta(Error(t(423)),i),i=Sp(r,i,c,o,f);break e}else if(c!==f){f=ta(Error(t(424)),i),i=Sp(r,i,c,o,f);break e}else for(lr=gs(i.stateNode.containerInfo.firstChild),or=i,rt=!0,zr=null,o=Df(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qi(),c===f){i=zn(r,i,o);break e}Ht(r,i,c,o)}i=i.child}return i;case 5:return zf(i),r===null&&ac(i),c=i.type,f=i.pendingProps,m=r!==null?r.memoizedProps:null,x=f.children,Yu(c,f)?x=null:m!==null&&Yu(c,m)&&(i.flags|=32),_p(r,i),Ht(r,i,x,o),i.child;case 6:return r===null&&ac(i),null;case 13:return Ep(r,i,o);case 4:return pc(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=Yi(i,null,c,o):Ht(r,i,c,o),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Fr(c,f),vp(r,i,c,f,o);case 7:return Ht(r,i,i.pendingProps,o),i.child;case 8:return Ht(r,i,i.pendingProps.children,o),i.child;case 12:return Ht(r,i,i.pendingProps.children,o),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,x=f.value,Ke(ml,c._currentValue),c._currentValue=x,m!==null)if(Br(m.value,x)){if(m.children===f.children&&!Jt.current){i=zn(r,i,o);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var E=m.dependencies;if(E!==null){x=m.child;for(var O=E.firstContext;O!==null;){if(O.context===c){if(m.tag===1){O=Bn(-1,o&-o),O.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?O.next=O:(O.next=X.next,X.next=O),B.pending=O}}m.lanes|=o,O=m.alternate,O!==null&&(O.lanes|=o),dc(m.return,o,i),E.lanes|=o;break}O=O.next}}else if(m.tag===10)x=m.type===i.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(t(341));x.lanes|=o,E=x.alternate,E!==null&&(E.lanes|=o),dc(x,o,i),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===i){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}Ht(r,i,f.children,o),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Xi(i,o),f=Er(f),c=c(f),i.flags|=1,Ht(r,i,c,o),i.child;case 14:return c=i.type,f=Fr(c,i.pendingProps),f=Fr(c.type,f),bp(r,i,c,f,o);case 15:return xp(r,i,i.type,i.pendingProps,o);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Fr(c,f),jl(r,i),i.tag=1,Qt(c)?(r=!0,ul(i)):r=!1,Xi(i,o),dp(i,c,f),jc(i,c,f,o),Oc(null,i,c,!0,r,o);case 19:return Tp(r,i,o);case 22:return wp(r,i,o)}throw Error(t(156,i.tag))};function Zp(r,i){return Pi(r,i)}function Kv(r,i,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(r,i,o,c){return new Kv(r,i,o,c)}function Yc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Wv(r){if(typeof r=="function")return Yc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===K)return 11;if(r===G)return 14}return 2}function js(r,i){var o=r.alternate;return o===null?(o=Cr(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function Ml(r,i,o,c,f,m){var x=2;if(c=r,typeof r=="function")Yc(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case me:return di(o.children,f,m,i);case Le:x=8,f|=8;break;case xe:return r=Cr(12,o,i,f|2),r.elementType=xe,r.lanes=m,r;case P:return r=Cr(13,o,i,f),r.elementType=P,r.lanes=m,r;case V:return r=Cr(19,o,i,f),r.elementType=V,r.lanes=m,r;case W:return ql(o,f,m,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Pe:x=10;break e;case T:x=9;break e;case K:x=11;break e;case G:x=14;break e;case F:x=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Cr(x,o,i,f),i.elementType=r,i.type=c,i.lanes=m,i}function di(r,i,o,c){return r=Cr(7,r,c,i),r.lanes=o,r}function ql(r,i,o,c){return r=Cr(22,r,c,i),r.elementType=W,r.lanes=o,r.stateNode={isHidden:!1},r}function Zc(r,i,o){return r=Cr(6,r,null,i),r.lanes=o,r}function Xc(r,i,o){return i=Cr(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Gv(r,i,o,c,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rn(0),this.expirationTimes=Rn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ed(r,i,o,c,f,m,x,E,O){return r=new Gv(r,i,o,E,O),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Cr(3,null,null,i),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},fc(m),r}function Jv(r,i,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:c==null?null:""+c,children:r,containerInfo:i,implementation:o}}function Xp(r){if(!r)return vs;r=r._reactInternals;e:{if(Mr(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Qt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var o=r.type;if(Qt(o))return jf(r,o,i)}return i}function e0(r,i,o,c,f,m,x,E,O){return r=ed(o,c,!0,r,f,m,x,E,O),r.context=Xp(null),o=r.current,c=Vt(),f=Ss(o),m=Bn(c,f),m.callback=i??null,ws(o,m,f),r.current.lanes=f,Ln(r,f,c),Xt(r,c),r}function Ul(r,i,o,c){var f=i.current,m=Vt(),x=Ss(f);return o=Xp(o),i.context===null?i.context=o:i.pendingContext=o,i=Bn(m,x),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=ws(f,i,x),r!==null&&(Kr(r,f,x,m),yl(r,f,x)),x}function Bl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function t0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function td(r,i){t0(r,i),(r=r.alternate)&&t0(r,i)}function Qv(){return null}var r0=typeof reportError=="function"?reportError:function(r){console.error(r)};function rd(r){this._internalRoot=r}zl.prototype.render=rd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Ul(r,i,null,null)},zl.prototype.unmount=rd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;li(function(){Ul(null,r,null,null)}),i[$n]=null}};function zl(r){this._internalRoot=r}zl.prototype.unstable_scheduleHydration=function(r){if(r){var i=$i();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Gt.length&&i!==0&&i<Gt[o].priority;o++);Gt.splice(o,0,r),o===0&&Ys(r)}};function nd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Fl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function n0(){}function Yv(r,i,o,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var B=Bl(x);m.call(B)}}var x=e0(i,c,r,0,null,!1,!1,"",n0);return r._reactRootContainer=x,r[$n]=x.current,eo(r.nodeType===8?r.parentNode:r),li(),x}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var E=c;c=function(){var B=Bl(O);E.call(B)}}var O=ed(r,0,!1,null,null,!1,!1,"",n0);return r._reactRootContainer=O,r[$n]=O.current,eo(r.nodeType===8?r.parentNode:r),li(function(){Ul(i,O,o,c)}),O}function Hl(r,i,o,c,f){var m=o._reactRootContainer;if(m){var x=m;if(typeof f=="function"){var E=f;f=function(){var O=Bl(x);E.call(O)}}Ul(i,x,r,f)}else x=Yv(o,i,r,f,c);return Bl(x)}_r=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var o=fn(i.pendingLanes);o!==0&&(qr(i,o|1),Xt(i,Je()),(ze&6)===0&&(sa=Je()+500,bs()))}break;case 13:li(function(){var c=Un(r,1);if(c!==null){var f=Vt();Kr(c,r,1,f)}}),td(r,1)}},Gs=function(r){if(r.tag===13){var i=Un(r,134217728);if(i!==null){var o=Vt();Kr(i,r,134217728,o)}td(r,134217728)}},sr=function(r){if(r.tag===13){var i=Ss(r),o=Un(r,i);if(o!==null){var c=Vt();Kr(o,r,i,c)}td(r,i)}},$i=function(){return Ie},Di=function(r,i){var o=Ie;try{return Ie=r,i()}finally{Ie=o}},on=function(r,i,o){switch(i){case"input":if(Xn(r,o),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==r&&c.form===r.form){var f=ol(c);if(!f)throw Error(t(90));Fe(c),Xn(c,f)}}}break;case"textarea":rr(r,o);break;case"select":i=o.value,i!=null&&yr(r,!!o.multiple,i,!1)}},os=Gc,ls=li;var Zv={usingClientEntryPoint:!1,Events:[no,Vi,ol,ln,as,Gc]},vo={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xv={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ri(r),r===null?null:r.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||Qv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{dn=Vl.inject(Xv),Wt=Vl}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zv,er.createPortal=function(r,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nd(i))throw Error(t(200));return Jv(r,i,null,o)},er.createRoot=function(r,i){if(!nd(r))throw Error(t(299));var o=!1,c="",f=r0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=ed(r,1,!1,null,null,o,!1,c,f),r[$n]=i.current,eo(r.nodeType===8?r.parentNode:r),new rd(i)},er.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ri(i),r=r===null?null:r.stateNode,r},er.flushSync=function(r){return li(r)},er.hydrate=function(r,i,o){if(!Fl(i))throw Error(t(200));return Hl(null,r,i,!0,o)},er.hydrateRoot=function(r,i,o){if(!nd(r))throw Error(t(405));var c=o!=null&&o.hydratedSources||null,f=!1,m="",x=r0;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),i=e0(i,null,r,1,o??null,f,!1,m,x),r[$n]=i.current,eo(r),c)for(r=0;r<c.length;r++)o=c[r],f=o._getVersion,f=f(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,f]:i.mutableSourceEagerHydrationData.push(o,f);return new zl(i)},er.render=function(r,i,o){if(!Fl(i))throw Error(t(200));return Hl(null,r,i,!1,o)},er.unmountComponentAtNode=function(r){if(!Fl(r))throw Error(t(40));return r._reactRootContainer?(li(function(){Hl(null,null,r,!1,function(){r._reactRootContainer=null,r[$n]=null})}),!0):!1},er.unstable_batchedUpdates=Gc,er.unstable_renderSubtreeIntoContainer=function(r,i,o,c){if(!Fl(o))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Hl(r,i,o,!1,c)},er.version="18.3.1-next-f1338f8080-20240426",er}var d0;function c1(){if(d0)return ad.exports;d0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ad.exports=u1(),ad.exports}var h0;function d1(){if(h0)return Kl;h0=1;var n=c1();return Kl.createRoot=n.createRoot,Kl.hydrateRoot=n.hydrateRoot,Kl}var h1=d1(),se=vh();const xn=yh(se);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),f0=n=>{const e=p1(n);return e.charAt(0).toUpperCase()+e.slice(1)},Qm=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=se.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},p)=>se.createElement("svg",{ref:p,...m1,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:Qm("lucide",a),...h},[...u.map(([g,b])=>se.createElement(g,b)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(n,e)=>{const t=se.forwardRef(({className:s,...a},l)=>se.createElement(g1,{ref:l,iconNode:e,className:Qm(`lucide-${f1(f0(n))}`,`lucide-${n}`,s),...a}));return t.displayName=f0(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ym=Ce("arrow-left",y1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lu=Ce("arrow-right",v1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],x1=Ce("calculator",b1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_1=Ce("chart-column",w1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],k1=Ce("check",N1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],E1=Ce("chevron-down",S1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],p0=Ce("circle-check-big",j1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],C1=Ce("circle-check",T1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],m0=Ce("circle-x",A1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],R1=Ce("clock",O1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Zm=Ce("credit-card",L1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],I1=Ce("database",P1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],D1=Ce("disc",$1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],q1=Ce("dollar-sign",M1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Wl=Ce("download",U1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],z1=Ce("file-spreadsheet",B1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xm=Ce("file-text",F1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],g0=Ce("folder-tree",H1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fu=Ce("globe",V1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],_u=Ce("hard-drive",K1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ud=Ce("house",W1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],y0=Ce("info",G1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Pd=Ce("layout-dashboard",J1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],v0=Ce("library",Q1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Z1=Ce("lock",Y1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],eb=Ce("log-out",X1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ro=Ce("mail",tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],uu=Ce("map-pin",rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],eg=Ce("menu",nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ib=Ce("message-square",sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ob=Ce("music",ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wa=Ce("package",lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bh=Ce("plus",ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xh=Ce("save",cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hb=Ce("settings",db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pb=Ce("shield",fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],b0=Ce("shopping-cart",mb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],yb=Ce("sliders-vertical",gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],wh=Ce("sparkles",vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],tg=Ce("square-pen",bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_h=Ce("trash-2",xb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_b=Ce("triangle-alert",wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],kb=Ce("truck",Nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]],Eb=Ce("usb",Sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Id=Ce("user",jb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Cb=Ce("users",Tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Ob=Ce("wand-sparkles",Ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nu=Ce("x",Rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Pb=Ce("zap",Lb);function Ib({category:n,selectedItems:e,onToggleItem:t,selectedLibraryPacks:s,onToggleLibraryPack:a,defaultExpanded:l=!0}){const[u,h]=se.useState(l),p=b=>{if(!b)return"";const w=document.createElement("div");return w.innerHTML=b,w.textContent||w.innerText||""},g=b=>b<1?`${(b*1024).toFixed(0)} MB`:`${b.toFixed(1)} GB`;return d.jsxs("div",{className:"group relative bg-gradient-to-br from-slate-800/40 to-slate-900/40 backdrop-blur-xl rounded-3xl border border-slate-700/50 overflow-hidden shadow-xl hover:border-purple-500/50 transition-all duration-300",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-transparent to-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),d.jsxs("button",{onClick:()=>h(!u),className:"w-full relative p-4 md:p-6 border-b border-slate-700/50 flex items-center gap-3 md:gap-4 text-left transition-colors hover:bg-slate-800/30",children:[d.jsx("div",{className:"p-2 md:p-3 bg-gradient-to-br from-purple-500/20 to-cyan-500/20 backdrop-blur-sm rounded-2xl border border-purple-500/30 group-hover:scale-110 transition-transform flex-none",children:d.jsx("div",{className:"text-purple-300 scale-75 md:scale-100",children:n.icon})}),d.jsxs("div",{className:"flex-1 pr-2 min-w-0",children:[d.jsx("h2",{className:"text-white mb-1 font-bold text-lg truncate",children:n.title}),d.jsx("p",{className:"text-slate-400 text-sm break-words leading-snug",children:p(n.subtitle)})]}),d.jsx(E1,{className:`w-6 h-6 text-slate-400 transition-transform duration-300 ${u?"rotate-180":""}`})]}),d.jsx("div",{className:`transition-all duration-300 ease-in-out ${u?"opacity-100":"opacity-0 max-h-0 overflow-hidden"}`,children:d.jsx("div",{className:"p-4 md:p-6 space-y-3",children:n.products.map(b=>{var N,k;const w=e.has(b.id),v=b.libraryPacks&&b.libraryPacks.length>0;return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:`group/item relative flex items-start gap-3 md:gap-4 p-3 md:p-4 rounded-2xl cursor-pointer transition-all duration-300 ${w?"bg-gradient-to-r from-purple-500/20 to-cyan-500/20 border-2 border-purple-500/50 shadow-lg shadow-purple-500/20":"bg-slate-800/50 border-2 border-transparent hover:border-slate-600/50 hover:bg-slate-800/70"}`,children:[d.jsxs("div",{className:"relative flex items-center pt-1",children:[d.jsx("input",{type:"checkbox",checked:w,onChange:()=>t(b.id),className:"peer sr-only"}),d.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all ${w?"bg-gradient-to-br from-purple-500 to-cyan-500 border-transparent":"border-slate-600 group-hover/item:border-slate-500"}`,children:w&&d.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center flex-wrap gap-2 mb-1",children:[d.jsx("h3",{className:"text-white font-medium text-base",children:b.name}),b.isFree&&d.jsx("span",{className:"px-2 py-0.5 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 border border-emerald-500/30 text-emerald-300 text-xs rounded-full backdrop-blur-sm whitespace-nowrap",children:"FREE"})]}),d.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:p(b.description)})]}),d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm whitespace-nowrap ${w?"bg-cyan-500/20 text-cyan-300 border border-cyan-500/30":"bg-slate-700/50 text-slate-300"}`,children:g(b.fileSize)}),v&&w&&d.jsxs("span",{className:"text-[10px] text-purple-300 font-medium",children:["+",(N=b.libraryPacks)==null?void 0:N.length," packs"]})]})]}),v&&w&&d.jsx("div",{className:"ml-2 md:ml-4 pl-2 md:pl-4 border-l-2 border-slate-700/50 space-y-2 animate-in slide-in-from-top-2 duration-300",children:(k=b.libraryPacks)==null?void 0:k.map(S=>{const j=s.has(S.id);return d.jsxs("label",{className:`group/pack relative flex items-start gap-3 p-3 rounded-xl cursor-pointer transition-all duration-300 ${j?"bg-gradient-to-r from-fuchsia-500/20 to-purple-500/20 border border-fuchsia-500/50 shadow-md shadow-fuchsia-500/20":"bg-slate-800/30 border border-slate-700/30 hover:border-slate-600/50 hover:bg-slate-800/50"}`,children:[d.jsxs("div",{className:"relative flex items-center pt-0.5",children:[d.jsx("input",{type:"checkbox",checked:j,onChange:()=>a(S.id),className:"peer sr-only"}),d.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors flex-none ${j?"bg-gradient-to-br from-cyan-500 to-purple-500 text-white shadow-lg shadow-cyan-500/30":"bg-slate-700/50 text-slate-400 group-hover/pack:bg-slate-700 group-hover/pack:text-slate-300"}`,children:j?d.jsx(wh,{className:"w-4 h-4"}):d.jsx(bh,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"text-sm text-white font-medium mb-0.5 truncate",children:S.name}),d.jsx("p",{className:"text-xs text-slate-400 break-words leading-snug",children:p(S.description)})]}),d.jsx("div",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold backdrop-blur-sm whitespace-nowrap ${j?"bg-fuchsia-500/20 text-fuchsia-300 border border-fuchsia-500/30":"bg-slate-700/50 text-slate-400"}`,children:g(S.fileSize)})]},S.id)})})]},b.id)})})})]})}function $b({totalStorage:n,storageCapacity:e,storageType:t}){const s=h=>h<1?`${(h*1024).toFixed(0)} MB`:`${h.toFixed(1)} GB`,a=e!==null&&t!==null,l=a&&n>e,u=a?Math.min(n/e*100,100):0;return d.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/40 to-slate-900/40 backdrop-blur-xl rounded-3xl border border-slate-700/50 overflow-hidden shadow-xl",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-teal-500/5 pointer-events-none"}),d.jsxs("div",{className:"relative p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 backdrop-blur-sm rounded-xl border border-emerald-500/30",children:d.jsx(I1,{className:"w-5 h-5 text-emerald-300"})}),d.jsx("h2",{className:"text-white",children:"Storage Summary"})]}),d.jsxs("div",{className:"mb-6 text-center p-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl border border-slate-700/50",children:[d.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Total Storage Needed"}),d.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:s(n)})]}),a&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[d.jsx("span",{className:"text-slate-400",children:"Capacity Used"}),d.jsxs("span",{className:`font-medium ${l?"text-rose-400":"text-emerald-400"}`,children:[u.toFixed(0),"%"]})]}),d.jsx("div",{className:"h-3 bg-slate-900/50 rounded-full overflow-hidden border border-slate-700/50",children:d.jsx("div",{className:`h-full transition-all duration-500 rounded-full ${l?"bg-gradient-to-r from-rose-500 to-red-500":"bg-gradient-to-r from-emerald-500 to-teal-500"}`,style:{width:`${Math.min(u,100)}%`}})})]}),d.jsx("div",{className:`flex items-start gap-3 p-4 rounded-2xl border backdrop-blur-sm ${l?"bg-rose-500/10 border-rose-500/30":"bg-emerald-500/10 border-emerald-500/30"}`,children:l?d.jsxs(d.Fragment,{children:[d.jsx(_b,{className:"w-5 h-5 text-rose-400 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-rose-300 text-sm font-medium mb-1",children:"Insufficient Storage"}),d.jsxs("p",{className:"text-rose-400/80 text-xs",children:["You need ",s(n-e)," more storage. Please select a larger capacity."]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(C1,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-emerald-300 text-sm font-medium mb-1",children:"Perfect Fit!"}),d.jsxs("p",{className:"text-emerald-400/80 text-xs",children:["You have ",s(e-n)," free space remaining."]})]})]})})]}),!a&&n>0&&d.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-2xl backdrop-blur-sm",children:d.jsx("p",{className:"text-blue-300 text-sm text-center",children:"Select a storage device to see capacity details"})})]})]})}const x0=[{id:"usb",name:"USB Flash Drive",icon:Eb,capacities:[32,64,128],description:"Portable and affordable",color:"from-cyan-500 to-blue-500",bgColor:"bg-cyan-50",borderColor:"border-cyan-300",iconBg:"bg-cyan-100",iconColor:"text-cyan-600"},{id:"hdd",name:"Hard Drive",icon:_u,capacities:[256,500,1e3,2e3],description:"Large capacity, budget-friendly",color:"from-slate-500 to-slate-600",bgColor:"bg-slate-50",borderColor:"border-slate-300",iconBg:"bg-slate-100",iconColor:"text-slate-600"},{id:"sata-ssd",name:"SATA SSD",icon:D1,capacities:[256,500,1e3,2e3],description:"Fast and reliable",color:"from-violet-500 to-purple-500",bgColor:"bg-violet-50",borderColor:"border-violet-300",iconBg:"bg-violet-100",iconColor:"text-violet-600"},{id:"nvme-ssd",name:"NVMe SSD",icon:Pb,capacities:[256,500,1e3,2e3],description:"Fastest performance",color:"from-amber-500 to-orange-500",bgColor:"bg-amber-50",borderColor:"border-amber-300",iconBg:"bg-amber-100",iconColor:"text-amber-600"}];function Db({selectedType:n,selectedCapacity:e,onTypeChange:t,onCapacityChange:s}){const a=x0.find(l=>l.id===n);return d.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/40 to-slate-900/40 backdrop-blur-xl rounded-3xl border border-slate-700/50 overflow-hidden shadow-xl",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-purple-500/5 pointer-events-none"}),d.jsxs("div",{className:"relative p-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500/20 to-purple-500/20 backdrop-blur-sm rounded-xl border border-blue-500/30",children:d.jsx(_u,{className:"w-5 h-5 text-blue-300"})}),d.jsx("h2",{className:"text-white",children:"Choose Your Storage Device"})]}),d.jsx("p",{className:"text-slate-400",children:"Select the type and capacity of storage for your music production tools"})]}),d.jsxs("div",{className:"space-y-3 mb-6",children:[d.jsx("label",{className:"block text-slate-300 text-sm",children:"Storage Type"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:x0.map(l=>{const u=l.icon,h=n===l.id;return d.jsx("button",{onClick:()=>t(l.id),className:`group relative p-4 rounded-2xl border-2 transition-all text-left overflow-hidden ${h?"bg-gradient-to-br from-purple-500/20 to-cyan-500/20 border-purple-500/50 shadow-lg shadow-purple-500/20":"bg-slate-800/50 border-slate-700/50 hover:border-slate-600/50 hover:bg-slate-800/70"}`,children:d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:`p-2.5 rounded-xl transition-all ${h?`bg-gradient-to-br ${l.color} shadow-lg`:"bg-slate-700/50 group-hover:bg-slate-700"}`,children:d.jsx(u,{className:`w-5 h-5 ${h?"text-white":"text-slate-400"}`})}),d.jsx("div",{children:d.jsx("h3",{className:`text-sm transition-colors ${h?"text-white":"text-slate-300"}`,children:l.name})})]}),d.jsx("p",{className:`text-xs transition-colors ml-12 ${h?"text-slate-300":"text-slate-500"}`,children:l.description}),h&&d.jsxs("div",{className:"mt-3 ml-12 flex items-center gap-2",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-gradient-to-r ${l.color} animate-pulse`}),d.jsx("span",{className:"text-xs text-purple-300",children:"Selected"})]})]})},l.id)})})]}),n&&a&&d.jsxs("div",{className:"space-y-3 animate-in slide-in-from-top-2 duration-300",children:[d.jsx("label",{className:"block text-slate-300 text-sm",children:"Storage Capacity"}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.capacities.map(l=>{const u=e===l;return d.jsx("button",{onClick:()=>s(l),className:`relative p-4 rounded-xl border-2 transition-all overflow-hidden group ${u?"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border-cyan-500/50 shadow-lg shadow-cyan-500/20":"bg-slate-800/50 border-slate-700/50 hover:border-slate-600/50 hover:bg-slate-800/70"}`,children:d.jsxs("div",{className:"text-center relative",children:[d.jsx("div",{className:`font-semibold transition-colors ${u?"text-white":"text-slate-300"}`,children:l>=1e3?`${l/1e3} TB`:`${l} GB`}),u&&d.jsx("div",{className:"mt-1 w-full h-0.5 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full"})]})},l)})})]})]})]})}function Mb({selectedProducts:n,selectedLibraryPacks:e,storageType:t,storageCapacity:s,totalStorage:a,customerLocation:l,onBack:u}){const[h,p]=se.useState(""),[g,b]=se.useState(!1),w=k=>k<1?`${(k*1024).toFixed(0)} MB`:`${k.toFixed(1)} GB`,v=()=>{switch(t){case"usb":return"USB Flash Drive";case"hdd":return"Hard Drive";case"sata-ssd":return"SATA SSD";case"nvme-ssd":return"NVMe SSD";default:return"Unknown"}},N=()=>{if(!h.trim()){alert("Please fill in all required fields");return}b(!0),setTimeout(()=>{b(!1),alert("Order placed successfully! Thank you for your purchase."),u()},2e3)};return d.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 text-indigo-600 hover:text-indigo-700 mb-4",children:[d.jsx(Ym,{className:"w-4 h-4"}),"Back to Studio Builder"]}),d.jsx("h1",{className:"text-slate-900 mb-2",children:"Checkout"}),d.jsx("p",{className:"text-slate-600",children:"Review your order and complete your purchase"})]}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:d.jsx(wa,{className:"w-5 h-5"})}),d.jsx("h2",{className:"text-slate-900",children:"Selected Products"})]}),d.jsx("div",{className:"space-y-3",children:n.map(k=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-slate-900",children:k.name}),d.jsx("p",{className:"text-sm text-slate-600",children:k.description})]}),d.jsx("div",{className:"text-sm text-blue-600 ml-4",children:w(k.fileSize)})]}),k.libraryPacks&&e.some(S=>k.libraryPacks.some(j=>j.id===S.id))&&d.jsx("div",{className:"ml-6 mt-2 space-y-2",children:e.filter(S=>k.libraryPacks.some(j=>j.id===S.id)).map(S=>d.jsxs("div",{className:"flex items-start justify-between p-2 bg-purple-50 rounded-lg border border-purple-100",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-sm text-slate-900",children:S.name}),d.jsx("p",{className:"text-xs text-slate-600",children:S.description})]}),d.jsx("div",{className:"text-xs text-purple-600 ml-4",children:w(S.fileSize)})]},S.id))})]},k.id))})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:d.jsx(_u,{className:"w-5 h-5"})}),d.jsx("h2",{className:"text-slate-900",children:"Storage Device"})]}),d.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-900",children:v()}),d.jsx("span",{className:"text-blue-600",children:s>=1e3?`${s/1e3} TB`:`${s} GB`})]}),d.jsxs("p",{className:"text-sm text-slate-600",children:["Total storage needed: ",w(a)]})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:d.jsx(Id,{className:"w-5 h-5"})}),d.jsx("h2",{className:"text-slate-900",children:"Customer Information"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-slate-700 mb-2",children:"Full Name *"}),d.jsx("input",{type:"text",id:"name",value:h,onChange:k=>p(k.target.value),placeholder:"Enter your full name",className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"location",className:"block text-slate-700 mb-2",children:"Delivery Location"}),d.jsx("div",{className:"p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(uu,{className:"w-5 h-5 text-emerald-600"}),d.jsx("span",{className:"text-slate-900",children:l})]})})]})]})]})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsx("div",{className:"sticky top-6",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[d.jsx("h2",{className:"text-slate-900 mb-6",children:"Order Summary"}),d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{className:"flex justify-between text-slate-600",children:[d.jsx("span",{children:"Products"}),d.jsxs("span",{children:[n.length," items"]})]}),e.length>0&&d.jsxs("div",{className:"flex justify-between text-slate-600",children:[d.jsx("span",{children:"Library Packs"}),d.jsxs("span",{children:[e.length," packs"]})]}),d.jsxs("div",{className:"flex justify-between text-slate-600",children:[d.jsx("span",{children:"Storage Device"}),d.jsx("span",{children:"1 unit"})]}),d.jsx("div",{className:"border-t border-slate-200 pt-4",children:d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-slate-900",children:"Total Storage"}),d.jsx("span",{className:"text-slate-900",children:w(a)})]})})]}),d.jsxs("button",{onClick:N,disabled:g||!h.trim(),className:"w-full py-4 px-6 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl hover:from-indigo-600 hover:to-purple-600 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(Zm,{className:"w-5 h-5"}),g?"Processing...":"Complete Order"]}),d.jsx("p",{className:"text-xs text-slate-500 text-center mt-4",children:"By completing your order, you agree to our terms of service"})]})})})]})]})}const rg=["Dar es Salaam","Mwanza","Arusha","Dodoma","Mbeya","Morogoro","Tanga","Zanzibar","Kilimanjaro","Tabora","Kigoma","Mtwara","Pwani (Coast)","Shinyanga","Kagera","Mara","Iringa","Rukwa","Lindi","Singida","Ruvuma","Katavi","Njombe","Simiyu","Geita","Songwe"],qb=["Kenya","Uganda","Congo","Somalia","Ethiopia","Rwanda","Malawi"],ng=n=>rg.includes(n)?5:{Kenya:15,Uganda:20,Congo:25,Somalia:25,Ethiopia:25,Rwanda:20,Malawi:20}[n]||50;function Ub({onLocationSelected:n,onBack:e}){const[t,s]=se.useState("choose-type"),[a,l]=se.useState(null),[u,h]=se.useState(""),[p,g]=se.useState(""),b=S=>{l(S),s("choose-location")},w=()=>{s("choose-type"),l(null),h(""),g("")},v=()=>{u&&n(u)};if(t==="choose-type")return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-purple-950 py-12",children:[d.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),d.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mb-4 shadow-lg shadow-blue-500/50",children:d.jsx(fu,{className:"w-10 h-10 text-white"})}),d.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Where Are You Located?"}),d.jsx("p",{className:"text-slate-300",children:"Select your location to calculate shipping costs"})]}),d.jsxs("div",{className:"grid gap-6 mb-8",children:[d.jsxs("button",{onClick:()=>b("tanzania"),className:"group relative p-8 bg-gradient-to-br from-slate-800/40 to-slate-900/40 backdrop-blur-xl rounded-3xl border-2 border-slate-700/50 hover:border-emerald-500/50 transition-all overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-teal-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),d.jsxs("div",{className:"relative flex items-center gap-6",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 backdrop-blur-sm rounded-2xl border border-emerald-500/30 flex items-center justify-center group-hover:scale-110 transition-transform",children:d.jsx(uu,{className:"w-8 h-8 text-emerald-300"})}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Tanzania"}),d.jsx("p",{className:"text-slate-400",children:"I'm located in Tanzania"}),d.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 px-3 py-1 bg-emerald-500/20 text-emerald-300 rounded-full border border-emerald-500/30 text-sm",children:[d.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),"Local shipping: $5"]})]}),d.jsx(lu,{className:"w-6 h-6 text-slate-400 group-hover:text-emerald-300 group-hover:translate-x-2 transition-all"})]})]}),d.jsxs("button",{onClick:()=>b("other"),className:"group relative p-8 bg-gradient-to-br from-slate-800/40 to-slate-900/40 backdrop-blur-xl rounded-3xl border-2 border-slate-700/50 hover:border-blue-500/50 transition-all overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),d.jsxs("div",{className:"relative flex items-center gap-6",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500/20 to-purple-500/20 backdrop-blur-sm rounded-2xl border border-blue-500/30 flex items-center justify-center group-hover:scale-110 transition-transform",children:d.jsx(fu,{className:"w-8 h-8 text-blue-300"})}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Other Countries"}),d.jsx("p",{className:"text-slate-400",children:"I'm from a neighboring country"}),d.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Kenya, Uganda, Congo, Somalia, Ethiopia, Rwanda, Malawi"})]}),d.jsx(lu,{className:"w-6 h-6 text-slate-400 group-hover:text-blue-300 group-hover:translate-x-2 transition-all"})]})]})]}),d.jsx("button",{onClick:e,className:"w-full py-4 px-6 bg-slate-800/50 backdrop-blur-xl text-slate-300 rounded-2xl border border-slate-700/50 hover:bg-slate-800/70 hover:border-slate-600/50 transition-all",children:"Back"})]})]});const N=a==="tanzania"?rg:qb,k=p?N.filter(S=>S.toLowerCase().includes(p.toLowerCase())):N;return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-purple-950 py-12",children:[d.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),d.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mb-4 shadow-lg shadow-blue-500/50",children:d.jsx(uu,{className:"w-10 h-10 text-white"})}),d.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent mb-2",children:a==="tanzania"?"Select Your Region":"Select Your Country"}),d.jsx("p",{className:"text-slate-300",children:a==="tanzania"?"Choose your region in Tanzania":"Choose your country from the list"})]}),d.jsx("div",{className:"mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx(uu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 z-10"}),d.jsx("input",{type:"text",placeholder:a==="tanzania"?"Search for your region...":"Search for your country...",value:p,onChange:S=>g(S.target.value),className:"w-full pl-12 pr-4 py-4 rounded-2xl border border-slate-700/50 bg-slate-800/50 backdrop-blur-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 text-white placeholder-slate-400 transition-all"})]})}),d.jsx("div",{className:"bg-gradient-to-br from-slate-800/40 to-slate-900/40 backdrop-blur-xl rounded-3xl border border-slate-700/50 overflow-hidden shadow-xl mb-6",children:d.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:d.jsx("div",{className:"divide-y divide-slate-700/30",children:k.map(S=>{const j=ng(S);return d.jsx("button",{onClick:()=>h(S),className:`w-full px-6 py-4 text-left transition-all ${u===S?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 border-l-4 border-blue-500":"hover:bg-slate-800/30"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:`block ${u===S?"text-white font-medium":"text-slate-300"}`,children:S}),u===S&&d.jsxs("span",{className:"text-sm text-cyan-300 mt-1 block",children:["Shipping: $",j]})]}),u===S&&d.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg shadow-blue-500/50 ml-4",children:d.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},S)})})})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("button",{onClick:w,className:"flex-1 py-4 px-6 bg-slate-800/50 backdrop-blur-xl text-slate-300 rounded-2xl border border-slate-700/50 hover:bg-slate-800/70 hover:border-slate-600/50 transition-all flex items-center justify-center gap-2",children:[d.jsx(Ym,{className:"w-5 h-5"}),"Back"]}),d.jsxs("button",{onClick:v,disabled:!u,className:"group relative flex-1 py-4 px-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl hover:from-blue-400 hover:to-purple-500 transition-all shadow-lg shadow-purple-500/50 hover:shadow-xl hover:shadow-purple-500/70 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-lg",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),d.jsxs("div",{className:"relative flex items-center justify-center gap-2",children:[d.jsx("span",{children:"Continue"}),d.jsx(lu,{className:"w-5 h-5"})]})]})]})]})]})}function Bb(n){return ng(n)}const zb=n=>n.isFree?0:{reaper:60,"fl-studio":199,"ableton-live":449,"logic-pro":199,keyscape:399,serum:189,kontakt:399,"valhalla-vintage":50,"fabfilter-pro-q":179,"soundtoys-bundle":499,"izotope-ozone":129,splice:9.99,loopcloud:14.99,"output-arcade":9.99}[n.id]||99,w0=n=>({"kontakt-yamaha":149,"kontakt-damage":199,"kontakt-guitars":99,"kontakt-strings":299,"kontakt-brass":249,"vital-community-1":0,"vital-bass":29,"vital-pads":29,"keyscape-vintage":149,"keyscape-modern":179,"keyscape-hybrid":99,"serum-bass":49,"serum-edm":49,"serum-fx":39,"serum-vocal":45,"labs-strings":0,"labs-ambient":0,"labs-frozen":0,"valhalla-presets-vol1":15,"valhalla-vintage-collection":20,"fabfilter-mixing":29,"fabfilter-mastering":29,"fabfilter-creative":25,"soundtoys-vintage":39,"soundtoys-modulation":35,"soundtoys-delay":35,"izotope-genre-masters":25,"izotope-loudness":20,"tdr-vocal":0,"tdr-drums":0})[n.id]||49,Fb=(n,e)=>{var s;return n&&((s={usb:{32:15,64:25,128:40},hdd:{256:45,500:60,1e3:80,2e3:120},"sata-ssd":{256:50,500:75,1e3:110,2e3:200},"nvme-ssd":{256:70,500:100,1e3:150,2e3:280}}[n])==null?void 0:s[e])||0},Hb=n=>({reaper:"https://images.unsplash.com/photo-1758179766251-6b4a0df3c936?w=400","fl-studio":"https://images.unsplash.com/photo-1758179766251-6b4a0df3c936?w=400","ableton-live":"https://images.unsplash.com/photo-1758179766251-6b4a0df3c936?w=400","logic-pro":"https://images.unsplash.com/photo-1758179766251-6b4a0df3c936?w=400",garageband:"https://images.unsplash.com/photo-1758179766251-6b4a0df3c936?w=400",cakewalk:"https://images.unsplash.com/photo-1758179766251-6b4a0df3c936?w=400",vital:"https://images.unsplash.com/photo-1642784323419-89d08b21c4de?w=400",keyscape:"https://images.unsplash.com/photo-1642784323419-89d08b21c4de?w=400",serum:"https://images.unsplash.com/photo-1642784323419-89d08b21c4de?w=400",kontakt:"https://images.unsplash.com/photo-1642784323419-89d08b21c4de?w=400",labs:"https://images.unsplash.com/photo-1642784323419-89d08b21c4de?w=400","valhalla-vintage":"https://images.unsplash.com/photo-1650147880756-32cff42ac2d7?w=400","fabfilter-pro-q":"https://images.unsplash.com/photo-1650147880756-32cff42ac2d7?w=400","soundtoys-bundle":"https://images.unsplash.com/photo-1650147880756-32cff42ac2d7?w=400","izotope-ozone":"https://images.unsplash.com/photo-1650147880756-32cff42ac2d7?w=400","free-effects":"https://images.unsplash.com/photo-1650147880756-32cff42ac2d7?w=400",splice:"https://images.unsplash.com/photo-1631692364644-d6558eab0915?w=400",loopcloud:"https://images.unsplash.com/photo-1631692364644-d6558eab0915?w=400",freesound:"https://images.unsplash.com/photo-1631692364644-d6558eab0915?w=400","output-arcade":"https://images.unsplash.com/photo-1631692364644-d6558eab0915?w=400"})[n]||"https://images.unsplash.com/photo-1758179766251-6b4a0df3c936?w=400",Vb=n=>{const e={default:"https://images.unsplash.com/photo-1692838952665-a7a9577fde9e?w=400",library:"https://images.unsplash.com/photo-1566918230723-378f6e7878d7?w=400",vintage:"https://images.unsplash.com/photo-1603850121303-d4ade9e5ba65?w=400",preset:"https://images.unsplash.com/photo-1763336333573-e1f656aa3255?w=400"};return n.includes("vintage")||n.includes("classic")?e.vintage:n.includes("preset")||n.includes("community")?e.preset:n.includes("strings")||n.includes("brass")||n.includes("piano")||n.includes("guitar")?e.library:e.default};function Kb({selectedProducts:n,selectedLibraryPacks:e,storageType:t,storageCapacity:s,totalStorage:a,customerLocation:l,onContinueToCheckout:u,onBack:h}){const[p,g]=se.useState(!0),[b,w]=se.useState(0),[v,N]=se.useState(""),[k,S]=se.useState("");se.useEffect(()=>{if(p){const xe=setInterval(()=>{w(Pe=>Pe>=100?(clearInterval(xe),setTimeout(()=>g(!1),300),100):Pe+2)},30);return()=>clearInterval(xe)}},[p]);const j=n.reduce((xe,Pe)=>xe+zb(Pe),0),L=e.reduce((xe,Pe)=>xe+w0(Pe),0),M=Fb(t,s),q=j+L+M,Y=Bb(l),te=q+Y,ae=()=>{if(!v.trim()||!k.trim()){alert("Please fill in your name and email to continue");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k)){alert("Please enter a valid email address");return}u()},me=xe=>xe<1?`${(xe*1024).toFixed(0)} MB`:`${xe.toFixed(1)} GB`,Le=()=>{switch(t){case"usb":return"USB Flash Drive";case"hdd":return"Hard Drive";case"sata-ssd":return"SATA SSD";case"nvme-ssd":return"NVMe SSD";default:return"Unknown"}};return p?d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-950 via-indigo-950 to-purple-950",children:[d.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),d.jsxs("div",{className:"text-center max-w-md mx-auto px-4 relative z-10",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-full blur-xl opacity-75 animate-pulse"}),d.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-full shadow-2xl flex items-center justify-center",children:d.jsx(wh,{className:"w-12 h-12 text-white animate-pulse"})})]}),d.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Calculating Your Total"}),d.jsx("p",{className:"text-slate-300",children:"Please wait while we process your selection..."})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("div",{className:"w-full bg-slate-800/50 rounded-full h-4 overflow-hidden border border-slate-700/50 backdrop-blur-sm",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 transition-all duration-300 ease-out rounded-full shadow-lg shadow-purple-500/50",style:{width:`${b}%`}})}),d.jsxs("p",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent mt-3",children:[b,"%"]})]})]})]}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-purple-950 py-12",children:[d.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-emerald-500/20 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-teal-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-4",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-full blur-xl opacity-75"}),d.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center shadow-2xl shadow-emerald-500/50",children:d.jsx(k1,{className:"w-10 h-10 text-white"})})]}),d.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 via-emerald-400 to-teal-400 bg-clip-text text-transparent mb-2",children:"Your Studio Summary"}),d.jsx("p",{className:"text-slate-300",children:"Here's everything you've selected for your music production setup"})]}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 backdrop-blur-sm rounded-xl border border-indigo-500/30",children:d.jsx(wa,{className:"w-5 h-5 text-indigo-300"})}),d.jsx("h2",{className:"text-2xl font-bold text-white",children:"Your Products"}),d.jsxs("span",{className:"ml-auto px-3 py-1 bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 text-slate-300 rounded-full text-sm",children:[n.length," ",n.length===1?"item":"items"]})]}),d.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:n.map(xe=>{const Pe=Hb(xe.id),T=xe.libraryPacks&&e.some(K=>xe.libraryPacks.some(P=>P.id===K.id));return d.jsxs("div",{className:"group",children:[d.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/60 to-slate-900/60 backdrop-blur-xl rounded-2xl border border-slate-700/50 overflow-hidden hover:border-purple-500/50 transition-all",children:[d.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-slate-800 to-slate-900",children:[d.jsx("img",{src:Pe,alt:xe.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-transparent"}),xe.isFree&&d.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 bg-gradient-to-r from-emerald-500 to-teal-500 backdrop-blur-sm rounded-full border border-emerald-400/50 shadow-lg",children:d.jsx("span",{className:"text-white text-xs font-bold",children:"FREE"})}),T&&d.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-gradient-to-r from-fuchsia-500/80 to-purple-500/80 backdrop-blur-sm rounded-full border border-fuchsia-400/50 shadow-lg",children:d.jsx("span",{className:"text-white text-xs font-bold",children:"+ Packs"})})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"text-white font-semibold mb-2 line-clamp-1",children:xe.name}),d.jsx("p",{className:"text-sm text-slate-400 mb-3 line-clamp-2",children:xe.description}),d.jsx("div",{className:"flex items-center justify-between text-xs",children:d.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded-lg border border-blue-500/30",children:me(xe.fileSize)})})]})]}),T&&d.jsx("div",{className:"mt-3 ml-4 space-y-2",children:e.filter(K=>xe.libraryPacks.some(P=>P.id===K.id)).map(K=>{const P=Vb(K.id),G=w0(K)===0;return d.jsx("div",{className:"group/pack relative bg-gradient-to-r from-fuchsia-500/10 to-purple-500/10 backdrop-blur-sm rounded-xl border border-fuchsia-500/30 overflow-hidden hover:border-fuchsia-500/50 transition-all",children:d.jsxs("div",{className:"flex items-center gap-3 p-3",children:[d.jsxs("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-gradient-to-br from-slate-800 to-slate-900",children:[d.jsx("img",{src:P,alt:K.name,className:"w-full h-full object-cover group-hover/pack:scale-110 transition-transform duration-500"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent"}),G&&d.jsx("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-emerald-500 rounded text-[10px] font-bold text-white",children:"FREE"})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-fuchsia-400 rounded-full flex-shrink-0"}),d.jsx("h4",{className:"text-sm text-white font-medium truncate",children:K.name})]}),d.jsx("p",{className:"text-xs text-slate-400",children:me(K.fileSize)})]})]})},K.id)})})]},xe.id)})})]})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"sticky top-6 space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-slate-800/40 to-slate-900/40 backdrop-blur-xl rounded-3xl border border-slate-700/50 overflow-hidden shadow-xl",children:[d.jsxs("div",{className:"p-6 border-b border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 backdrop-blur-sm rounded-xl border border-blue-500/30",children:d.jsx(_u,{className:"w-5 h-5 text-blue-300"})}),d.jsx("h2",{className:"text-white font-semibold",children:"Storage Device"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 rounded-lg",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),d.jsx("span",{className:"text-sm text-blue-300 font-medium",children:Le()})]}),d.jsx("h3",{className:"text-2xl font-bold text-white",children:s>=1e3?`${s/1e3} TB`:`${s} GB`}),d.jsx("div",{className:"pt-3 border-t border-slate-700/50",children:d.jsxs("p",{className:"text-sm text-slate-400",children:[me(a)," used of ",s>=1e3?`${s/1e3} TB`:`${s} GB`]})})]})]}),d.jsxs("div",{className:"p-6 border-b border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500/20 to-pink-500/20 backdrop-blur-sm rounded-xl border border-purple-500/30",children:d.jsx(kb,{className:"w-5 h-5 text-purple-300"})}),d.jsx("h2",{className:"text-white font-semibold",children:"Shipping"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white mb-1",children:"Delivery Location"}),d.jsx("p",{className:"text-sm text-slate-400",children:l})]})]}),d.jsx("div",{className:"p-6 bg-slate-900/50 backdrop-blur-sm",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between text-slate-400",children:[d.jsx("span",{children:"Products & Tools"}),d.jsxs("span",{className:"text-slate-300",children:["$",(j+L).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-slate-400",children:[d.jsx("span",{children:"Storage Device"}),d.jsxs("span",{className:"text-slate-300",children:["$",M.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between text-slate-400",children:[d.jsx("span",{children:"Shipping"}),d.jsxs("span",{className:"text-slate-300",children:["$",Y.toFixed(2)]})]}),d.jsx("div",{className:"border-t border-slate-700/50 pt-4 mt-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-lg text-white font-semibold",children:"Total Amount"}),d.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:["$",te.toFixed(2)]})]})})]})})]}),d.jsx("div",{className:"bg-gradient-to-br from-slate-800/40 to-slate-900/40 backdrop-blur-xl rounded-3xl border border-slate-700/50 overflow-hidden shadow-xl",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 backdrop-blur-sm rounded-xl border border-indigo-500/30",children:d.jsx(Id,{className:"w-5 h-5 text-indigo-300"})}),d.jsx("h2",{className:"text-white font-semibold",children:"Client Details"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"customer-name",className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name *"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Id,{className:"w-5 h-5 text-slate-500"})}),d.jsx("input",{id:"customer-name",type:"text",value:v,onChange:xe=>N(xe.target.value),placeholder:"Enter your full name",className:"w-full pl-12 pr-4 py-3 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"customer-email",className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Address *"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Ro,{className:"w-5 h-5 text-slate-500"})}),d.jsx("input",{id:"customer-email",type:"email",value:k,onChange:xe=>S(xe.target.value),placeholder:"your.email@example.com",className:"w-full pl-12 pr-4 py-3 bg-slate-900/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all"})]})]})]})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:ae,className:"group relative w-full py-4 px-6 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-2xl hover:from-emerald-400 hover:to-teal-400 transition-all shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:shadow-emerald-500/70",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),d.jsxs("div",{className:"relative flex items-center justify-center gap-2",children:[d.jsx("span",{className:"font-semibold",children:"Order Now"}),d.jsx(lu,{className:"w-5 h-5"})]})]}),d.jsx("button",{onClick:h,className:"w-full py-4 px-6 bg-slate-800/50 backdrop-blur-xl text-slate-300 rounded-2xl border border-slate-700/50 hover:bg-slate-800/70 hover:border-slate-600/50 transition-all",children:"Back to Selection"})]})]})})]})]})]})}const sg=se.createContext(void 0),Wb={en:{"app.title":"Build Your Music Production Studio","app.subtitle":"Select the perfect tools for your music journey","settings.language":"Language","settings.currency":"Currency","category.daw.title":"DAW (Where You Make Music)","category.daw.subtitle":"Your main workspace for creating, recording, and arranging music","category.daw.helper":"You usually only need one","category.instruments.title":"Instruments (Sound Makers)","category.instruments.subtitle":"Virtual instruments to create melodies, beats, and bass lines","category.effects.title":"Effects & Audio Tools","category.effects.subtitle":"Plugins to polish and enhance your sound","category.samples.title":"Samples & Creative Tools","category.samples.subtitle":"Pre-made sounds and loops to speed up your workflow","product.free":"FREE","product.packs":"+ Packs","product.libraryPacks":"Library Packs","storage.title":"Choose Your Storage Device","storage.subtitle":"Select where you'll store all your music tools","storage.totalNeeded":"Total Storage Needed","storage.recommended":"Recommended","storage.capacity":"Capacity","storage.device":"Storage Device","storage.used":"used of","storage.usb":"USB Flash Drive","storage.hdd":"Hard Drive (HDD)","storage.sata":"SATA SSD","storage.nvme":"NVMe SSD","location.title":"Where Should We Ship?","location.subtitle":"Choose your delivery location","location.primary":"Choose Location","location.secondary":"Select Region/Country","location.tanzania":"Tanzania","location.other":"Other Countries","region.dar":"Dar es Salaam","region.arusha":"Arusha","region.mwanza":"Mwanza","region.dodoma":"Dodoma","region.mbeya":"Mbeya","region.zanzibar":"Zanzibar","country.kenya":"Kenya","country.uganda":"Uganda","country.rwanda":"Rwanda","country.congo":"Congo","country.ethiopia":"Ethiopia","country.somalia":"Somalia","country.malawi":"Malawi","summary.title":"Your Studio Summary","summary.subtitle":"Here's everything you've selected for your music production setup","summary.calculating":"Calculating Your Total","summary.wait":"Please wait while we process your selection...","summary.yourProducts":"Your Products","summary.items":"items","summary.item":"item","price.products":"Products & Tools","price.storage":"Storage Device","price.shipping":"Shipping","price.total":"Total Amount","price.deliveryLocation":"Delivery Location","client.title":"Client Details","client.name":"Full Name","client.email":"Email Address","client.namePlaceholder":"Enter your full name","client.emailPlaceholder":"your.email@example.com","button.continue":"Continue","button.back":"Back to Selection","button.orderNow":"Order Now","button.viewSummary":"View Summary & Checkout","message.fillDetails":"Please fill in your name and email to continue","message.validEmail":"Please enter a valid email address","message.selectProducts":"Please select at least one product","message.selectStorage":"Please select a storage device","message.selectLocation":"Please select your delivery location"},sw:{"app.title":"Jenga Studio Yako ya Kutengeneza Muziki","app.subtitle":"Chagua zana kamili kwa safari yako ya muziki","settings.language":"Lugha","settings.currency":"Sarafu","category.daw.title":"DAW (Mahali Unapotengeneza Muziki)","category.daw.subtitle":"Eneo lako kuu la kuunda, kurekodi, na kupanga muziki","category.daw.helper":"Kwa kawaida unahitaji moja tu","category.instruments.title":"Vyombo vya Muziki (Vatengenezaji Sauti)","category.instruments.subtitle":"Vyombo vya dijiti vya kuunda melodi, mapigo, na mistari ya bass","category.effects.title":"Athari na Zana za Sauti","category.effects.subtitle":"Programu za kuboresha na kuongeza ubora wa sauti yako","category.samples.title":"Sampuli na Zana za Ubunifu","category.samples.subtitle":"Sauti zilizotayarishwa na loops ili kuharakisha mchakato wako","product.free":"BURE","product.packs":"+ Vifurushi","product.libraryPacks":"Vifurushi vya Maktaba","storage.title":"Chagua Kifaa chako cha Kuhifadhi","storage.subtitle":"Chagua mahali utakopohifadhi zana zako zote za muziki","storage.totalNeeded":"Jumla ya Nafasi Inayohitajika","storage.recommended":"Inashauriwa","storage.capacity":"Uwezo","storage.device":"Kifaa cha Kuhifadhi","storage.used":"imetumika kati ya","storage.usb":"USB Flash Drive","storage.hdd":"Hard Drive (HDD)","storage.sata":"SATA SSD","storage.nvme":"NVMe SSD","location.title":"Tulete Wapi?","location.subtitle":"Chagua eneo lako la uwasilishaji","location.primary":"Chagua Eneo","location.secondary":"Chagua Mkoa/Nchi","location.tanzania":"Tanzania","location.other":"Nchi Nyingine","region.dar":"Dar es Salaam","region.arusha":"Arusha","region.mwanza":"Mwanza","region.dodoma":"Dodoma","region.mbeya":"Mbeya","region.zanzibar":"Zanzibar","country.kenya":"Kenya","country.uganda":"Uganda","country.rwanda":"Rwanda","country.congo":"Congo","country.ethiopia":"Ethiopia","country.somalia":"Somalia","country.malawi":"Malawi","summary.title":"Muhtasari wa Studio Yako","summary.subtitle":"Hapa kuna kila kitu ulichochagua kwa mfumo wako wa kutengeneza muziki","summary.calculating":"Tunahesabu Jumla Yako","summary.wait":"Tafadhali subiri tunapochakata uchaguzi wako...","summary.yourProducts":"Bidhaa Zako","summary.items":"vitu","summary.item":"kitu","price.products":"Bidhaa na Zana","price.storage":"Kifaa cha Kuhifadhi","price.shipping":"Usafirishaji","price.total":"Jumla ya Malipo","price.deliveryLocation":"Eneo la Uwasilishaji","client.title":"Maelezo ya Mteja","client.name":"Jina Kamili","client.email":"Anwani ya Barua Pepe","client.namePlaceholder":"Ingiza jina lako kamili","client.emailPlaceholder":"barua.pepe@mfano.com","button.continue":"Endelea","button.back":"Rudi Kwa Uchaguzi","button.orderNow":"Oda Sasa","button.viewSummary":"Tazama Muhtasari na Lipia","message.fillDetails":"Tafadhali jaza jina na barua pepe yako ili kuendelea","message.validEmail":"Tafadhali ingiza anwani sahihi ya barua pepe","message.selectProducts":"Tafadhali chagua angalau bidhaa moja","message.selectStorage":"Tafadhali chagua kifaa cha kuhifadhi","message.selectLocation":"Tafadhali chagua eneo lako la uwasilishaji"}};function Gb({children:n}){const[e,t]=se.useState("en"),[s,a]=se.useState("USD"),l=h=>Wb[e][h]||h,u=h=>s==="TZS"?`${(h*2500).toLocaleString("en-US",{maximumFractionDigits:0})} TZS`:`$${h.toFixed(2)}`;return d.jsx(sg.Provider,{value:{language:e,setLanguage:t,currency:s,setCurrency:a,t:l,formatPrice:u},children:n})}function ig(){const n=se.useContext(sg);if(!n)throw new Error("useLanguage must be used within a LanguageProvider");return n}function Jb(){const{language:n,setLanguage:e,currency:t,setCurrency:s,t:a}=ig();return d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"relative group",children:d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-xl hover:border-purple-500/50 transition-all",children:[d.jsx(fu,{className:"w-4 h-4 text-purple-400"}),d.jsxs("select",{value:n,onChange:l=>e(l.target.value),className:"bg-transparent text-white text-sm outline-none cursor-pointer pr-2","aria-label":a("settings.language"),children:[d.jsx("option",{value:"en",className:"bg-slate-900",children:"English"}),d.jsx("option",{value:"sw",className:"bg-slate-900",children:"Swahili"})]})]})}),d.jsx("div",{className:"relative group",children:d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-xl hover:border-emerald-500/50 transition-all",children:[d.jsx(q1,{className:"w-4 h-4 text-emerald-400"}),d.jsxs("select",{value:t,onChange:l=>s(l.target.value),className:"bg-transparent text-white text-sm outline-none cursor-pointer pr-2","aria-label":a("settings.currency"),children:[d.jsx("option",{value:"USD",className:"bg-slate-900",children:"USD"}),d.jsx("option",{value:"TZS",className:"bg-slate-900",children:"TZS"})]})]})})]})}function ku(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}function Qb(n,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function h(b){try{g(s.next(b))}catch(w){u(w)}}function p(b){try{g(s.throw(b))}catch(w){u(w)}}function g(b){b.done?l(b.value):a(b.value).then(h,p)}g((s=s.apply(n,e||[])).next())})}const Yb=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Nh extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Zb extends Nh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _0 extends Nh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class N0 extends Nh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $d;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})($d||($d={}));class Xb{constructor(e,{headers:t={},customFetch:s,region:a=$d.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=Yb(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Qb(this,arguments,void 0,function*(t,s={}){var a;let l,u;try{const{headers:h,method:p,body:g,signal:b,timeout:w}=s;let v={},{region:N}=s;N||(N=this.region);const k=new URL(`${this.url}/${t}`);N&&N!=="any"&&(v["x-region"]=N,k.searchParams.set("forceFunctionRegion",N));let S;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=g):typeof g=="string"?(v["Content-Type"]="text/plain",S=g):typeof FormData<"u"&&g instanceof FormData?S=g:(v["Content-Type"]="application/json",S=JSON.stringify(g)):S=g;let j=b;w&&(u=new AbortController,l=setTimeout(()=>u.abort(),w),b?(j=u.signal,b.addEventListener("abort",()=>u.abort())):j=u.signal);const L=yield this.fetch(k.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:S,signal:j}).catch(te=>{throw new Zb(te)}),M=L.headers.get("x-relay-error");if(M&&M==="true")throw new _0(L);if(!L.ok)throw new N0(L);let q=((a=L.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),Y;return q==="application/json"?Y=yield L.json():q==="application/octet-stream"||q==="application/pdf"?Y=yield L.blob():q==="text/event-stream"?Y=L:q==="multipart/form-data"?Y=yield L.formData():Y=yield L.text(),{data:Y,error:null,response:L}}catch(h){return{data:null,error:h,response:h instanceof N0||h instanceof _0?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var ex=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},tx=class{constructor(n){var e,t;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,h=null,p=null,g=l.status,b=l.statusText;if(l.ok){var w,v;if(t.method!=="HEAD"){var N;const L=await l.text();L===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((N=t.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?h=L:h=JSON.parse(L))}const S=(w=t.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),j=(v=l.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&j&&j.length>1&&(p=parseInt(j[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,g=406,b="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var k;const S=await l.text();try{u=JSON.parse(S),Array.isArray(u)&&l.status===404&&(h=[],u=null,g=200,b="OK")}catch{l.status===404&&S===""?(g=204,b="No Content"):u={message:S}}if(u&&t.isMaybeSingle&&(!(u==null||(k=u.details)===null||k===void 0)&&k.includes("0 rows"))&&(u=null,g=200,b="OK"),u&&t.shouldThrowOnError)throw new ex(u)}return{error:u,data:h,count:p,status:g,statusText:b}});return this.shouldThrowOnError||(a=a.catch(l=>{var u;let h="";const p=l==null?void 0:l.cause;if(p){var g,b,w,v;const k=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",S=(b=p==null?void 0:p.code)!==null&&b!==void 0?b:"";h=`${(w=l==null?void 0:l.name)!==null&&w!==void 0?w:"FetchError"}: ${l==null?void 0:l.message}`,h+=`

Caused by: ${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"Error"}: ${k}`,S&&(h+=` (${S})`),p!=null&&p.stack&&(h+=`
${p.stack}`)}else{var N;h=(N=l==null?void 0:l.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(n,e)}returns(){return this}overrideTypes(){return this}},rx=class extends tx{select(n){let e=!1;const t=(n??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const s=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(s,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:s=t}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${n}`),this.url.searchParams.set(l,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var u;const h=[n?"analyze":null,e?"verbose":null,t?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const k0=new RegExp("[,()]");var ha=class extends rx{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(s=>typeof s=="string"&&k0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(s=>typeof s=="string"&&k0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${a}fts${l}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const s=t?`${t}.or`:"or";return this.url.searchParams.append(s,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},nx=class{constructor(n,{headers:e={},schema:t,fetch:s}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=s}select(n,e){const{head:t=!1,count:s}=e??{},a=t?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new ha({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:t=!0}={}){var s;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const l=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new ha({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:s,defaultToNull:a=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new ha({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(n,{count:e}={}){var t;const s="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ha({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:n}={}){var e;const t="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new ha({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},sx=class ag{constructor(e,{headers:t={},schema:s,fetch:a}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new nx(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ag(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:a=!1,count:l}={}){var u;let h;const p=new URL(`${this.url}/rpc/${e}`);let g;s||a?(h=s?"HEAD":"GET",Object.entries(t).filter(([w,v])=>v!==void 0).map(([w,v])=>[w,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([w,v])=>{p.searchParams.append(w,v)})):(h="POST",g=t);const b=new Headers(this.headers);return l&&b.set("Prefer",`count=${l}`),new ha({method:h,url:p,headers:b,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class ix{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ax="2.89.0",ox=`realtime-js/${ax}`,og="1.0.0",lx="2.0.0",S0=og,Dd=1e4,ux=1e3,cx=100;var As;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(As||(As={}));var xt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(xt||(xt={}));var Qr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Qr||(Qr={}));var Md;(function(n){n.websocket="websocket"})(Md||(Md={}));var mi;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(mi||(mi={}));class dx{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;const a=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var t,s;const a=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,t,s){var a,l;const u=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",g=e.payload.event,b=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+u.length+g.length+w.length,N=new ArrayBuffer(this.HEADER_LENGTH+v);let k=new DataView(N),S=0;k.setUint8(S++,this.KINDS.userBroadcastPush),k.setUint8(S++,p.length),k.setUint8(S++,h.length),k.setUint8(S++,u.length),k.setUint8(S++,g.length),k.setUint8(S++,w.length),k.setUint8(S++,t),Array.from(p,L=>k.setUint8(S++,L.charCodeAt(0))),Array.from(h,L=>k.setUint8(S++,L.charCodeAt(0))),Array.from(u,L=>k.setUint8(S++,L.charCodeAt(0))),Array.from(g,L=>k.setUint8(S++,L.charCodeAt(0))),Array.from(w,L=>k.setUint8(S++,L.charCodeAt(0)));var j=new Uint8Array(N.byteLength+s.byteLength);return j.set(new Uint8Array(N),0),j.set(new Uint8Array(s),N.byteLength),j.buffer}decode(e,t){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return t(s)}if(typeof e=="string"){const s=JSON.parse(e),[a,l,u,h,p]=s;return t({join_ref:a,ref:l,topic:u,event:h,payload:p})}return t({})}_binaryDecode(e){const t=new DataView(e),s=t.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,a)}}_decodeUserBroadcast(e,t,s){const a=t.getUint8(1),l=t.getUint8(2),u=t.getUint8(3),h=t.getUint8(4);let p=this.HEADER_LENGTH+4;const g=s.decode(e.slice(p,p+a));p=p+a;const b=s.decode(e.slice(p,p+l));p=p+l;const w=s.decode(e.slice(p,p+u));p=p+u;const v=e.slice(p,e.byteLength),N=h===this.JSON_ENCODING?JSON.parse(s.decode(v)):v,k={type:this.BROADCAST_EVENT,event:b,payload:N};return u>0&&(k.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>t.includes(s)))}}class lg{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(We||(We={}));const E0=(n,e,t={})=>{var s;const a=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=hx(u,n,e,a),l),{}):{}},hx=(n,e,t,s)=>{const a=e.find(h=>h.name===n),l=a==null?void 0:a.type,u=t[n];return l&&!s.includes(l)?ug(l,u):qd(u)},ug=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return gx(e,t)}switch(n){case We.bool:return fx(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return px(e);case We.json:case We.jsonb:return mx(e);case We.timestamp:return yx(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return qd(e);default:return qd(e)}},qd=n=>n,fx=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},px=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},mx=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},gx=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let l;const u=n.slice(1,t);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>ug(e,h))}return n},yx=n=>typeof n=="string"?n.replace(" ","T"):n,cg=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class cd{constructor(e,t,s={},a=Dd){this.channel=e,this.event=t,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var j0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(j0||(j0={}));class Eo{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Eo.syncState(this.state,a,l,u),this.pendingDiffs.forEach(p=>{this.state=Eo.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Eo.syncDiff(this.state,a,l,u),h())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,a){const l=this.cloneDeep(e),u=this.transformState(t),h={},p={};return this.map(l,(g,b)=>{u[g]||(p[g]=b)}),this.map(u,(g,b)=>{const w=l[g];if(w){const v=b.map(j=>j.presence_ref),N=w.map(j=>j.presence_ref),k=b.filter(j=>N.indexOf(j.presence_ref)<0),S=w.filter(j=>v.indexOf(j.presence_ref)<0);k.length>0&&(h[g]=k),S.length>0&&(p[g]=S)}else h[g]=b}),this.syncDiff(l,{joins:h,leaves:p},s,a)}static syncDiff(e,t,s,a){const{joins:l,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(h,p)=>{var g;const b=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(p),b.length>0){const w=e[h].map(N=>N.presence_ref),v=b.filter(N=>w.indexOf(N.presence_ref)<0);e[h].unshift(...v)}s(h,b,p)}),this.map(u,(h,p)=>{let g=e[h];if(!g)return;const b=p.map(w=>w.presence_ref);g=g.filter(w=>b.indexOf(w.presence_ref)<0),e[h]=g,a(h,g,p),g.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const a=e[s];return"metas"in a?t[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[s]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var T0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(T0||(T0={}));var jo;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(jo||(jo={}));var Vn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Vn||(Vn={}));class _a{constructor(e,t={config:{}},s){var a,l;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new cd(this,Qr.join,this.params,this.timeout),this.rejoinTimer=new lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qr.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Eo(this),this.broadcastEndpointURL=cg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:u,presence:h,private:p}}=this.params,g=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(N=>N.filter))!==null&&a!==void 0?a:[],b=!!this.bindings[jo.PRESENCE]&&this.bindings[jo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,w={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:b}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(N=>e==null?void 0:e(Vn.CHANNEL_ERROR,N)),this._onClose(()=>e==null?void 0:e(Vn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},w)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:N})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){e==null||e(Vn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(k=S==null?void 0:S.length)!==null&&k!==void 0?k:0,L=[];for(let M=0;M<j;M++){const q=S[M],{filter:{event:Y,schema:te,table:ae,filter:me}}=q,Le=N&&N[M];if(Le&&Le.event===Y&&_a.isFilterValueEqual(Le.schema,te)&&_a.isFilterValueEqual(Le.table,ae)&&_a.isFilterValueEqual(Le.filter,me))L.push(Object.assign(Object.assign({},q),{id:Le.id}));else{this.unsubscribe(),this.state=xt.errored,e==null||e(Vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,e&&e(Vn.SUBSCRIBED);return}}).receive("error",N=>{this.state=xt.errored,e==null||e(Vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===xt.joined&&e===jo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var a;if(t==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const g=await h.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(e,t={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,p;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new cd(this,Qr.leave,{},e),s.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xt.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(l),u}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new cd(this,e,t,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cx){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var a,l;const u=e.toLocaleLowerCase(),{close:h,error:p,leave:g,join:b}=Qr;if(s&&[h,p,g,b].indexOf(u)>=0&&s!==this._joinRef())return;let v=this._onMessage(u,t,s);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(N=>{var k,S,j;return((k=N.filter)===null||k===void 0?void 0:k.event)==="*"||((j=(S=N.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(N=>N.callback(v,s)):(l=this.bindings[u])===null||l===void 0||l.filter(N=>{var k,S,j,L,M,q;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in N){const Y=N.id,te=(k=N.filter)===null||k===void 0?void 0:k.event;return Y&&((S=t.ids)===null||S===void 0?void 0:S.includes(Y))&&(te==="*"||(te==null?void 0:te.toLocaleLowerCase())===((j=t.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const Y=(M=(L=N==null?void 0:N.filter)===null||L===void 0?void 0:L.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return Y==="*"||Y===((q=t==null?void 0:t.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===u}).map(N=>{if(typeof v=="object"&&"ids"in v){const k=v.data,{schema:S,table:j,commit_timestamp:L,type:M,errors:q}=k;v=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:L,eventType:M,new:{},old:{},errors:q}),this._getPayloadRecords(k))}N.callback(v,s)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const a=e.toLocaleLowerCase(),l={type:a,filter:t,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&_a.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qr.close,{},e)}_onError(e){this._on(Qr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=E0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=E0(e.columns,e.old_record)),t}}const dd=()=>{},Gl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vx=[1e3,2e3,5e3,1e4],bx=1e4,xx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wx{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dd,this.transport=null,this.heartbeatIntervalMs=Gl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dd,this.ref=0,this.reconnectTimer=null,this.vsn=S0,this.logger=dd,this.conn=null,this.sendBuffer=[],this.serializer=new dx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((s=t==null?void 0:t.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Md.websocket}`,this.httpEndpoint=cg(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ix.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case As.connecting:return mi.Connecting;case As.open:return mi.Open;case As.closing:return mi.Closing;default:return mi.Closed}}isConnected(){return this.connectionState()===mi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===s);if(a)return a;{const l=new _a(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:s,payload:a,ref:l}=e,u=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${t} ${s} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ux,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Gl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:l,ref:u}=t,h=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${s} ${a} ${h}`.trim(),l),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(a,l,u)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===As.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===As.open||this.conn.readyState===As.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${s}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([xx],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,s=!1;if(e)t=e,s=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),t=this.accessTokenValue}else t=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(a=>{const l={access_token:t,version:ox};t&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Qr.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new lg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,a,l,u,h,p,g,b,w,v,N;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Dd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Gl.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:dd,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:S0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:(k=>vx[k-1]||bx),this.vsn){case og:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:((k,S)=>S(JSON.stringify(k))),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:((k,S)=>S(JSON.parse(k)));break;case lx:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(N=e==null?void 0:e.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Lo=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _x(n,e,t){const s=new URL(e,n);if(t)for(const[a,l]of Object.entries(t))l!==void 0&&s.searchParams.set(a,l);return s.toString()}async function Nx(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function kx(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:s,query:a,body:l,headers:u}){const h=_x(n.baseUrl,s,a),p=await Nx(n.auth),g=await e(h,{method:t,headers:{...l?{"Content-Type":"application/json"}:{},...p,...u},body:l?JSON.stringify(l):void 0}),b=await g.text(),w=(g.headers.get("content-type")||"").includes("application/json"),v=w&&b?JSON.parse(b):b;if(!g.ok){const N=w?v:void 0,k=N==null?void 0:N.error;throw new Lo((k==null?void 0:k.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:N})}return{status:g.status,headers:g.headers,data:v}}}}function Jl(n){return n.join("")}var Sx=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Jl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jl(n.namespace)}`}),!0}catch(e){if(e instanceof Lo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof Lo&&t.status===409)return;throw t}}};function aa(n){return n.join("")}var Ex=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${aa(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${aa(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${aa(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${aa(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${aa(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${aa(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof Lo&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof Lo&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},jx=class{constructor(n){var s;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=kx({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(s=n.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new Sx(this.client,e),this.tableOps=new Ex(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},Su=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function it(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Tx=class extends Su{constructor(n,e,t){super(n),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ud=class extends Su{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const kh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Cx=()=>Response,Bd=n=>{if(Array.isArray(n))return n.map(t=>Bd(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,s])=>{const a=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Bd(s)}),e},Ax=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ox=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Po(n){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(n)}function Rx(n,e){if(Po(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(Po(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Lx(n){var e=Rx(n,"string");return Po(e)=="symbol"?e:e+""}function Px(n,e,t){return(e=Lx(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function C0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function Te(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C0(Object(t),!0).forEach(function(s){Px(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C0(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}const hd=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Ix=async(n,e,t)=>{n instanceof await Cx()&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{const a=n.status||500,l=(s==null?void 0:s.statusCode)||a+"";e(new Tx(hd(s),a,l))}).catch(s=>{e(new Ud(hd(s),s))}):e(new Ud(hd(n),n))},$x=(n,e,t,s)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!s?a:(Ax(s)?(a.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,e!=null&&e.duplex&&(a.duplex=e.duplex),Te(Te({},a),t))};async function Ko(n,e,t,s,a,l){return new Promise((u,h)=>{n(t,$x(e,s,a,l)).then(p=>{if(!p.ok)throw p;return s!=null&&s.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>Ix(p,h,s))})}async function Io(n,e,t,s){return Ko(n,"GET",e,t,s)}async function Jr(n,e,t,s,a){return Ko(n,"POST",e,s,a,t)}async function zd(n,e,t,s,a){return Ko(n,"PUT",e,s,a,t)}async function Dx(n,e,t,s){return Ko(n,"HEAD",e,Te(Te({},t),{},{noResolveJson:!0}),s)}async function Sh(n,e,t,s,a){return Ko(n,"DELETE",e,s,a,t)}var Mx=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(it(e))return{data:null,error:e};throw e}}};let dg;dg=Symbol.toStringTag;var qx=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[dg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mx(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(it(e))return{data:null,error:e};throw e}}};const Ux={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},A0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Bx=class{constructor(n,e={},t,s){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=t,this.fetch=kh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,t,s){var a=this;try{let l;const u=Te(Te({},A0),s);let h=Te(Te({},a.headers),n==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&t instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",a.encodeMetadata(p)),l.append("",t)):typeof FormData<"u"&&t instanceof FormData?(l=t,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),p&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(p))):(l=t,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),s!=null&&s.headers&&(h=Te(Te({},h),s.headers));const g=a._removeEmptyFolders(e),b=a._getFinalPath(g),w=await(n=="PUT"?zd:Jr)(a.fetch,`${a.url}/object/${b}`,l,Te({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(it(l))return{data:null,error:l};throw l}}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,s){var a=this;const l=a._removeEmptyFolders(n),u=a._getFinalPath(l),h=new URL(a.url+`/object/upload/sign/${u}`);h.searchParams.set("token",e);try{let p;const g=Te({upsert:A0.upsert},s),b=Te(Te({},a.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&t instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",t)):typeof FormData<"u"&&t instanceof FormData?(p=t,p.append("cacheControl",g.cacheControl)):(p=t,b["cache-control"]=`max-age=${g.cacheControl}`,b["content-type"]=g.contentType),{data:{path:l,fullPath:(await zd(a.fetch,h.toString(),p,{headers:b})).Key},error:null}}catch(p){if(a.shouldThrowOnError)throw p;if(it(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(n,e){var t=this;try{let s=t._getFinalPath(n);const a=Te({},t.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const l=await Jr(t.fetch,`${t.url}/object/upload/sign/${s}`,{},{headers:a}),u=new URL(t.url+l.url),h=u.searchParams.get("token");if(!h)throw new Su("No token returned by API");return{data:{signedUrl:u.toString(),path:n,token:h},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var s=this;try{return{data:await Jr(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}}async copy(n,e,t){var s=this;try{return{data:{path:(await Jr(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:s.headers})).Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}}async createSignedUrl(n,e,t){var s=this;try{let a=s._getFinalPath(n),l=await Jr(s.fetch,`${s.url}/object/sign/${a}`,Te({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:s.headers});const u=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return l={signedUrl:encodeURI(`${s.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}}async createSignedUrls(n,e,t){var s=this;try{const a=await Jr(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:n},{headers:s.headers}),l=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:a.map(u=>Te(Te({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}}download(n,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=s?`?${s}`:"",l=this._getFinalPath(n),u=()=>Io(this.fetch,`${this.url}/${t}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new qx(u,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);try{return{data:Bd(await Io(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await Dx(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(it(s)&&s instanceof Ud){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}}getPublicUrl(n,e){const t=this._getFinalPath(n),s=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&s.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&s.push(u);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${t}${h}`)}}}async remove(n){var e=this;try{return{data:await Sh(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async list(n,e,t){var s=this;try{const a=Te(Te(Te({},Ux),e),{},{prefix:n||""});return{data:await Jr(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},t),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}}async listV2(n,e){var t=this;try{const s=Te({},n);return{data:await Jr(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,s,{headers:t.headers},e),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const hg="2.89.0",fg={"X-Client-Info":`storage-js/${hg}`};var zx=class{constructor(n,e={},t,s){this.shouldThrowOnError=!1;const a=new URL(n);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Te(Te({},fg),e),this.fetch=kh(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const t=e.listBucketOptionsToQueryString(n);return{data:await Io(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await Io(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async createBucket(n,e={public:!1}){var t=this;try{return{data:await Jr(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async updateBucket(n,e){var t=this;try{return{data:await zd(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(it(s))return{data:null,error:s};throw s}}async emptyBucket(n){var e=this;try{return{data:await Jr(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await Sh(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Fx=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Te(Te({},fg),e),this.fetch=kh(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Jr(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async listBuckets(n){var e=this;try{const t=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&t.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&t.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&t.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&t.set("sortOrder",n.sortOrder),n!=null&&n.search&&t.set("search",n.search);const s=t.toString(),a=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await Io(e.fetch,a,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await Sh(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(it(t))return{data:null,error:t};throw t}}from(n){var e=this;if(!Ox(n))throw new Su("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new jx({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(t,{get(a,l){const u=a[l];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(a,h),error:null}}catch(p){if(s)throw p;return{data:null,error:p}}}}})}};const Eh={"X-Client-Info":`storage-js/${hg}`,"Content-Type":"application/json"};var pg=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function dr(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var fd=class extends pg{constructor(n,e,t){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hx=class extends pg{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const jh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Vx=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},O0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Kx=async(n,e,t)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const s=n.status||500,a=n;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new fd(O0(l),s,u))}).catch(()=>{const l=s+"";e(new fd(a.statusText||`HTTP ${s} error`,s,l))});else{const l=s+"";e(new fd(a.statusText||`HTTP ${s} error`,s,l))}}else e(new Hx(O0(n),n))},Wx=(n,e,t,s)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return s?(Vx(s)?(a.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,Te(Te({},a),t)):a};async function Gx(n,e,t,s,a,l){return new Promise((u,h)=>{n(t,Wx(e,s,a,l)).then(p=>{if(!p.ok)throw p;if(s!=null&&s.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>Kx(p,h,s))})}async function hr(n,e,t,s,a){return Gx(n,"POST",e,s,a,t)}var Jx=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Te(Te({},Eh),e),this.fetch=jh(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await hr(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}async getIndex(n,e){var t=this;try{return{data:await hr(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}async listIndexes(n){var e=this;try{return{data:await hr(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}async deleteIndex(n,e){var t=this;try{return{data:await hr(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}},Qx=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Te(Te({},Eh),e),this.fetch=jh(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await hr(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}async getVectors(n){var e=this;try{return{data:await hr(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await hr(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}async queryVectors(n){var e=this;try{return{data:await hr(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await hr(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}},Yx=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Te(Te({},Eh),e),this.fetch=jh(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await hr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await hr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}async listBuckets(n={}){var e=this;try{return{data:await hr(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await hr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dr(t))return{data:null,error:t};throw t}}},Zx=class extends Yx{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new Xx(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},Xx=class extends Jx{constructor(n,e,t,s){super(n,e,s),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,Te(Te({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,Te(Te({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new ew(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},ew=class extends Qx{constructor(n,e,t,s,a){super(n,e,a),this.vectorBucketName=t,this.indexName=s}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,Te(Te({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,Te(Te({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,Te(Te({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,Te(Te({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,Te(Te({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},tw=class extends zx{constructor(n,e={},t,s){super(n,e,t,s)}from(n){return new Bx(this.url,this.headers,n,this.fetch)}get vectors(){return new Zx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fx(this.url+"/iceberg",this.headers,this.fetch)}};const mg="2.89.0",fa=30*1e3,Fd=3,pd=Fd*fa,rw="http://localhost:9999",nw="supabase.auth.token",sw={"X-Client-Info":`gotrue-js/${mg}`},Hd="X-Supabase-Api-Version",gg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aw=600*1e3;class $o extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function _e(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ow extends $o{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function lw(n){return _e(n)&&n.name==="AuthApiError"}class gi extends $o{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Jn extends $o{constructor(e,t,s,a){super(e,s,a),this.name=t,this.status=s}}class cr extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uw(n){return _e(n)&&n.name==="AuthSessionMissingError"}class oa extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ql extends Jn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yl extends Jn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cw(n){return _e(n)&&n.name==="AuthImplicitGrantRedirectError"}class R0 extends Jn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dw extends Jn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Vd extends Jn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function md(n){return _e(n)&&n.name==="AuthRetryableFetchError"}class L0 extends Jn{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class Kd extends Jn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),P0=` 	
\r=`.split(""),hw=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<P0.length;e+=1)n[P0[e].charCodeAt(0)]=-2;for(let e=0;e<pu.length;e+=1)n[pu[e].charCodeAt(0)]=e;return n})();function I0(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(pu[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(pu[s]),e.queuedBits-=6}}function yg(n,e,t){const s=hw[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function $0(n){const e=[],t=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{mw(u,s,t)};for(let u=0;u<n.length;u+=1)yg(n.charCodeAt(u),a,l);return e.join("")}function fw(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function pw(n,e){for(let t=0;t<n.length;t+=1){let s=n.charCodeAt(t);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(n.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}fw(s,e)}}function mw(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Na(n){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)yg(n.charCodeAt(a),t,s);return new Uint8Array(e)}function gw(n){const e=[];return pw(n,t=>e.push(t)),new Uint8Array(e)}function yi(n){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};return n.forEach(a=>I0(a,t,s)),I0(null,t,s),e.join("")}function yw(n){return Math.round(Date.now()/1e3)+n}function vw(){return Symbol("auth-callback")}const Ot=()=>typeof window<"u"&&typeof document<"u",hi={tested:!1,writable:!1},vg=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hi.tested)return hi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),hi.tested=!0,hi.writable=!0}catch{hi.tested=!0,hi.writable=!1}return hi.writable};function bw(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return t.searchParams.forEach((s,a)=>{e[a]=s}),e}const bg=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),xw=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",pa=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},fi=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},At=async(n,e)=>{await n.removeItem(e)};class Eu{constructor(){this.promise=new Eu.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Eu.promiseConstructor=Promise;function gd(n){const e=n.split(".");if(e.length!==3)throw new Kd("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!iw.test(e[s]))throw new Kd("JWT not in base64url format");return{header:JSON.parse($0(e[0])),payload:JSON.parse($0(e[1])),signature:Na(e[2]),raw:{header:e[0],payload:e[1]}}}async function ww(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function _w(n,e){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await n(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function Nw(n){return("0"+n.toString(16)).substr(-2)}function kw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let a="";for(let l=0;l<56;l++)a+=t.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,Nw).join("")}async function Sw(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function Ew(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Sw(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function la(n,e,t=!1){const s=kw();let a=s;t&&(a+="/PASSWORD_RECOVERY"),await pa(n,`${e}-code-verifier`,a);const l=await Ew(s);return[l,s===l?"plain":"s256"]}const jw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tw(n){const e=n.headers.get(Hd);if(!e||!e.match(jw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Cw(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Aw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ow=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ua(n){if(!Ow.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yd(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rw(n,e){return new Proxy(n,{get:(t,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,s,a)}})}function D0(n){return JSON.parse(JSON.stringify(n))}const pi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Lw=[502,503,504];async function M0(n){var e;if(!xw(n))throw new Vd(pi(n),0);if(Lw.includes(n.status))throw new Vd(pi(n),n.status);let t;try{t=await n.json()}catch(l){throw new gi(pi(l),l)}let s;const a=Tw(n);if(a&&a.getTime()>=gg["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new L0(pi(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new cr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new L0(pi(t),n.status,t.weak_password.reasons);throw new ow(pi(t),n.status||500,s)}const Pw=(n,e,t,s)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),t))};async function je(n,e,t,s){var a;const l=Object.assign({},s==null?void 0:s.headers);l[Hd]||(l[Hd]=gg["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await Iw(n,e,t+h,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(p):{data:Object.assign({},p),error:null}}async function Iw(n,e,t,s,a,l){const u=Pw(e,s,a,l);let h;try{h=await n(t,Object.assign({},u))}catch(p){throw console.error(p),new Vd(pi(p),0)}if(h.ok||await M0(h),s!=null&&s.noResolveJson)return h;try{return await h.json()}catch(p){await M0(p)}}function Gr(n){var e;let t=null;Mw(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=yw(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function q0(n){const e=Gr(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Os(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function $w(n){return{data:n,error:null}}function Dw(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:l}=n,u=ku(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:l},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function U0(n){return n}function Mw(n){return n.access_token&&n.refresh_token&&n.expires_in}const vd=["global","local","others"];class qw{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=bg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=vd[0]){if(vd.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vd.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Os})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=ku(e,["options"]),a=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Dw,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(_e(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Os})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,a,l,u,h,p;try{const g={nextPage:null,lastPage:0,total:0},b=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:U0});if(b.error)throw b.error;const w=await b.json(),v=(u=b.headers.get("x-total-count"))!==null&&u!==void 0?u:0,N=(p=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return N.length>0&&(N.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);g[`${j}Page`]=S}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(_e(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){ua(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Os})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ua(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Os})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){ua(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Os})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ua(e.userId);try{const{data:t,error:s}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:s}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ua(e.userId),ua(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,a,l,u,h,p;try{const g={nextPage:null,lastPage:0,total:0},b=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:U0});if(b.error)throw b.error;const w=await b.json(),v=(u=b.headers.get("x-total-count"))!==null&&u!==void 0?u:0,N=(p=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return N.length>0&&(N.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);g[`${j}Page`]=S}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(_e(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}}function B0(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const ca={debug:!!(globalThis&&vg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Uw extends xg{}async function Bw(n,e,t){ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ca.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await t()}finally{ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Uw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ca.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function zw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wg(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Fw(n){return parseInt(n,16)}function Hw(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Vw(n){var e;const{chainId:t,domain:s,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:p,resources:g,scheme:b,uri:w,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const N=wg(n.address),k=b?`${b}://${s}`:s,S=n.statement?`${n.statement}
`:"",j=`${k} wants you to sign in with your Ethereum account:
${N}

${S}`;let L=`URI: ${w}
Version: ${v}
Chain ID: ${t}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(L+=`
Expiration Time: ${a.toISOString()}`),h&&(L+=`
Not Before: ${h.toISOString()}`),p&&(L+=`
Request ID: ${p}`),g){let M=`
Resources:`;for(const q of g){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);M+=`
- ${q}`}L+=M}return`${j}
${L}`}class mt extends Error{constructor({message:e,code:t,cause:s,name:a}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=a??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=t}}class mu extends mt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Kw({error:n,options:e}){var t,s,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=l.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new mt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(_g(u)){if(l.rp.id!==u)return new mt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Ww({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new mt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(_g(s)){if(t.rpId!==s)return new mt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Gw{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Jw=new Gw;function Qw(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:s}=n,a=ku(n,["challenge","user","excludeCredentials"]),l=Na(e).buffer,u=Object.assign(Object.assign({},t),{id:Na(t.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:u});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const g=s[p];h.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Na(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function Yw(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,s=ku(n,["challenge","allowCredentials"]),a=Na(e).buffer,l=Object.assign(Object.assign({},s),{challenge:a});if(t&&t.length>0){l.allowCredentials=new Array(t.length);for(let u=0;u<t.length;u++){const h=t[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:Na(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function Zw(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:yi(new Uint8Array(n.response.attestationObject)),clientDataJSON:yi(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Xw(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,s=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:yi(new Uint8Array(a.authenticatorData)),clientDataJSON:yi(new Uint8Array(a.clientDataJSON)),signature:yi(new Uint8Array(a.signature)),userHandle:a.userHandle?yi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _g(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function z0(){var n,e;return!!(Ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function e_(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mu("Browser returned unexpected credential type",e)}:{data:null,error:new mu("Empty credential response",e)}}catch(e){return{data:null,error:Kw({error:e,options:n})}}}async function t_(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mu("Browser returned unexpected credential type",e)}:{data:null,error:new mu("Empty credential response",e)}}catch(e){return{data:null,error:Ww({error:e,options:n})}}}const r_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},n_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gu(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of n)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(t(u))s[l]=u;else if(e(u)){const h=s[l];e(h)?s[l]=gu(h,u):s[l]=gu(u)}else s[l]=u}return s}function s_(n,e){return gu(r_,n,e||{})}function i_(n,e){return gu(n_,n,e||{})}class a_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:a},l){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:h};const p=a??Jw.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=s_(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:b,error:w}=await e_({publicKey:g,signal:p});return b?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const g=i_(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:b,error:w}=await t_(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:p}));return b?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new gi("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!t)return{data:null,error:new $o("rpId is required for WebAuthn authentication")};try{if(!z0())return{data:null,error:new gi("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:a},{request:l});if(!u)return{data:null,error:h};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:t,rpOrigins:s,credential_response:p.credential_response}})}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new gi("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!t)return{data:null,error:new $o("rpId is required for WebAuthn registration")};try{if(!z0())return{data:null,error:new gi("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:h};const{data:p,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:a},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:t,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new gi("Unexpected error in register",u)}}}}zw();const o_={url:rw,storageKey:nw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function F0(n,e,t){return await t()}const da={};class Do{get jwks(){var e,t;return(t=(e=da[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){da[this.storageKey]=Object.assign(Object.assign({},da[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=da[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){da[this.storageKey]=Object.assign(Object.assign({},da[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},o_),e);if(this.storageKey=l.storageKey,this.instanceID=(t=Do.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Do.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ot()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new qw({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=bg(l.fetch),this.lock=l.lock||F0,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Ot()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Bw:this.lock=F0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new a_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:vg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=B0(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=B0(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${mg}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},s="none";if(Ot()&&(t=bw(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),Ot()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(t,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),cw(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return _e(t)?this._returnResult({error:t}):this._returnResult({error:new gi("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,a;try{const l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Gr}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(_e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var t,s,a;try{let l;if("email"in e){const{email:b,password:w,options:v}=e;let N=null,k=null;this.flowType==="pkce"&&([N,k]=await la(this.storage,this.storageKey)),l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:b,password:w,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:N,code_challenge_method:k},xform:Gr})}else if("phone"in e){const{phone:b,password:w,options:v}=e;l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},channel:(a=v==null?void 0:v.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Gr})}else throw new Ql("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return await At(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(await At(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:u,options:h}=e;t=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:q0})}else if("phone"in e){const{phone:l,password:u,options:h}=e;t=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:q0})}else throw new Ql("You must provide either an email or phone number and a password");const{data:s,error:a}=t;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const l=new oa;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,s,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,a,l,u,h,p,g,b,w,v;let N,k;if("message"in e)N=e.message,k=e.signature;else{const{chain:S,wallet:j,statement:L,options:M}=e;let q;if(Ot())if(typeof j=="object")q=j;else{const xe=window;if("ethereum"in xe&&typeof xe.ethereum=="object"&&"request"in xe.ethereum&&typeof xe.ethereum.request=="function")q=xe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=j}const Y=new URL((t=M==null?void 0:M.url)!==null&&t!==void 0?t:window.location.href),te=await q.request({method:"eth_requestAccounts"}).then(xe=>xe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ae=wg(te[0]);let me=(s=M==null?void 0:M.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!me){const xe=await q.request({method:"eth_chainId"});me=Fw(xe)}const Le={domain:Y.host,address:ae,statement:L,uri:Y.href,version:"1",chainId:me,nonce:(a=M==null?void 0:M.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=M==null?void 0:M.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=M==null?void 0:M.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=M==null?void 0:M.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=M==null?void 0:M.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(b=M==null?void 0:M.signInWithEthereum)===null||b===void 0?void 0:b.resources};N=Vw(Le),k=await q.request({method:"personal_sign",params:[Hw(N),ae]})}try{const{data:S,error:j}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:k},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Gr});if(j)throw j;if(!S||!S.session||!S.user){const L=new oa;return this._returnResult({data:{user:null,session:null},error:L})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(_e(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var t,s,a,l,u,h,p,g,b,w,v,N;let k,S;if("message"in e)k=e.message,S=e.signature;else{const{chain:j,wallet:L,statement:M,options:q}=e;let Y;if(Ot())if(typeof L=="object")Y=L;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))Y=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=L}const te=new URL((t=q==null?void 0:q.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in Y&&Y.signIn){const ae=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q==null?void 0:q.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),M?{statement:M}:null));let me;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")me=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)me=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in me&&"signature"in me&&(typeof me.signedMessage=="string"||me.signedMessage instanceof Uint8Array)&&me.signature instanceof Uint8Array)k=typeof me.signedMessage=="string"?me.signedMessage:new TextDecoder().decode(me.signedMessage),S=me.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${te.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(a=(s=q==null?void 0:q.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=q==null?void 0:q.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((u=q==null?void 0:q.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((h=q==null?void 0:q.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((p=q==null?void 0:q.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((g=q==null?void 0:q.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((w=(b=q==null?void 0:q.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...q.signInWithSolana.resources.map(me=>`- ${me}`)]:[]].join(`
`);const ae=await Y.signMessage(new TextEncoder().encode(k),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=ae}}try{const{data:j,error:L}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:yi(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Gr});if(L)throw L;if(!j||!j.session||!j.user){const M=new oa;return this._returnResult({data:{user:null,session:null},error:M})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:L})}catch(j){if(_e(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const t=await fi(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(t??"").split("/");try{if(!s&&this.flowType==="pkce")throw new dw;const{data:l,error:u}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Gr});if(await At(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new oa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(await At(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:t,provider:s,token:a,access_token:l,nonce:u}=e,h=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Gr}),{data:p,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const b=new oa;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,s,a,l,u;try{if("email"in e){const{email:h,options:p}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await la(this.storage,this.storageKey));const{error:w}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},create_user:(s=p==null?void 0:p.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:b},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:h,options:p}=e,{data:g,error:b}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:b})}throw new Ql("You must provide either an email or phone number.")}catch(h){if(await At(this.storage,`${this.storageKey}-code-verifier`),_e(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var t,s;try{let a,l;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:h}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Gr});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,g=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(a){if(_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var t,s,a,l,u;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await la(this.storage,this.storageKey));const g=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:$w});return!((l=g.data)===null||l===void 0)&&l.url&&Ot()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await At(this.storage,`${this.storageKey}-code-verifier`),_e(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new cr;const{error:a}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(_e(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:l}=e,{error:u}=await je(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:a,options:l}=e,{data:u,error:h}=await je(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Ql("You must provide either an email or phone number and a type")}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await fi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<pd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await fi(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=yd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=Rw(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Os}):await this._useSession(async t=>{var s,a,l;const{data:u,error:h}=t;if(h)throw h;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Os})})}catch(t){if(_e(t))return uw(t)&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new cr;const u=a.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await la(this.storage,this.storageKey));const{data:g,error:b}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:Os});if(b)throw b;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await At(this.storage,`${this.storageKey}-code-verifier`),_e(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cr;const t=Date.now()/1e3;let s=t,a=!0,l=null;const{payload:u}=gd(e.access_token);if(u.exp&&(s=u.exp,a=s<=t),a){const{data:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(t){if(_e(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:u,error:h}=t;if(h)throw h;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new cr;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Ot())throw new Yl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new R0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yl("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new R0("No code detected.");const{data:M,error:q}=await this._exchangeCodeForSession(e.code);if(q)throw q;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:h,expires_at:p,token_type:g}=e;if(!l||!h||!u||!g)throw new Yl("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(h);let v=b+w;p&&(v=parseInt(p));const N=v-b;N*1e3<=fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${w}s`);const k=v-w;b-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,v,b):b-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,v,b);const{data:S,error:j}=await this._getUser(l);if(j)throw j;const L={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:w,expires_at:v,refresh_token:u,token_type:g,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:e.type},error:null})}catch(s){if(_e(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await fi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:a,error:l}=t;if(l)return this._returnResult({error:l});const u=(s=a.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(lw(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=vw(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,a;try{const{data:{session:l},error:u}=t;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await la(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(await At(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:a}=await this._useSession(async l=>{var u,h,p,g,b;const{data:w,error:v}=l;if(v)throw v;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",N,{headers:this.headers,jwt:(b=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&b!==void 0?b:void 0})});if(a)throw a;return Ot()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(_e(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:a,data:{session:l}}=t;if(a)throw a;const{options:u,provider:h,token:p,access_token:g,nonce:b}=e,w=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l==null?void 0:l.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:p,access_token:g,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Gr}),{data:v,error:N}=w;return N?this._returnResult({data:{user:null,session:null},error:N}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new oa}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:N}))}catch(a){if(await At(this.storage,`${this.storageKey}-code-verifier`),_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,a;const{data:l,error:u}=t;if(u)throw u;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await _w(async a=>(a>0&&await ww(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gr})),(a,l)=>{const u=200*Math.pow(2,a);return l&&md(l)&&Date.now()+u-s<fa})}catch(s){if(this._debug(t,"error",s),_e(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Ot()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await fi(this.storage,this.storageKey);if(a&&this.userStorage){let u=await fi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await pa(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:yd()}else if(a&&!a.user&&!a.user){const u=await fi(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await At(this.storage,this.storageKey+"-user"),await pa(this.storage,this.storageKey,a)):a.user=yd()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const l=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<pd;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${pd}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),md(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Eu;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new cr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),_e(l)){const u={data:null,error:l};return md(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await At(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await pa(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const l=D0(a);await pa(this.storage,this.storageKey,l)}else{const a=D0(t);await pa(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await At(this.storage,this.storageKey),await At(this.storage,this.storageKey+"-code-verifier"),await At(this.storage,this.storageKey+"-user"),this.userStorage&&await At(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${fa}ms, refresh threshold is ${Fd} ticks`),a<=Fd&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const a=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await la(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;return l?this._returnResult({data:null,error:l}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,a;const{data:l,error:u}=t;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await je(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&p.type==="totp"&&(!((a=p==null?void 0:p.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Zw(e.webauthn.credential_response):Xw(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:p}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Qw(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Yw(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=gd(s.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((t=(e=s.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(h="aal2");const g=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;return a?this._returnResult({data:null,error:a}):s?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new cr})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new cr});const u=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Ot()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new cr});const u=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Ot()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;return s?this._returnResult({data:null,error:s}):t?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new cr})})}catch(e){if(_e(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;return a?this._returnResult({data:null,error:a}):s?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new cr})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(h=>h.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+aw>a)return s;const{data:l,error:u}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,s=l.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:N,error:k}=await this.getSession();if(k||!N.session)return this._returnResult({data:null,error:k});s=N.session.access_token}const{header:a,payload:l,signature:u,raw:{header:h,payload:p}}=gd(s);t!=null&&t.allowExpired||Cw(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!g){const{error:N}=await this.getUser(s);if(N)throw N;return{data:{claims:l,header:a,signature:u},error:null}}const b=Aw(a.alg),w=await crypto.subtle.importKey("jwk",g,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,u,gw(`${h}.${p}`)))throw new Kd("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}}Do.nextInstanceID={};const l_=Do,u_="2.89.0";let _o="";typeof Deno<"u"?_o="deno":typeof document<"u"?_o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_o="react-native":_o="node";const c_={"X-Client-Info":`supabase-js-${_o}/${u_}`},d_={headers:c_},h_={schema:"public"},f_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p_={};function Mo(n){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(n)}function m_(n,e){if(Mo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(Mo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function g_(n){var e=m_(n,"string");return Mo(e)=="symbol"?e:e+""}function y_(n,e,t){return(e=g_(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function ut(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H0(Object(t),!0).forEach(function(s){y_(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H0(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}const v_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),b_=()=>Headers,x_=(n,e,t)=>{const s=v_(t),a=b_();return async(l,u)=>{var h;const p=(h=await e())!==null&&h!==void 0?h:n;let g=new a(u==null?void 0:u.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),s(l,ut(ut({},u),{},{headers:g}))}};function w_(n){return n.endsWith("/")?n:n+"/"}function __(n,e){var t,s;const{db:a,auth:l,realtime:u,global:h}=n,{db:p,auth:g,realtime:b,global:w}=e,v={db:ut(ut({},p),a),auth:ut(ut({},g),l),realtime:ut(ut({},b),u),storage:{},global:ut(ut(ut({},w),h),{},{headers:ut(ut({},(t=w==null?void 0:w.headers)!==null&&t!==void 0?t:{}),(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function N_(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(w_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var k_=class extends l_{constructor(n){super(n)}},S_=class{constructor(n,e,t){var s,a;this.supabaseUrl=n,this.supabaseKey=e;const l=N_(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:h_,realtime:p_,auth:ut(ut({},f_),{},{storageKey:u}),global:d_},p=__(t??{},h);if(this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=x_(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(ut({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new sx(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new tw(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Xb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:s}=await n.auth.getSession();return(e=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:s,userStorage:a,storageKey:l,flowType:u,lock:h,debug:p,throwOnError:g},b,w){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new k_({url:this.authUrl.href,headers:ut(ut({},v),b),storageKey:l,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:s,userStorage:a,flowType:u,lock:h,debug:p,throwOnError:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new wx(this.realtimeUrl.href,ut(ut({},n),{},{params:ut(ut({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const E_=(n,e,t)=>new S_(n,e,t);function j_(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}j_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yu="hetkbfmltdayxjcjlcow",Wd="sb_publishable_7XpXUAMjoVgaatmMZzfdUg_HXu78hmc";let bd=null;const T_=()=>(bd||(bd=E_(`https://${yu}.supabase.co`,Wd)),bd),Ps=T_(),wt={async get(n){const{data:e,error:t}=await Ps.from("kv_store_bbbda4f3").select("value").eq("key",n).single();if(t){if(t.code==="PGRST116")return null;throw t}return e==null?void 0:e.value},async listByPrefix(n){const{data:e,error:t}=await Ps.from("kv_store_bbbda4f3").select("key, value").ilike("key",`${n}%`);if(t)throw t;return(e||[]).map(s=>({key:s.key,value:s.value}))},async set(n,e){const{error:t}=await Ps.from("kv_store_bbbda4f3").upsert({key:n,value:e});if(t)throw t},async delete(n){const{error:e}=await Ps.from("kv_store_bbbda4f3").delete().eq("key",n);if(e)throw e}},C_=n=>({Music:d.jsx(ob,{className:"w-5 h-5"}),Wand2:d.jsx(Ob,{className:"w-5 h-5"}),Sliders:d.jsx(yb,{className:"w-5 h-5"}),Library:d.jsx(v0,{className:"w-5 h-5"})})[n||"Library"]||d.jsx(v0,{className:"w-5 h-5"});function A_(){const[n,e]=se.useState([]),[t,s]=se.useState(!0),[a,l]=se.useState(null),[u,h]=se.useState(new Set),[p,g]=se.useState(new Set),[b,w]=se.useState(null),[v,N]=se.useState(null),[k,S]=se.useState(""),[j,L]=se.useState(!1),[M,q]=se.useState(!1),[Y,te]=se.useState(!1),{t:ae}=ig();se.useEffect(()=>{(async()=>{s(!0),l(null);try{const[G,F]=await Promise.all([wt.listByPrefix("category:"),wt.listByPrefix("product:")]),W=G.map(U=>U.value).sort((U,A)=>U.order-A.order),z=F.map(U=>U.value),Q=W.map(U=>{const A=z.filter(D=>D.category_id===U.id).map(D=>({id:D.id,name:D.name,description:D.description,fileSize:D.file_size,isFree:D.is_free,libraryPacks:[],image:void 0}));return{id:U.id,title:U.name,subtitle:U.description,icon:C_(U.icon),products:A,helperText:U.helper_text||void 0}});e(Q)}catch(G){console.error("Failed to load data:",G),l("Failed to load products. Please try refreshing the page.")}finally{s(!1)}})()},[]);const me=V=>{h(G=>{const F=new Set(G);if(F.has(V)){F.delete(V);const W=n.flatMap(z=>z.products).find(z=>z.id===V);W!=null&&W.libraryPacks&&g(z=>{const Q=new Set(z);return W.libraryPacks.forEach(U=>Q.delete(U.id)),Q})}else F.add(V);return F})},Le=V=>{g(G=>{const F=new Set(G);return F.has(V)?F.delete(V):F.add(V),F})},xe=()=>{const V=n.flatMap(G=>G.products).filter(G=>G.isFree).map(G=>G.id);h(new Set(V)),g(new Set)},Pe=se.useMemo(()=>{let V=0;return n.forEach(G=>{G.products.forEach(F=>{u.has(F.id)&&(V+=F.fileSize,F.libraryPacks&&F.libraryPacks.forEach(W=>{p.has(W.id)&&(V+=W.fileSize)}))})}),V},[u,p]),T=u.size>0&&b!==null&&v!==null&&v>=Pe,K=()=>n.flatMap(V=>V.products).filter(V=>u.has(V.id)),P=()=>{const V=[];return n.forEach(G=>{G.products.forEach(F=>{F.libraryPacks&&u.has(F.id)&&F.libraryPacks.forEach(W=>{p.has(W.id)&&V.push(W)})})}),V};return Y&&v!==null&&b!==null&&k?d.jsx(Mb,{selectedProducts:K(),selectedLibraryPacks:P(),storageType:b,storageCapacity:v,totalStorage:Pe,customerLocation:k,onBack:()=>te(!1)}):M&&v!==null&&b!==null&&k?d.jsx(Kb,{selectedProducts:K(),selectedLibraryPacks:P(),storageType:b,storageCapacity:v,totalStorage:Pe,customerLocation:k,onContinueToCheckout:()=>{q(!1),te(!0)},onBack:()=>q(!1)}):j?d.jsx(Ub,{onLocationSelected:V=>{S(V),L(!1),q(!0)},onBack:()=>L(!1)}):d.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-6 md:py-12",children:[d.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),d.jsx("div",{className:"absolute top-1/2 left-1/2 w-80 h-80 bg-indigo-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),t&&d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] relative z-10",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("p",{className:"text-slate-300 text-lg",children:"Loading products..."})]}),a&&!t&&d.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] relative z-10",children:d.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-8 max-w-md text-center",children:[d.jsx("p",{className:"text-red-300 text-lg mb-4",children:a}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Retry"})]})}),!t&&!a&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-4 mb-6 relative z-10 border-b border-slate-700/30 pb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"flex items-center gap-3 mb-2",children:d.jsxs("div",{className:"inline-flex items-center gap-2 px-2 py-0.5 bg-gradient-to-r from-cyan-500/10 to-purple-500/10 backdrop-blur-sm border border-cyan-500/20 rounded-full",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-cyan-400 rounded-full animate-pulse"}),d.jsx("span",{className:"text-cyan-300 text-[10px] font-medium tracking-wide uppercase",children:"AI-Powered Studio"})]})}),d.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-1",children:ae("app.title")}),d.jsx("p",{className:"text-slate-400 text-xs md:text-sm hidden sm:block max-w-xl text-balance",children:ae("app.subtitle")})]}),d.jsxs("div",{className:"flex items-center gap-3 self-end lg:self-center",children:[d.jsxs("button",{onClick:xe,className:"group relative inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-xl hover:from-cyan-400 hover:to-purple-500 transition-all shadow-lg shadow-purple-500/20 active:scale-95",children:[d.jsx(wh,{className:"w-4 h-4 text-white"}),d.jsx("span",{className:"text-white font-semibold text-sm",children:"Free Starter"})]}),d.jsx(Jb,{})]})]}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 relative z-10",children:[d.jsx("div",{className:"lg:col-span-2 space-y-4",children:n.map((V,G)=>d.jsx(Ib,{category:V,selectedItems:u,onToggleItem:me,selectedLibraryPacks:p,onToggleLibraryPack:Le,defaultExpanded:G===0},V.id))}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"sticky top-6 space-y-6",children:[d.jsx("div",{id:"storage-selector",children:d.jsx(Db,{selectedType:b,selectedCapacity:v,onTypeChange:w,onCapacityChange:N})}),d.jsx($b,{totalStorage:Pe,storageCapacity:v,storageType:b}),T&&d.jsxs("button",{onClick:()=>L(!0),className:"group relative w-full py-5 px-6 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl hover:from-emerald-400 hover:to-teal-400 transition-all shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:shadow-emerald-500/70 hover:scale-105",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity"}),d.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[d.jsx(x1,{className:"w-6 h-6 text-white"}),d.jsx("span",{className:"text-white font-semibold text-lg",children:"Calculate Price"})]})]})]})})]}),d.jsx("div",{className:"lg:hidden fixed bottom-6 left-4 right-4 p-4 bg-slate-900/90 backdrop-blur-xl border border-slate-700/50 rounded-2xl shadow-2xl shadow-black/50 z-50 animate-in slide-in-from-bottom-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Total Storage"}),d.jsxs("p",{className:"text-lg font-bold text-white flex items-center gap-2",children:[d.jsx("span",{className:v&&Pe>v?"text-red-400":"text-cyan-400",children:Pe<1?(Pe*1024).toFixed(0)+" MB":Pe.toFixed(1)+" GB"}),v&&d.jsxs("span",{className:"text-sm text-slate-500 font-normal",children:["/ ",v," GB"]})]})]}),T?d.jsx("button",{onClick:()=>L(!0),className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl text-white font-bold shadow-lg shadow-emerald-500/25 active:scale-95 transition-all",children:"Calculate"}):d.jsx("button",{onClick:()=>{var V;return(V=document.getElementById("storage-selector"))==null?void 0:V.scrollIntoView({behavior:"smooth"})},className:"px-6 py-3 bg-slate-800 rounded-xl text-slate-400 font-medium text-sm active:scale-95 transition-all border border-slate-700",children:"Select Storage"})]})})]})]})}function O_({products:n,categories:e,onEdit:t,onAdd:s,onRefresh:a}){const[l,u]=se.useState(null),h=g=>{var b;return((b=e.find(w=>w.id===g))==null?void 0:b.name)||"Unknown"},p=async g=>{if(confirm("Are you sure you want to delete this product?")){u(g);try{await wt.delete(`product:${g}`),a()}catch(b){console.error("Failed to delete:",b),alert("Failed to delete product")}finally{u(null)}}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white",children:"Manage Products"}),d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors",children:[d.jsx(bh,{className:"w-4 h-4"}),"Add Product"]})]}),d.jsx("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[d.jsx("thead",{className:"bg-slate-800/50 text-slate-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 font-medium",children:"Name"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Category"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Price"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Size"}),d.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-700/50",children:[n.map(g=>d.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 font-medium text-white",children:g.name}),d.jsx("td",{className:"px-6 py-4",children:h(g.category_id)}),d.jsx("td",{className:"px-6 py-4",children:g.is_free?d.jsx("span",{className:"text-emerald-400",children:"Free"}):`$${g.price}`}),d.jsxs("td",{className:"px-6 py-4",children:[g.file_size," GB"]}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>t(g),className:"p-2 text-blue-400 hover:bg-blue-500/10 rounded-lg transition-colors",title:"Edit",children:d.jsx(tg,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>p(g.id),disabled:l===g.id,className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors disabled:opacity-50",title:"Delete",children:d.jsx(_h,{className:"w-4 h-4"})})]})})]},g.id)),n.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"No products found. Add one to get started!"})})]})]})})})]})}var Ng=typeof global=="object"&&global&&global.Object===Object&&global,R_=typeof self=="object"&&self&&self.Object===Object&&self,En=Ng||R_||Function("return this")(),Ms=En.Symbol,kg=Object.prototype,L_=kg.hasOwnProperty,P_=kg.toString,xo=Ms?Ms.toStringTag:void 0;function I_(n){var e=L_.call(n,xo),t=n[xo];try{n[xo]=void 0;var s=!0}catch{}var a=P_.call(n);return s&&(e?n[xo]=t:delete n[xo]),a}var $_=Object.prototype,D_=$_.toString;function M_(n){return D_.call(n)}var q_="[object Null]",U_="[object Undefined]",V0=Ms?Ms.toStringTag:void 0;function Ra(n){return n==null?n===void 0?U_:q_:V0&&V0 in Object(n)?I_(n):M_(n)}function Kn(n){return n!=null&&typeof n=="object"}var vi=Array.isArray;function qs(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function Sg(n){return n}var B_="[object AsyncFunction]",z_="[object Function]",F_="[object GeneratorFunction]",H_="[object Proxy]";function Th(n){if(!qs(n))return!1;var e=Ra(n);return e==z_||e==F_||e==B_||e==H_}var xd=En["__core-js_shared__"],K0=(function(){var n=/[^.]+$/.exec(xd&&xd.keys&&xd.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function V_(n){return!!K0&&K0 in n}var K_=Function.prototype,W_=K_.toString;function wi(n){if(n!=null){try{return W_.call(n)}catch{}try{return n+""}catch{}}return""}var G_=/[\\^$.*+?()[\]{}|]/g,J_=/^\[object .+?Constructor\]$/,Q_=Function.prototype,Y_=Object.prototype,Z_=Q_.toString,X_=Y_.hasOwnProperty,e2=RegExp("^"+Z_.call(X_).replace(G_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function t2(n){if(!qs(n)||V_(n))return!1;var e=Th(n)?e2:J_;return e.test(wi(n))}function r2(n,e){return n==null?void 0:n[e]}function _i(n,e){var t=r2(n,e);return t2(t)?t:void 0}var Gd=_i(En,"WeakMap"),W0=Object.create,n2=(function(){function n(){}return function(e){if(!qs(e))return{};if(W0)return W0(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function s2(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function i2(n,e){var t=-1,s=n.length;for(e||(e=Array(s));++t<s;)e[t]=n[t];return e}var a2=800,o2=16,l2=Date.now;function u2(n){var e=0,t=0;return function(){var s=l2(),a=o2-(s-t);if(t=s,a>0){if(++e>=a2)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function c2(n){return function(){return n}}var vu=(function(){try{var n=_i(Object,"defineProperty");return n({},"",{}),n}catch{}})(),d2=vu?function(n,e){return vu(n,"toString",{configurable:!0,enumerable:!1,value:c2(e),writable:!0})}:Sg,h2=u2(d2);function f2(n,e){for(var t=-1,s=n==null?0:n.length;++t<s&&e(n[t],t,n)!==!1;);return n}var p2=9007199254740991,m2=/^(?:0|[1-9]\d*)$/;function Eg(n,e){var t=typeof n;return e=e??p2,!!e&&(t=="number"||t!="symbol"&&m2.test(n))&&n>-1&&n%1==0&&n<e}function Ch(n,e,t){e=="__proto__"&&vu?vu(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Wo(n,e){return n===e||n!==n&&e!==e}var g2=Object.prototype,y2=g2.hasOwnProperty;function jg(n,e,t){var s=n[e];(!(y2.call(n,e)&&Wo(s,t))||t===void 0&&!(e in n))&&Ch(n,e,t)}function v2(n,e,t,s){var a=!t;t||(t={});for(var l=-1,u=e.length;++l<u;){var h=e[l],p=void 0;p===void 0&&(p=n[h]),a?Ch(t,h,p):jg(t,h,p)}return t}var G0=Math.max;function b2(n,e,t){return e=G0(e===void 0?n.length-1:e,0),function(){for(var s=arguments,a=-1,l=G0(s.length-e,0),u=Array(l);++a<l;)u[a]=s[e+a];a=-1;for(var h=Array(e+1);++a<e;)h[a]=s[a];return h[e]=t(u),s2(n,this,h)}}function x2(n,e){return h2(b2(n,e,Sg),n+"")}var w2=9007199254740991;function Tg(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=w2}function ju(n){return n!=null&&Tg(n.length)&&!Th(n)}function _2(n,e,t){if(!qs(t))return!1;var s=typeof e;return(s=="number"?ju(t)&&Eg(e,t.length):s=="string"&&e in t)?Wo(t[e],n):!1}function N2(n){return x2(function(e,t){var s=-1,a=t.length,l=a>1?t[a-1]:void 0,u=a>2?t[2]:void 0;for(l=n.length>3&&typeof l=="function"?(a--,l):void 0,u&&_2(t[0],t[1],u)&&(l=a<3?void 0:l,a=1),e=Object(e);++s<a;){var h=t[s];h&&n(e,h,s,l)}return e})}var k2=Object.prototype;function Ah(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||k2;return n===t}function S2(n,e){for(var t=-1,s=Array(n);++t<n;)s[t]=e(t);return s}var E2="[object Arguments]";function J0(n){return Kn(n)&&Ra(n)==E2}var Cg=Object.prototype,j2=Cg.hasOwnProperty,T2=Cg.propertyIsEnumerable,Jd=J0((function(){return arguments})())?J0:function(n){return Kn(n)&&j2.call(n,"callee")&&!T2.call(n,"callee")};function C2(){return!1}var Ag=typeof fr=="object"&&fr&&!fr.nodeType&&fr,Q0=Ag&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,A2=Q0&&Q0.exports===Ag,Y0=A2?En.Buffer:void 0,O2=Y0?Y0.isBuffer:void 0,qo=O2||C2,R2="[object Arguments]",L2="[object Array]",P2="[object Boolean]",I2="[object Date]",$2="[object Error]",D2="[object Function]",M2="[object Map]",q2="[object Number]",U2="[object Object]",B2="[object RegExp]",z2="[object Set]",F2="[object String]",H2="[object WeakMap]",V2="[object ArrayBuffer]",K2="[object DataView]",W2="[object Float32Array]",G2="[object Float64Array]",J2="[object Int8Array]",Q2="[object Int16Array]",Y2="[object Int32Array]",Z2="[object Uint8Array]",X2="[object Uint8ClampedArray]",eN="[object Uint16Array]",tN="[object Uint32Array]",Ze={};Ze[W2]=Ze[G2]=Ze[J2]=Ze[Q2]=Ze[Y2]=Ze[Z2]=Ze[X2]=Ze[eN]=Ze[tN]=!0;Ze[R2]=Ze[L2]=Ze[V2]=Ze[P2]=Ze[K2]=Ze[I2]=Ze[$2]=Ze[D2]=Ze[M2]=Ze[q2]=Ze[U2]=Ze[B2]=Ze[z2]=Ze[F2]=Ze[H2]=!1;function rN(n){return Kn(n)&&Tg(n.length)&&!!Ze[Ra(n)]}function Oh(n){return function(e){return n(e)}}var Og=typeof fr=="object"&&fr&&!fr.nodeType&&fr,To=Og&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,nN=To&&To.exports===Og,wd=nN&&Ng.process,ja=(function(){try{var n=To&&To.require&&To.require("util").types;return n||wd&&wd.binding&&wd.binding("util")}catch{}})(),Z0=ja&&ja.isTypedArray,Rh=Z0?Oh(Z0):rN,sN=Object.prototype,iN=sN.hasOwnProperty;function Rg(n,e){var t=vi(n),s=!t&&Jd(n),a=!t&&!s&&qo(n),l=!t&&!s&&!a&&Rh(n),u=t||s||a||l,h=u?S2(n.length,String):[],p=h.length;for(var g in n)(e||iN.call(n,g))&&!(u&&(g=="length"||a&&(g=="offset"||g=="parent")||l&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Eg(g,p)))&&h.push(g);return h}function Lg(n,e){return function(t){return n(e(t))}}var aN=Lg(Object.keys,Object),oN=Object.prototype,lN=oN.hasOwnProperty;function uN(n){if(!Ah(n))return aN(n);var e=[];for(var t in Object(n))lN.call(n,t)&&t!="constructor"&&e.push(t);return e}function cN(n){return ju(n)?Rg(n):uN(n)}function dN(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var hN=Object.prototype,fN=hN.hasOwnProperty;function pN(n){if(!qs(n))return dN(n);var e=Ah(n),t=[];for(var s in n)s=="constructor"&&(e||!fN.call(n,s))||t.push(s);return t}function Pg(n){return ju(n)?Rg(n,!0):pN(n)}var Uo=_i(Object,"create");function mN(){this.__data__=Uo?Uo(null):{},this.size=0}function gN(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var yN="__lodash_hash_undefined__",vN=Object.prototype,bN=vN.hasOwnProperty;function xN(n){var e=this.__data__;if(Uo){var t=e[n];return t===yN?void 0:t}return bN.call(e,n)?e[n]:void 0}var wN=Object.prototype,_N=wN.hasOwnProperty;function NN(n){var e=this.__data__;return Uo?e[n]!==void 0:_N.call(e,n)}var kN="__lodash_hash_undefined__";function SN(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Uo&&e===void 0?kN:e,this}function bi(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}bi.prototype.clear=mN;bi.prototype.delete=gN;bi.prototype.get=xN;bi.prototype.has=NN;bi.prototype.set=SN;function EN(){this.__data__=[],this.size=0}function Tu(n,e){for(var t=n.length;t--;)if(Wo(n[t][0],e))return t;return-1}var jN=Array.prototype,TN=jN.splice;function CN(n){var e=this.__data__,t=Tu(e,n);if(t<0)return!1;var s=e.length-1;return t==s?e.pop():TN.call(e,t,1),--this.size,!0}function AN(n){var e=this.__data__,t=Tu(e,n);return t<0?void 0:e[t][1]}function ON(n){return Tu(this.__data__,n)>-1}function RN(n,e){var t=this.__data__,s=Tu(t,n);return s<0?(++this.size,t.push([n,e])):t[s][1]=e,this}function Qn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}Qn.prototype.clear=EN;Qn.prototype.delete=CN;Qn.prototype.get=AN;Qn.prototype.has=ON;Qn.prototype.set=RN;var Bo=_i(En,"Map");function LN(){this.size=0,this.__data__={hash:new bi,map:new(Bo||Qn),string:new bi}}function PN(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Cu(n,e){var t=n.__data__;return PN(e)?t[typeof e=="string"?"string":"hash"]:t.map}function IN(n){var e=Cu(this,n).delete(n);return this.size-=e?1:0,e}function $N(n){return Cu(this,n).get(n)}function DN(n){return Cu(this,n).has(n)}function MN(n,e){var t=Cu(this,n),s=t.size;return t.set(n,e),this.size+=t.size==s?0:1,this}function Ni(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var s=n[e];this.set(s[0],s[1])}}Ni.prototype.clear=LN;Ni.prototype.delete=IN;Ni.prototype.get=$N;Ni.prototype.has=DN;Ni.prototype.set=MN;function qN(n,e){for(var t=-1,s=e.length,a=n.length;++t<s;)n[a+t]=e[t];return n}var Ig=Lg(Object.getPrototypeOf,Object),UN="[object Object]",BN=Function.prototype,zN=Object.prototype,$g=BN.toString,FN=zN.hasOwnProperty,HN=$g.call(Object);function VN(n){if(!Kn(n)||Ra(n)!=UN)return!1;var e=Ig(n);if(e===null)return!0;var t=FN.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&$g.call(t)==HN}function KN(){this.__data__=new Qn,this.size=0}function WN(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function GN(n){return this.__data__.get(n)}function JN(n){return this.__data__.has(n)}var QN=200;function YN(n,e){var t=this.__data__;if(t instanceof Qn){var s=t.__data__;if(!Bo||s.length<QN-1)return s.push([n,e]),this.size=++t.size,this;t=this.__data__=new Ni(s)}return t.set(n,e),this.size=t.size,this}function _n(n){var e=this.__data__=new Qn(n);this.size=e.size}_n.prototype.clear=KN;_n.prototype.delete=WN;_n.prototype.get=GN;_n.prototype.has=JN;_n.prototype.set=YN;var Dg=typeof fr=="object"&&fr&&!fr.nodeType&&fr,X0=Dg&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,ZN=X0&&X0.exports===Dg,em=ZN?En.Buffer:void 0,tm=em?em.allocUnsafe:void 0;function Mg(n,e){if(e)return n.slice();var t=n.length,s=tm?tm(t):new n.constructor(t);return n.copy(s),s}function XN(n,e){for(var t=-1,s=n==null?0:n.length,a=0,l=[];++t<s;){var u=n[t];e(u,t,n)&&(l[a++]=u)}return l}function ek(){return[]}var tk=Object.prototype,rk=tk.propertyIsEnumerable,rm=Object.getOwnPropertySymbols,nk=rm?function(n){return n==null?[]:(n=Object(n),XN(rm(n),function(e){return rk.call(n,e)}))}:ek;function sk(n,e,t){var s=e(n);return vi(n)?s:qN(s,t(n))}function Qd(n){return sk(n,cN,nk)}var Yd=_i(En,"DataView"),Zd=_i(En,"Promise"),Xd=_i(En,"Set"),nm="[object Map]",ik="[object Object]",sm="[object Promise]",im="[object Set]",am="[object WeakMap]",om="[object DataView]",ak=wi(Yd),ok=wi(Bo),lk=wi(Zd),uk=wi(Xd),ck=wi(Gd),Yr=Ra;(Yd&&Yr(new Yd(new ArrayBuffer(1)))!=om||Bo&&Yr(new Bo)!=nm||Zd&&Yr(Zd.resolve())!=sm||Xd&&Yr(new Xd)!=im||Gd&&Yr(new Gd)!=am)&&(Yr=function(n){var e=Ra(n),t=e==ik?n.constructor:void 0,s=t?wi(t):"";if(s)switch(s){case ak:return om;case ok:return nm;case lk:return sm;case uk:return im;case ck:return am}return e});var dk=Object.prototype,hk=dk.hasOwnProperty;function fk(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&hk.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var bu=En.Uint8Array;function Lh(n){var e=new n.constructor(n.byteLength);return new bu(e).set(new bu(n)),e}function pk(n,e){var t=Lh(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var mk=/\w*$/;function gk(n){var e=new n.constructor(n.source,mk.exec(n));return e.lastIndex=n.lastIndex,e}var lm=Ms?Ms.prototype:void 0,um=lm?lm.valueOf:void 0;function yk(n){return um?Object(um.call(n)):{}}function qg(n,e){var t=e?Lh(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var vk="[object Boolean]",bk="[object Date]",xk="[object Map]",wk="[object Number]",_k="[object RegExp]",Nk="[object Set]",kk="[object String]",Sk="[object Symbol]",Ek="[object ArrayBuffer]",jk="[object DataView]",Tk="[object Float32Array]",Ck="[object Float64Array]",Ak="[object Int8Array]",Ok="[object Int16Array]",Rk="[object Int32Array]",Lk="[object Uint8Array]",Pk="[object Uint8ClampedArray]",Ik="[object Uint16Array]",$k="[object Uint32Array]";function Dk(n,e,t){var s=n.constructor;switch(e){case Ek:return Lh(n);case vk:case bk:return new s(+n);case jk:return pk(n);case Tk:case Ck:case Ak:case Ok:case Rk:case Lk:case Pk:case Ik:case $k:return qg(n,t);case xk:return new s;case wk:case kk:return new s(n);case _k:return gk(n);case Nk:return new s;case Sk:return yk(n)}}function Ug(n){return typeof n.constructor=="function"&&!Ah(n)?n2(Ig(n)):{}}var Mk="[object Map]";function qk(n){return Kn(n)&&Yr(n)==Mk}var cm=ja&&ja.isMap,Uk=cm?Oh(cm):qk,Bk="[object Set]";function zk(n){return Kn(n)&&Yr(n)==Bk}var dm=ja&&ja.isSet,Fk=dm?Oh(dm):zk,Hk=1,Bg="[object Arguments]",Vk="[object Array]",Kk="[object Boolean]",Wk="[object Date]",Gk="[object Error]",zg="[object Function]",Jk="[object GeneratorFunction]",Qk="[object Map]",Yk="[object Number]",Fg="[object Object]",Zk="[object RegExp]",Xk="[object Set]",eS="[object String]",tS="[object Symbol]",rS="[object WeakMap]",nS="[object ArrayBuffer]",sS="[object DataView]",iS="[object Float32Array]",aS="[object Float64Array]",oS="[object Int8Array]",lS="[object Int16Array]",uS="[object Int32Array]",cS="[object Uint8Array]",dS="[object Uint8ClampedArray]",hS="[object Uint16Array]",fS="[object Uint32Array]",Ge={};Ge[Bg]=Ge[Vk]=Ge[nS]=Ge[sS]=Ge[Kk]=Ge[Wk]=Ge[iS]=Ge[aS]=Ge[oS]=Ge[lS]=Ge[uS]=Ge[Qk]=Ge[Yk]=Ge[Fg]=Ge[Zk]=Ge[Xk]=Ge[eS]=Ge[tS]=Ge[cS]=Ge[dS]=Ge[hS]=Ge[fS]=!0;Ge[Gk]=Ge[zg]=Ge[rS]=!1;function cu(n,e,t,s,a,l){var u,h=e&Hk;if(u!==void 0)return u;if(!qs(n))return n;var p=vi(n);if(p)u=fk(n);else{var g=Yr(n),b=g==zg||g==Jk;if(qo(n))return Mg(n,h);if(g==Fg||g==Bg||b&&!a)u=b?{}:Ug(n);else{if(!Ge[g])return a?n:{};u=Dk(n,g,h)}}l||(l=new _n);var w=l.get(n);if(w)return w;l.set(n,u),Fk(n)?n.forEach(function(k){u.add(cu(k,e,t,k,n,l))}):Uk(n)&&n.forEach(function(k,S){u.set(S,cu(k,e,t,S,n,l))});var v=Qd,N=p?void 0:v(n);return f2(N||n,function(k,S){N&&(S=k,k=n[S]),jg(u,S,cu(k,e,t,S,n,l))}),u}var pS=1,mS=4;function ka(n){return cu(n,pS|mS)}var gS="__lodash_hash_undefined__";function yS(n){return this.__data__.set(n,gS),this}function vS(n){return this.__data__.has(n)}function xu(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Ni;++e<t;)this.add(n[e])}xu.prototype.add=xu.prototype.push=yS;xu.prototype.has=vS;function bS(n,e){for(var t=-1,s=n==null?0:n.length;++t<s;)if(e(n[t],t,n))return!0;return!1}function xS(n,e){return n.has(e)}var wS=1,_S=2;function Hg(n,e,t,s,a,l){var u=t&wS,h=n.length,p=e.length;if(h!=p&&!(u&&p>h))return!1;var g=l.get(n),b=l.get(e);if(g&&b)return g==e&&b==n;var w=-1,v=!0,N=t&_S?new xu:void 0;for(l.set(n,e),l.set(e,n);++w<h;){var k=n[w],S=e[w];if(s)var j=u?s(S,k,w,e,n,l):s(k,S,w,n,e,l);if(j!==void 0){if(j)continue;v=!1;break}if(N){if(!bS(e,function(L,M){if(!xS(N,M)&&(k===L||a(k,L,t,s,l)))return N.push(M)})){v=!1;break}}else if(!(k===S||a(k,S,t,s,l))){v=!1;break}}return l.delete(n),l.delete(e),v}function NS(n){var e=-1,t=Array(n.size);return n.forEach(function(s,a){t[++e]=[a,s]}),t}function kS(n){var e=-1,t=Array(n.size);return n.forEach(function(s){t[++e]=s}),t}var SS=1,ES=2,jS="[object Boolean]",TS="[object Date]",CS="[object Error]",AS="[object Map]",OS="[object Number]",RS="[object RegExp]",LS="[object Set]",PS="[object String]",IS="[object Symbol]",$S="[object ArrayBuffer]",DS="[object DataView]",hm=Ms?Ms.prototype:void 0,_d=hm?hm.valueOf:void 0;function MS(n,e,t,s,a,l,u){switch(t){case DS:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case $S:return!(n.byteLength!=e.byteLength||!l(new bu(n),new bu(e)));case jS:case TS:case OS:return Wo(+n,+e);case CS:return n.name==e.name&&n.message==e.message;case RS:case PS:return n==e+"";case AS:var h=NS;case LS:var p=s&SS;if(h||(h=kS),n.size!=e.size&&!p)return!1;var g=u.get(n);if(g)return g==e;s|=ES,u.set(n,e);var b=Hg(h(n),h(e),s,a,l,u);return u.delete(n),b;case IS:if(_d)return _d.call(n)==_d.call(e)}return!1}var qS=1,US=Object.prototype,BS=US.hasOwnProperty;function zS(n,e,t,s,a,l){var u=t&qS,h=Qd(n),p=h.length,g=Qd(e),b=g.length;if(p!=b&&!u)return!1;for(var w=p;w--;){var v=h[w];if(!(u?v in e:BS.call(e,v)))return!1}var N=l.get(n),k=l.get(e);if(N&&k)return N==e&&k==n;var S=!0;l.set(n,e),l.set(e,n);for(var j=u;++w<p;){v=h[w];var L=n[v],M=e[v];if(s)var q=u?s(M,L,v,e,n,l):s(L,M,v,n,e,l);if(!(q===void 0?L===M||a(L,M,t,s,l):q)){S=!1;break}j||(j=v=="constructor")}if(S&&!j){var Y=n.constructor,te=e.constructor;Y!=te&&"constructor"in n&&"constructor"in e&&!(typeof Y=="function"&&Y instanceof Y&&typeof te=="function"&&te instanceof te)&&(S=!1)}return l.delete(n),l.delete(e),S}var FS=1,fm="[object Arguments]",pm="[object Array]",Zl="[object Object]",HS=Object.prototype,mm=HS.hasOwnProperty;function VS(n,e,t,s,a,l){var u=vi(n),h=vi(e),p=u?pm:Yr(n),g=h?pm:Yr(e);p=p==fm?Zl:p,g=g==fm?Zl:g;var b=p==Zl,w=g==Zl,v=p==g;if(v&&qo(n)){if(!qo(e))return!1;u=!0,b=!1}if(v&&!b)return l||(l=new _n),u||Rh(n)?Hg(n,e,t,s,a,l):MS(n,e,p,t,s,a,l);if(!(t&FS)){var N=b&&mm.call(n,"__wrapped__"),k=w&&mm.call(e,"__wrapped__");if(N||k){var S=N?n.value():n,j=k?e.value():e;return l||(l=new _n),a(S,j,t,s,l)}}return v?(l||(l=new _n),zS(n,e,t,s,a,l)):!1}function Vg(n,e,t,s,a){return n===e?!0:n==null||e==null||!Kn(n)&&!Kn(e)?n!==n&&e!==e:VS(n,e,t,s,Vg,a)}function KS(n){return function(e,t,s){for(var a=-1,l=Object(e),u=s(e),h=u.length;h--;){var p=u[++a];if(t(l[p],p,l)===!1)break}return e}}var WS=KS();function eh(n,e,t){(t!==void 0&&!Wo(n[e],t)||t===void 0&&!(e in n))&&Ch(n,e,t)}function GS(n){return Kn(n)&&ju(n)}function th(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function JS(n){return v2(n,Pg(n))}function QS(n,e,t,s,a,l,u){var h=th(n,t),p=th(e,t),g=u.get(p);if(g){eh(n,t,g);return}var b=l?l(h,p,t+"",n,e,u):void 0,w=b===void 0;if(w){var v=vi(p),N=!v&&qo(p),k=!v&&!N&&Rh(p);b=p,v||N||k?vi(h)?b=h:GS(h)?b=i2(h):N?(w=!1,b=Mg(p,!0)):k?(w=!1,b=qg(p,!0)):b=[]:VN(p)||Jd(p)?(b=h,Jd(h)?b=JS(h):(!qs(h)||Th(h))&&(b=Ug(p))):w=!1}w&&(u.set(p,b),a(b,p,s,l,u),u.delete(p)),eh(n,t,b)}function Kg(n,e,t,s,a){n!==e&&WS(e,function(l,u){if(a||(a=new _n),qs(l))QS(n,e,u,t,Kg,s,a);else{var h=s?s(th(n,u),l,u+"",n,e,a):void 0;h===void 0&&(h=l),eh(n,u,h)}},Pg)}function Rs(n,e){return Vg(n,e)}var Ds=N2(function(n,e,t){Kg(n,e,t)}),be=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(be||{});class kn{constructor(e,t,s={}){this.attrName=e,this.keyName=t;const a=be.TYPE&be.ATTRIBUTE;this.scope=s.scope!=null?s.scope&be.LEVEL|a:be.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class Sa extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Wg=class rh{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,t)}return null}create(e,t,s){const a=this.query(t);if(a==null)throw new Sa(`Unable to create ${t} blot`);const l=a,u=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:l.create(s),h=new l(e,u,s);return rh.blots.set(h.domNode,h),h}find(e,t=!1){return rh.find(e,t)}query(e,t=be.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&be.LEVEL&be.BLOCK?s=this.types.block:e&be.LEVEL&be.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(a=>(s=this.classes[a],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&t&be.LEVEL&s.scope&&t&be.TYPE&s.scope?s:null}register(...e){return e.map(t=>{const s="blotName"in t,a="attrName"in t;if(!s&&!a)throw new Sa("Invalid definition");if(s&&t.blotName==="abstract")throw new Sa("Cannot register abstract class");const l=s?t.blotName:a?t.attrName:void 0;return this.types[l]=t,a?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):s&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(u=>u.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(u=>{(this.tags[u]==null||t.className==null)&&(this.tags[u]=t)}))),t})}};Wg.blots=new WeakMap;let Ta=Wg;function gm(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class YS extends kn{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){gm(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(gm(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const tn=YS;function Nd(n){const e=n.split("-"),t=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+t}class ZS extends kn{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Nd(this.keyName)]=t,!0):!1}remove(e){e.style[Nd(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Nd(this.keyName)];return this.canAdd(e,t)?t:""}}const Us=ZS;class XS{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Ta.find(this.domNode);if(e==null)return;const t=kn.keys(this.domNode),s=tn.keys(this.domNode),a=Us.keys(this.domNode);t.concat(s).concat(a).forEach(l=>{const u=e.scroll.query(l,be.ATTRIBUTE);u instanceof kn&&(this.attributes[u.attrName]=u)})}copy(e){Object.keys(this.attributes).forEach(t=>{const s=this.attributes[t].value(this.domNode);e.format(t,s)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Au=XS,Gg=class{constructor(e,t){this.scroll=e,this.domNode=t,Ta.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Sa("Blot definition missing tagName");let t,s;return Array.isArray(this.tagName)?(typeof e=="string"?(s=e.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof e=="number"&&(s=e),typeof s=="number"?t=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?t=document.createElement(s):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Ta.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,s,a){const l=this.isolate(e,t);if(this.scroll.query(s,be.BLOT)!=null&&a)l.wrap(s,a);else if(this.scroll.query(s,be.ATTRIBUTE)!=null){const u=this.scroll.create(this.statics.scope);l.wrap(u),u.format(s,a)}}insertAt(e,t,s){const a=s==null?this.scroll.create("text",t):this.scroll.create(t,s),l=this.split(e);this.parent.insertBefore(a,l||void 0)}isolate(e,t){const s=this.split(e);if(s==null)throw new Error("Attempt to isolate at end");return s.split(t),s}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new Sa(`Cannot wrap ${e}`);return s.appendChild(this),s}};Gg.blotName="abstract";let Jg=Gg;const Qg=class extends Jg{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Qg.scope=be.INLINE_BLOT;let eE=Qg;const Mt=eE;class tE{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let s=t();for(;s&&e>0;)e-=1,s=t();return s}contains(e){const t=this.iterator();let s=t();for(;s;){if(s===e)return!0;s=t()}return!1}indexOf(e){const t=this.iterator();let s=t(),a=0;for(;s;){if(s===e)return a;a+=1,s=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,s=this.head;for(;s!=null;){if(s===e)return t;t+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const s=this.iterator();let a=s();for(;a;){const l=a.length();if(e<l||t&&e===l&&(a.next==null||a.next.length()!==0))return[a,e];e-=l,a=s()}return[null,0]}forEach(e){const t=this.iterator();let s=t();for(;s;)e(s),s=t()}forEachAt(e,t,s){if(t<=0)return;const[a,l]=this.find(e);let u=e-l;const h=this.iterator(a);let p=h();for(;p&&u<e+t;){const g=p.length();e>u?s(p,e-u,Math.min(t,u+g-e)):s(p,0,Math.min(g,e+t-u)),u+=g,p=h()}}map(e){return this.reduce((t,s)=>(t.push(e(s)),t),[])}reduce(e,t){const s=this.iterator();let a=s();for(;a;)t=e(t,a),a=s();return t}}function ym(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const s=e.create(be.INLINE);return Array.from(n.childNodes).forEach(a=>{s.domNode.appendChild(a)}),n.parentNode&&n.parentNode.replaceChild(s.domNode,n),s.attach(),s}}const Yg=class Cs extends Jg{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Cs.uiClass&&this.uiNode.classList.add(Cs.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new tE,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=ym(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof Sa)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(s,a,l)=>{s.deleteAt(a,l)})}descendant(e,t=0){const[s,a]=this.children.find(t);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,a]:s instanceof Cs?s.descendant(e,a):[null,-1]}descendants(e,t=0,s=Number.MAX_VALUE){let a=[],l=s;return this.children.forEachAt(t,s,(u,h,p)=>{(e.blotName==null&&e(u)||e.blotName!=null&&u instanceof e)&&a.push(u),u instanceof Cs&&(a=a.concat(u.descendants(e,h,l))),l-=p}),a}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(s=>t instanceof s)||(t.statics.scope===be.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof Cs?t.unwrap():t.remove())})}formatAt(e,t,s,a){this.children.forEachAt(e,t,(l,u,h)=>{l.formatAt(u,h,s,a)})}insertAt(e,t,s){const[a,l]=this.children.find(e);if(a)a.insertAt(l,t,s);else{const u=s==null?this.scroll.create("text",t):this.scroll.create(t,s);this.appendChild(u)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(s=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(s=>{e.insertBefore(s,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[s,a]=this.children.find(e,t),l=[[this,e]];return s instanceof Cs?l.concat(s.path(a,t)):(s!=null&&l.push([s,a]),l)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;return s instanceof Cs&&this.moveChildren(s),super.replaceWith(s)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(a,l,u)=>{const h=a.split(l,t);h!=null&&s.appendChild(h)}),s}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const s=[],a=[];e.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(s.push(...l.addedNodes),a.push(...l.removedNodes))}),a.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(l);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),s.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,u)=>l===u?0:l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let u=null;l.nextSibling!=null&&(u=this.scroll.find(l.nextSibling));const h=ym(l,this.scroll);(h.next!==u||h.next==null)&&(h.parent!=null&&h.parent.removeChild(this),this.insertBefore(h,u||void 0))}),this.enforceAllowedChildren()}};Yg.uiClass="";let rE=Yg;const Xr=rE;function nE(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const ma=class ga extends Xr{static create(e){return super.create(e)}static formats(e,t){const s=t.query(ga.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Au(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(s=>{s instanceof ga||(s=s.wrap(ga.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(e,be.INLINE);if(s==null)return;s instanceof kn?this.attributes.attribute(s,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,s,a){this.formats()[s]!=null||this.scroll.query(s,be.ATTRIBUTE)?this.isolate(e,t).format(s,a):super.formatAt(e,t,s,a)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const s=this.next;s instanceof ga&&s.prev===this&&nE(t,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,t){const s=super.replaceWith(e,t);return this.attributes.copy(s),s}update(e,t){super.update(e,t),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,t){const s=super.wrap(e,t);return s instanceof ga&&this.attributes.move(s),s}};ma.allowedChildren=[ma,Mt],ma.blotName="inline",ma.scope=be.INLINE_BLOT,ma.tagName="SPAN";let sE=ma;const Ph=sE,ya=class nh extends Xr{static create(e){return super.create(e)}static formats(e,t){const s=t.query(nh.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Au(this.domNode)}format(e,t){const s=this.scroll.query(e,be.BLOCK);s!=null&&(s instanceof kn?this.attributes.attribute(s,t):e===this.statics.blotName&&!t?this.replaceWith(nh.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,s,a){this.scroll.query(s,be.BLOCK)!=null?this.format(s,a):super.formatAt(e,t,s,a)}insertAt(e,t,s){if(s==null||this.scroll.query(t,be.INLINE)!=null)super.insertAt(e,t,s);else{const a=this.split(e);if(a!=null){const l=this.scroll.create(t,s);a.parent.insertBefore(l,a)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const s=super.replaceWith(e,t);return this.attributes.copy(s),s}update(e,t){super.update(e,t),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};ya.blotName="block",ya.scope=be.BLOCK_BLOT,ya.tagName="P",ya.allowedChildren=[Ph,ya,Mt];let iE=ya;const zo=iE,sh=class extends Xr{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,s,a){super.formatAt(e,t,s,a),this.enforceAllowedChildren()}insertAt(e,t,s){super.insertAt(e,t,s),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};sh.blotName="container",sh.scope=be.BLOCK_BLOT;let aE=sh;const Ou=aE;class oE extends Mt{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,s,a){e===0&&t===this.length()?this.format(s,a):super.formatAt(e,t,s,a)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const mr=oE,lE={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},uE=100,va=class extends Xr{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,lE),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const s=this.registry.find(e,t);return s?s.scroll===this?s:t?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,t=be.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(e,t)}formatAt(e,t,s,a){this.update(),super.formatAt(e,t,s,a)}insertAt(e,t,s){this.update(),super.insertAt(e,t,s)}optimize(e=[],t={}){super.optimize(t);const s=t.mutationsMap||new WeakMap;let a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());const l=(p,g=!0)=>{p==null||p===this||p.domNode.parentNode!=null&&(s.has(p.domNode)||s.set(p.domNode,[]),g&&l(p.parent))},u=p=>{s.has(p.domNode)&&(p instanceof Xr&&p.children.forEach(u),s.delete(p.domNode),p.optimize(t))};let h=e;for(let p=0;h.length>0;p+=1){if(p>=uE)throw new Error("[Parchment] Maximum optimize iterations reached");for(h.forEach(g=>{const b=this.find(g.target,!0);b!=null&&(b.domNode===g.target&&(g.type==="childList"?(l(this.find(g.previousSibling,!1)),Array.from(g.addedNodes).forEach(w=>{const v=this.find(w,!1);l(v,!1),v instanceof Xr&&v.children.forEach(N=>{l(N,!1)})})):g.type==="attributes"&&l(b.prev)),l(b))}),this.children.forEach(u),h=Array.from(this.observer.takeRecords()),a=h.slice();a.length>0;)e.push(a.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const s=new WeakMap;e.map(a=>{const l=this.find(a.target,!0);return l==null?null:s.has(l.domNode)?(s.get(l.domNode).push(a),null):(s.set(l.domNode,[a]),l)}).forEach(a=>{a!=null&&a!==this&&s.has(a.domNode)&&a.update(s.get(a.domNode)||[],t)}),t.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),t),this.optimize(e,t)}};va.blotName="scroll",va.defaultChild=zo,va.allowedChildren=[zo,Ou],va.scope=be.BLOCK_BLOT,va.tagName="DIV";let cE=va;const Ih=cE,ih=class Zg extends Mt{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,s){s==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Zg&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,t){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};ih.blotName="text",ih.scope=be.INLINE_BLOT;let dE=ih;const wu=dE,hE=Object.freeze(Object.defineProperty({__proto__:null,Attributor:kn,AttributorStore:Au,BlockBlot:zo,ClassAttributor:tn,ContainerBlot:Ou,EmbedBlot:mr,InlineBlot:Ph,LeafBlot:Mt,ParentBlot:Xr,Registry:Ta,Scope:be,ScrollBlot:Ih,StyleAttributor:Us,TextBlot:wu},Symbol.toStringTag,{value:"Module"}));var Xl={exports:{}},kd,vm;function fE(){if(vm)return kd;vm=1;var n=-1,e=1,t=0;function s(T,K,P,V,G){if(T===K)return T?[[t,T]]:[];if(P!=null){var F=xe(T,K,P);if(F)return F}var W=h(T,K),z=T.substring(0,W);T=T.substring(W),K=K.substring(W),W=g(T,K);var Q=T.substring(T.length-W);T=T.substring(0,T.length-W),K=K.substring(0,K.length-W);var U=a(T,K);return z&&U.unshift([t,z]),Q&&U.push([t,Q]),M(U,G),V&&w(U),U}function a(T,K){var P;if(!T)return[[e,K]];if(!K)return[[n,T]];var V=T.length>K.length?T:K,G=T.length>K.length?K:T,F=V.indexOf(G);if(F!==-1)return P=[[e,V.substring(0,F)],[t,G],[e,V.substring(F+G.length)]],T.length>K.length&&(P[0][0]=P[2][0]=n),P;if(G.length===1)return[[n,T],[e,K]];var W=b(T,K);if(W){var z=W[0],Q=W[1],U=W[2],A=W[3],D=W[4],ie=s(z,U),oe=s(Q,A);return ie.concat([[t,D]],oe)}return l(T,K)}function l(T,K){for(var P=T.length,V=K.length,G=Math.ceil((P+V)/2),F=G,W=2*G,z=new Array(W),Q=new Array(W),U=0;U<W;U++)z[U]=-1,Q[U]=-1;z[F+1]=0,Q[F+1]=0;for(var A=P-V,D=A%2!==0,ie=0,oe=0,ne=0,we=0,Ee=0;Ee<G;Ee++){for(var ue=-Ee+ie;ue<=Ee-oe;ue+=2){var Ne=F+ue,Re;ue===-Ee||ue!==Ee&&z[Ne-1]<z[Ne+1]?Re=z[Ne+1]:Re=z[Ne-1]+1;for(var qe=Re-ue;Re<P&&qe<V&&T.charAt(Re)===K.charAt(qe);)Re++,qe++;if(z[Ne]=Re,Re>P)oe+=2;else if(qe>V)ie+=2;else if(D){var Fe=F+A-ue;if(Fe>=0&&Fe<W&&Q[Fe]!==-1){var Be=P-Q[Fe];if(Re>=Be)return u(T,K,Re,qe)}}}for(var Xe=-Ee+ne;Xe<=Ee-we;Xe+=2){var Fe=F+Xe,Be;Xe===-Ee||Xe!==Ee&&Q[Fe-1]<Q[Fe+1]?Be=Q[Fe+1]:Be=Q[Fe-1]+1;for(var gt=Be-Xe;Be<P&&gt<V&&T.charAt(P-Be-1)===K.charAt(V-gt-1);)Be++,gt++;if(Q[Fe]=Be,Be>P)we+=2;else if(gt>V)ne+=2;else if(!D){var Ne=F+A-Xe;if(Ne>=0&&Ne<W&&z[Ne]!==-1){var Re=z[Ne],qe=F+Re-Ne;if(Be=P-Be,Re>=Be)return u(T,K,Re,qe)}}}}return[[n,T],[e,K]]}function u(T,K,P,V){var G=T.substring(0,P),F=K.substring(0,V),W=T.substring(P),z=K.substring(V),Q=s(G,F),U=s(W,z);return Q.concat(U)}function h(T,K){if(!T||!K||T.charAt(0)!==K.charAt(0))return 0;for(var P=0,V=Math.min(T.length,K.length),G=V,F=0;P<G;)T.substring(F,G)==K.substring(F,G)?(P=G,F=P):V=G,G=Math.floor((V-P)/2+P);return q(T.charCodeAt(G-1))&&G--,G}function p(T,K){var P=T.length,V=K.length;if(P==0||V==0)return 0;P>V?T=T.substring(P-V):P<V&&(K=K.substring(0,P));var G=Math.min(P,V);if(T==K)return G;for(var F=0,W=1;;){var z=T.substring(G-W),Q=K.indexOf(z);if(Q==-1)return F;W+=Q,(Q==0||T.substring(G-W)==K.substring(0,W))&&(F=W,W++)}}function g(T,K){if(!T||!K||T.slice(-1)!==K.slice(-1))return 0;for(var P=0,V=Math.min(T.length,K.length),G=V,F=0;P<G;)T.substring(T.length-G,T.length-F)==K.substring(K.length-G,K.length-F)?(P=G,F=P):V=G,G=Math.floor((V-P)/2+P);return Y(T.charCodeAt(T.length-G))&&G--,G}function b(T,K){var P=T.length>K.length?T:K,V=T.length>K.length?K:T;if(P.length<4||V.length*2<P.length)return null;function G(oe,ne,we){for(var Ee=oe.substring(we,we+Math.floor(oe.length/4)),ue=-1,Ne="",Re,qe,Fe,Be;(ue=ne.indexOf(Ee,ue+1))!==-1;){var Xe=h(oe.substring(we),ne.substring(ue)),gt=g(oe.substring(0,we),ne.substring(0,ue));Ne.length<gt+Xe&&(Ne=ne.substring(ue-gt,ue)+ne.substring(ue,ue+Xe),Re=oe.substring(0,we-gt),qe=oe.substring(we+Xe),Fe=ne.substring(0,ue-gt),Be=ne.substring(ue+Xe))}return Ne.length*2>=oe.length?[Re,qe,Fe,Be,Ne]:null}var F=G(P,V,Math.ceil(P.length/4)),W=G(P,V,Math.ceil(P.length/2)),z;if(!F&&!W)return null;W?F?z=F[4].length>W[4].length?F:W:z=W:z=F;var Q,U,A,D;T.length>K.length?(Q=z[0],U=z[1],A=z[2],D=z[3]):(A=z[0],D=z[1],Q=z[2],U=z[3]);var ie=z[4];return[Q,U,A,D,ie]}function w(T){for(var K=!1,P=[],V=0,G=null,F=0,W=0,z=0,Q=0,U=0;F<T.length;)T[F][0]==t?(P[V++]=F,W=Q,z=U,Q=0,U=0,G=T[F][1]):(T[F][0]==e?Q+=T[F][1].length:U+=T[F][1].length,G&&G.length<=Math.max(W,z)&&G.length<=Math.max(Q,U)&&(T.splice(P[V-1],0,[n,G]),T[P[V-1]+1][0]=e,V--,V--,F=V>0?P[V-1]:-1,W=0,z=0,Q=0,U=0,G=null,K=!0)),F++;for(K&&M(T),L(T),F=1;F<T.length;){if(T[F-1][0]==n&&T[F][0]==e){var A=T[F-1][1],D=T[F][1],ie=p(A,D),oe=p(D,A);ie>=oe?(ie>=A.length/2||ie>=D.length/2)&&(T.splice(F,0,[t,D.substring(0,ie)]),T[F-1][1]=A.substring(0,A.length-ie),T[F+1][1]=D.substring(ie),F++):(oe>=A.length/2||oe>=D.length/2)&&(T.splice(F,0,[t,A.substring(0,oe)]),T[F-1][0]=e,T[F-1][1]=D.substring(0,D.length-oe),T[F+1][0]=n,T[F+1][1]=A.substring(oe),F++),F++}F++}}var v=/[^a-zA-Z0-9]/,N=/\s/,k=/[\r\n]/,S=/\n\r?\n$/,j=/^\r?\n\r?\n/;function L(T){function K(oe,ne){if(!oe||!ne)return 6;var we=oe.charAt(oe.length-1),Ee=ne.charAt(0),ue=we.match(v),Ne=Ee.match(v),Re=ue&&we.match(N),qe=Ne&&Ee.match(N),Fe=Re&&we.match(k),Be=qe&&Ee.match(k),Xe=Fe&&oe.match(S),gt=Be&&ne.match(j);return Xe||gt?5:Fe||Be?4:ue&&!Re&&qe?3:Re||qe?2:ue||Ne?1:0}for(var P=1;P<T.length-1;){if(T[P-1][0]==t&&T[P+1][0]==t){var V=T[P-1][1],G=T[P][1],F=T[P+1][1],W=g(V,G);if(W){var z=G.substring(G.length-W);V=V.substring(0,V.length-W),G=z+G.substring(0,G.length-W),F=z+F}for(var Q=V,U=G,A=F,D=K(V,G)+K(G,F);G.charAt(0)===F.charAt(0);){V+=G.charAt(0),G=G.substring(1)+F.charAt(0),F=F.substring(1);var ie=K(V,G)+K(G,F);ie>=D&&(D=ie,Q=V,U=G,A=F)}T[P-1][1]!=Q&&(Q?T[P-1][1]=Q:(T.splice(P-1,1),P--),T[P][1]=U,A?T[P+1][1]=A:(T.splice(P+1,1),P--))}P++}}function M(T,K){T.push([t,""]);for(var P=0,V=0,G=0,F="",W="",z;P<T.length;){if(P<T.length-1&&!T[P][1]){T.splice(P,1);continue}switch(T[P][0]){case e:G++,W+=T[P][1],P++;break;case n:V++,F+=T[P][1],P++;break;case t:var Q=P-G-V-1;if(K){if(Q>=0&&ae(T[Q][1])){var U=T[Q][1].slice(-1);if(T[Q][1]=T[Q][1].slice(0,-1),F=U+F,W=U+W,!T[Q][1]){T.splice(Q,1),P--;var A=Q-1;T[A]&&T[A][0]===e&&(G++,W=T[A][1]+W,A--),T[A]&&T[A][0]===n&&(V++,F=T[A][1]+F,A--),Q=A}}if(te(T[P][1])){var U=T[P][1].charAt(0);T[P][1]=T[P][1].slice(1),F+=U,W+=U}}if(P<T.length-1&&!T[P][1]){T.splice(P,1);break}if(F.length>0||W.length>0){F.length>0&&W.length>0&&(z=h(W,F),z!==0&&(Q>=0?T[Q][1]+=W.substring(0,z):(T.splice(0,0,[t,W.substring(0,z)]),P++),W=W.substring(z),F=F.substring(z)),z=g(W,F),z!==0&&(T[P][1]=W.substring(W.length-z)+T[P][1],W=W.substring(0,W.length-z),F=F.substring(0,F.length-z)));var D=G+V;F.length===0&&W.length===0?(T.splice(P-D,D),P=P-D):F.length===0?(T.splice(P-D,D,[e,W]),P=P-D+1):W.length===0?(T.splice(P-D,D,[n,F]),P=P-D+1):(T.splice(P-D,D,[n,F],[e,W]),P=P-D+2)}P!==0&&T[P-1][0]===t?(T[P-1][1]+=T[P][1],T.splice(P,1)):P++,G=0,V=0,F="",W="";break}}T[T.length-1][1]===""&&T.pop();var ie=!1;for(P=1;P<T.length-1;)T[P-1][0]===t&&T[P+1][0]===t&&(T[P][1].substring(T[P][1].length-T[P-1][1].length)===T[P-1][1]?(T[P][1]=T[P-1][1]+T[P][1].substring(0,T[P][1].length-T[P-1][1].length),T[P+1][1]=T[P-1][1]+T[P+1][1],T.splice(P-1,1),ie=!0):T[P][1].substring(0,T[P+1][1].length)==T[P+1][1]&&(T[P-1][1]+=T[P+1][1],T[P][1]=T[P][1].substring(T[P+1][1].length)+T[P+1][1],T.splice(P+1,1),ie=!0)),P++;ie&&M(T,K)}function q(T){return T>=55296&&T<=56319}function Y(T){return T>=56320&&T<=57343}function te(T){return Y(T.charCodeAt(0))}function ae(T){return q(T.charCodeAt(T.length-1))}function me(T){for(var K=[],P=0;P<T.length;P++)T[P][1].length>0&&K.push(T[P]);return K}function Le(T,K,P,V){return ae(T)||te(V)?null:me([[t,T],[n,K],[e,P],[t,V]])}function xe(T,K,P){var V=typeof P=="number"?{index:P,length:0}:P.oldRange,G=typeof P=="number"?null:P.newRange,F=T.length,W=K.length;if(V.length===0&&(G===null||G.length===0)){var z=V.index,Q=T.slice(0,z),U=T.slice(z),A=G?G.index:null;e:{var D=z+W-F;if(A!==null&&A!==D||D<0||D>W)break e;var ie=K.slice(0,D),oe=K.slice(D);if(oe!==U)break e;var ne=Math.min(z,D),we=Q.slice(0,ne),Ee=ie.slice(0,ne);if(we!==Ee)break e;var ue=Q.slice(ne),Ne=ie.slice(ne);return Le(we,ue,Ne,U)}e:{if(A!==null&&A!==z)break e;var Re=z,ie=K.slice(0,Re),oe=K.slice(Re);if(ie!==Q)break e;var qe=Math.min(F-Re,W-Re),Fe=U.slice(U.length-qe),Be=oe.slice(oe.length-qe);if(Fe!==Be)break e;var ue=U.slice(0,U.length-qe),Ne=oe.slice(0,oe.length-qe);return Le(Q,ue,Ne,Fe)}}if(V.length>0&&G&&G.length===0)e:{var we=T.slice(0,V.index),Fe=T.slice(V.index+V.length),ne=we.length,qe=Fe.length;if(W<ne+qe)break e;var Ee=K.slice(0,ne),Be=K.slice(W-qe);if(we!==Ee||Fe!==Be)break e;var ue=T.slice(ne,F-qe),Ne=K.slice(ne,W-qe);return Le(we,ue,Ne,Fe)}return null}function Pe(T,K,P,V){return s(T,K,P,V,!0)}return Pe.INSERT=e,Pe.DELETE=n,Pe.EQUAL=t,kd=Pe,kd}var No={exports:{}};No.exports;var bm;function Xg(){return bm||(bm=1,(function(n,e){var t=200,s="__lodash_hash_undefined__",a=9007199254740991,l="[object Arguments]",u="[object Array]",h="[object Boolean]",p="[object Date]",g="[object Error]",b="[object Function]",w="[object GeneratorFunction]",v="[object Map]",N="[object Number]",k="[object Object]",S="[object Promise]",j="[object RegExp]",L="[object Set]",M="[object String]",q="[object Symbol]",Y="[object WeakMap]",te="[object ArrayBuffer]",ae="[object DataView]",me="[object Float32Array]",Le="[object Float64Array]",xe="[object Int8Array]",Pe="[object Int16Array]",T="[object Int32Array]",K="[object Uint8Array]",P="[object Uint8ClampedArray]",V="[object Uint16Array]",G="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,W=/\w*$/,z=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,U={};U[l]=U[u]=U[te]=U[ae]=U[h]=U[p]=U[me]=U[Le]=U[xe]=U[Pe]=U[T]=U[v]=U[N]=U[k]=U[j]=U[L]=U[M]=U[q]=U[K]=U[P]=U[V]=U[G]=!0,U[g]=U[b]=U[Y]=!1;var A=typeof Ls=="object"&&Ls&&Ls.Object===Object&&Ls,D=typeof self=="object"&&self&&self.Object===Object&&self,ie=A||D||Function("return this")(),oe=e&&!e.nodeType&&e,ne=oe&&!0&&n&&!n.nodeType&&n,we=ne&&ne.exports===oe;function Ee(y,_){return y.set(_[0],_[1]),y}function ue(y,_){return y.add(_),y}function Ne(y,_){for(var C=-1,H=y?y.length:0;++C<H&&_(y[C],C,y)!==!1;);return y}function Re(y,_){for(var C=-1,H=_.length,Ae=y.length;++C<H;)y[Ae+C]=_[C];return y}function qe(y,_,C,H){for(var Ae=-1,ge=y?y.length:0;++Ae<ge;)C=_(C,y[Ae],Ae,y);return C}function Fe(y,_){for(var C=-1,H=Array(y);++C<y;)H[C]=_(C);return H}function Be(y,_){return y==null?void 0:y[_]}function Xe(y){var _=!1;if(y!=null&&typeof y.toString!="function")try{_=!!(y+"")}catch{}return _}function gt(y){var _=-1,C=Array(y.size);return y.forEach(function(H,Ae){C[++_]=[Ae,H]}),C}function Zn(y,_){return function(C){return y(_(C))}}function Xn(y){var _=-1,C=Array(y.size);return y.forEach(function(H){C[++_]=H}),C}var ji=Array.prototype,Bs=Function.prototype,gr=Object.prototype,yr=ie["__core-js_shared__"],es=(function(){var y=/[^.]+$/.exec(yr&&yr.keys&&yr.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""})(),zs=Bs.toString,rr=gr.hasOwnProperty,jn=gr.toString,Ti=RegExp("^"+zs.call(rr).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ir=we?ie.Buffer:void 0,$r=ie.Symbol,ts=ie.Uint8Array,_t=Zn(Object.getPrototypeOf,Object),sn=Object.create,Ci=gr.propertyIsEnumerable,Ai=ji.splice,rs=Object.getOwnPropertySymbols,ns=Ir?Ir.isBuffer:void 0,ss=Zn(Object.keys,Object),an=Ie(ie,"DataView"),Dr=Ie(ie,"Map"),Ut=Ie(ie,"Promise"),on=Ie(ie,"Set"),vr=Ie(ie,"WeakMap"),Kt=Ie(Object,"create"),is=et(an),ln=et(Dr),as=et(Ut),os=et(on),ls=et(vr),br=$r?$r.prototype:void 0,Fs=br?br.valueOf:void 0;function Bt(y){var _=-1,C=y?y.length:0;for(this.clear();++_<C;){var H=y[_];this.set(H[0],H[1])}}function Hs(){this.__data__=Kt?Kt(null):{}}function Tn(y){return this.has(y)&&delete this.__data__[y]}function La(y){var _=this.__data__;if(Kt){var C=_[y];return C===s?void 0:C}return rr.call(_,y)?_[y]:void 0}function un(y){var _=this.__data__;return Kt?_[y]!==void 0:rr.call(_,y)}function cn(y,_){var C=this.__data__;return C[y]=Kt&&_===void 0?s:_,this}Bt.prototype.clear=Hs,Bt.prototype.delete=Tn,Bt.prototype.get=La,Bt.prototype.has=un,Bt.prototype.set=cn;function at(y){var _=-1,C=y?y.length:0;for(this.clear();++_<C;){var H=y[_];this.set(H[0],H[1])}}function Vs(){this.__data__=[]}function Pa(y){var _=this.__data__,C=us(_,y);if(C<0)return!1;var H=_.length-1;return C==H?_.pop():Ai.call(_,C,1),!0}function Ia(y){var _=this.__data__,C=us(_,y);return C<0?void 0:_[C][1]}function $a(y){return us(this.__data__,y)>-1}function Mr(y,_){var C=this.__data__,H=us(C,y);return H<0?C.push([y,_]):C[H][1]=_,this}at.prototype.clear=Vs,at.prototype.delete=Pa,at.prototype.get=Ia,at.prototype.has=$a,at.prototype.set=Mr;function yt(y){var _=-1,C=y?y.length:0;for(this.clear();++_<C;){var H=y[_];this.set(H[0],H[1])}}function Oi(){this.__data__={hash:new Bt,map:new(Dr||at),string:new Bt}}function Da(y){return qr(this,y).delete(y)}function Ri(y){return qr(this,y).get(y)}function Li(y){return qr(this,y).has(y)}function Pi(y,_){return qr(this,y).set(y,_),this}yt.prototype.clear=Oi,yt.prototype.delete=Da,yt.prototype.get=Ri,yt.prototype.has=Li,yt.prototype.set=Pi;function Et(y){this.__data__=new at(y)}function Ma(){this.__data__=new at}function qa(y){return this.__data__.delete(y)}function Je(y){return this.__data__.get(y)}function Ua(y){return this.__data__.has(y)}function Ks(y,_){var C=this.__data__;if(C instanceof at){var H=C.__data__;if(!Dr||H.length<t-1)return H.push([y,_]),this;C=this.__data__=new yt(H)}return C.set(y,_),this}Et.prototype.clear=Ma,Et.prototype.delete=qa,Et.prototype.get=Je,Et.prototype.has=Ua,Et.prototype.set=Ks;function Cn(y,_){var C=Gt(y)||Nr(y)?Fe(y.length,String):[],H=C.length,Ae=!!H;for(var ge in y)rr.call(y,ge)&&!(Ae&&(ge=="length"||Di(ge,H)))&&C.push(ge);return C}function An(y,_,C){var H=y[_];(!(rr.call(y,_)&&pn(H,C))||C===void 0&&!(_ in y))&&(y[_]=C)}function us(y,_){for(var C=y.length;C--;)if(pn(y[C][0],_))return C;return-1}function nr(y,_){return y&&Rn(_,Xs(_),y)}function dn(y,_,C,H,Ae,ge,De){var Me;if(H&&(Me=ge?H(y,Ae,ge,De):H(y)),Me!==void 0)return Me;if(!Ft(y))return y;var Ve=Gt(y);if(Ve){if(Me=Gs(y),!_)return Ii(y,Me)}else{var Ue=_r(y),ct=Ue==b||Ue==w;if(mn(y))return cs(y,_);if(Ue==k||Ue==l||ct&&!ge){if(Xe(y))return ge?y:{};if(Me=sr(ct?{}:y),!_)return Ln(y,nr(Me,y))}else{if(!U[Ue])return ge?y:{};Me=$i(y,Ue,dn,_)}}De||(De=new Et);var jt=De.get(y);if(jt)return jt;if(De.set(y,Me),!Ve)var tt=C?Ka(y):Xs(y);return Ne(tt||y,function(dt,ft){tt&&(ft=dt,dt=y[ft]),An(Me,ft,dn(dt,_,C,H,ft,y,De))}),Me}function Wt(y){return Ft(y)?sn(y):{}}function Ba(y,_,C){var H=_(y);return Gt(y)?H:Re(H,C(y))}function zt(y){return jn.call(y)}function za(y){if(!Ft(y)||ds(y))return!1;var _=Qs(y)||Xe(y)?Ti:z;return _.test(et(y))}function Fa(y){if(!ir(y))return ss(y);var _=[];for(var C in Object(y))rr.call(y,C)&&C!="constructor"&&_.push(C);return _}function cs(y,_){if(_)return y.slice();var C=new y.constructor(y.length);return y.copy(C),C}function hn(y){var _=new y.constructor(y.byteLength);return new ts(_).set(new ts(y)),_}function xr(y,_){var C=_?hn(y.buffer):y.buffer;return new y.constructor(C,y.byteOffset,y.byteLength)}function fn(y,_,C){var H=_?C(gt(y),!0):gt(y);return qe(H,Ee,new y.constructor)}function On(y){var _=new y.constructor(y.source,W.exec(y));return _.lastIndex=y.lastIndex,_}function Ha(y,_,C){var H=_?C(Xn(y),!0):Xn(y);return qe(H,ue,new y.constructor)}function Va(y){return Fs?Object(Fs.call(y)):{}}function Ws(y,_){var C=_?hn(y.buffer):y.buffer;return new y.constructor(C,y.byteOffset,y.length)}function Ii(y,_){var C=-1,H=y.length;for(_||(_=Array(H));++C<H;)_[C]=y[C];return _}function Rn(y,_,C,H){C||(C={});for(var Ae=-1,ge=_.length;++Ae<ge;){var De=_[Ae],Me=void 0;An(C,De,Me===void 0?y[De]:Me)}return C}function Ln(y,_){return Rn(y,wr(y),_)}function Ka(y){return Ba(y,Xs,wr)}function qr(y,_){var C=y.__data__;return Js(_)?C[typeof _=="string"?"string":"hash"]:C.map}function Ie(y,_){var C=Be(y,_);return za(C)?C:void 0}var wr=rs?Zn(rs,Object):Pn,_r=zt;(an&&_r(new an(new ArrayBuffer(1)))!=ae||Dr&&_r(new Dr)!=v||Ut&&_r(Ut.resolve())!=S||on&&_r(new on)!=L||vr&&_r(new vr)!=Y)&&(_r=function(y){var _=jn.call(y),C=_==k?y.constructor:void 0,H=C?et(C):void 0;if(H)switch(H){case is:return ae;case ln:return v;case as:return S;case os:return L;case ls:return Y}return _});function Gs(y){var _=y.length,C=y.constructor(_);return _&&typeof y[0]=="string"&&rr.call(y,"index")&&(C.index=y.index,C.input=y.input),C}function sr(y){return typeof y.constructor=="function"&&!ir(y)?Wt(_t(y)):{}}function $i(y,_,C,H){var Ae=y.constructor;switch(_){case te:return hn(y);case h:case p:return new Ae(+y);case ae:return xr(y,H);case me:case Le:case xe:case Pe:case T:case K:case P:case V:case G:return Ws(y,H);case v:return fn(y,H,C);case N:case M:return new Ae(y);case j:return On(y);case L:return Ha(y,H,C);case q:return Va(y)}}function Di(y,_){return _=_??a,!!_&&(typeof y=="number"||Q.test(y))&&y>-1&&y%1==0&&y<_}function Js(y){var _=typeof y;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?y!=="__proto__":y===null}function ds(y){return!!es&&es in y}function ir(y){var _=y&&y.constructor,C=typeof _=="function"&&_.prototype||gr;return y===C}function et(y){if(y!=null){try{return zs.call(y)}catch{}try{return y+""}catch{}}return""}function ar(y){return dn(y,!0,!0)}function pn(y,_){return y===_||y!==y&&_!==_}function Nr(y){return Mi(y)&&rr.call(y,"callee")&&(!Ci.call(y,"callee")||jn.call(y)==l)}var Gt=Array.isArray;function hs(y){return y!=null&&Ys(y.length)&&!Qs(y)}function Mi(y){return Zs(y)&&hs(y)}var mn=ns||In;function Qs(y){var _=Ft(y)?jn.call(y):"";return _==b||_==w}function Ys(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=a}function Ft(y){var _=typeof y;return!!y&&(_=="object"||_=="function")}function Zs(y){return!!y&&typeof y=="object"}function Xs(y){return hs(y)?Cn(y):Fa(y)}function Pn(){return[]}function In(){return!1}n.exports=ar})(No,No.exports)),No.exports}var ko={exports:{}};ko.exports;var xm;function ey(){return xm||(xm=1,(function(n,e){var t=200,s="__lodash_hash_undefined__",a=1,l=2,u=9007199254740991,h="[object Arguments]",p="[object Array]",g="[object AsyncFunction]",b="[object Boolean]",w="[object Date]",v="[object Error]",N="[object Function]",k="[object GeneratorFunction]",S="[object Map]",j="[object Number]",L="[object Null]",M="[object Object]",q="[object Promise]",Y="[object Proxy]",te="[object RegExp]",ae="[object Set]",me="[object String]",Le="[object Symbol]",xe="[object Undefined]",Pe="[object WeakMap]",T="[object ArrayBuffer]",K="[object DataView]",P="[object Float32Array]",V="[object Float64Array]",G="[object Int8Array]",F="[object Int16Array]",W="[object Int32Array]",z="[object Uint8Array]",Q="[object Uint8ClampedArray]",U="[object Uint16Array]",A="[object Uint32Array]",D=/[\\^$.*+?()[\]{}|]/g,ie=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,ne={};ne[P]=ne[V]=ne[G]=ne[F]=ne[W]=ne[z]=ne[Q]=ne[U]=ne[A]=!0,ne[h]=ne[p]=ne[T]=ne[b]=ne[K]=ne[w]=ne[v]=ne[N]=ne[S]=ne[j]=ne[M]=ne[te]=ne[ae]=ne[me]=ne[Pe]=!1;var we=typeof Ls=="object"&&Ls&&Ls.Object===Object&&Ls,Ee=typeof self=="object"&&self&&self.Object===Object&&self,ue=we||Ee||Function("return this")(),Ne=e&&!e.nodeType&&e,Re=Ne&&!0&&n&&!n.nodeType&&n,qe=Re&&Re.exports===Ne,Fe=qe&&we.process,Be=(function(){try{return Fe&&Fe.binding&&Fe.binding("util")}catch{}})(),Xe=Be&&Be.isTypedArray;function gt(y,_){for(var C=-1,H=y==null?0:y.length,Ae=0,ge=[];++C<H;){var De=y[C];_(De,C,y)&&(ge[Ae++]=De)}return ge}function Zn(y,_){for(var C=-1,H=_.length,Ae=y.length;++C<H;)y[Ae+C]=_[C];return y}function Xn(y,_){for(var C=-1,H=y==null?0:y.length;++C<H;)if(_(y[C],C,y))return!0;return!1}function ji(y,_){for(var C=-1,H=Array(y);++C<y;)H[C]=_(C);return H}function Bs(y){return function(_){return y(_)}}function gr(y,_){return y.has(_)}function yr(y,_){return y==null?void 0:y[_]}function es(y){var _=-1,C=Array(y.size);return y.forEach(function(H,Ae){C[++_]=[Ae,H]}),C}function zs(y,_){return function(C){return y(_(C))}}function rr(y){var _=-1,C=Array(y.size);return y.forEach(function(H){C[++_]=H}),C}var jn=Array.prototype,Ti=Function.prototype,Ir=Object.prototype,$r=ue["__core-js_shared__"],ts=Ti.toString,_t=Ir.hasOwnProperty,sn=(function(){var y=/[^.]+$/.exec($r&&$r.keys&&$r.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""})(),Ci=Ir.toString,Ai=RegExp("^"+ts.call(_t).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rs=qe?ue.Buffer:void 0,ns=ue.Symbol,ss=ue.Uint8Array,an=Ir.propertyIsEnumerable,Dr=jn.splice,Ut=ns?ns.toStringTag:void 0,on=Object.getOwnPropertySymbols,vr=rs?rs.isBuffer:void 0,Kt=zs(Object.keys,Object),is=wr(ue,"DataView"),ln=wr(ue,"Map"),as=wr(ue,"Promise"),os=wr(ue,"Set"),ls=wr(ue,"WeakMap"),br=wr(Object,"create"),Fs=et(is),Bt=et(ln),Hs=et(as),Tn=et(os),La=et(ls),un=ns?ns.prototype:void 0,cn=un?un.valueOf:void 0;function at(y){var _=-1,C=y==null?0:y.length;for(this.clear();++_<C;){var H=y[_];this.set(H[0],H[1])}}function Vs(){this.__data__=br?br(null):{},this.size=0}function Pa(y){var _=this.has(y)&&delete this.__data__[y];return this.size-=_?1:0,_}function Ia(y){var _=this.__data__;if(br){var C=_[y];return C===s?void 0:C}return _t.call(_,y)?_[y]:void 0}function $a(y){var _=this.__data__;return br?_[y]!==void 0:_t.call(_,y)}function Mr(y,_){var C=this.__data__;return this.size+=this.has(y)?0:1,C[y]=br&&_===void 0?s:_,this}at.prototype.clear=Vs,at.prototype.delete=Pa,at.prototype.get=Ia,at.prototype.has=$a,at.prototype.set=Mr;function yt(y){var _=-1,C=y==null?0:y.length;for(this.clear();++_<C;){var H=y[_];this.set(H[0],H[1])}}function Oi(){this.__data__=[],this.size=0}function Da(y){var _=this.__data__,C=cs(_,y);if(C<0)return!1;var H=_.length-1;return C==H?_.pop():Dr.call(_,C,1),--this.size,!0}function Ri(y){var _=this.__data__,C=cs(_,y);return C<0?void 0:_[C][1]}function Li(y){return cs(this.__data__,y)>-1}function Pi(y,_){var C=this.__data__,H=cs(C,y);return H<0?(++this.size,C.push([y,_])):C[H][1]=_,this}yt.prototype.clear=Oi,yt.prototype.delete=Da,yt.prototype.get=Ri,yt.prototype.has=Li,yt.prototype.set=Pi;function Et(y){var _=-1,C=y==null?0:y.length;for(this.clear();++_<C;){var H=y[_];this.set(H[0],H[1])}}function Ma(){this.size=0,this.__data__={hash:new at,map:new(ln||yt),string:new at}}function qa(y){var _=Ie(this,y).delete(y);return this.size-=_?1:0,_}function Je(y){return Ie(this,y).get(y)}function Ua(y){return Ie(this,y).has(y)}function Ks(y,_){var C=Ie(this,y),H=C.size;return C.set(y,_),this.size+=C.size==H?0:1,this}Et.prototype.clear=Ma,Et.prototype.delete=qa,Et.prototype.get=Je,Et.prototype.has=Ua,Et.prototype.set=Ks;function Cn(y){var _=-1,C=y==null?0:y.length;for(this.__data__=new Et;++_<C;)this.add(y[_])}function An(y){return this.__data__.set(y,s),this}function us(y){return this.__data__.has(y)}Cn.prototype.add=Cn.prototype.push=An,Cn.prototype.has=us;function nr(y){var _=this.__data__=new yt(y);this.size=_.size}function dn(){this.__data__=new yt,this.size=0}function Wt(y){var _=this.__data__,C=_.delete(y);return this.size=_.size,C}function Ba(y){return this.__data__.get(y)}function zt(y){return this.__data__.has(y)}function za(y,_){var C=this.__data__;if(C instanceof yt){var H=C.__data__;if(!ln||H.length<t-1)return H.push([y,_]),this.size=++C.size,this;C=this.__data__=new Et(H)}return C.set(y,_),this.size=C.size,this}nr.prototype.clear=dn,nr.prototype.delete=Wt,nr.prototype.get=Ba,nr.prototype.has=zt,nr.prototype.set=za;function Fa(y,_){var C=Nr(y),H=!C&&pn(y),Ae=!C&&!H&&hs(y),ge=!C&&!H&&!Ae&&Zs(y),De=C||H||Ae||ge,Me=De?ji(y.length,String):[],Ve=Me.length;for(var Ue in y)_t.call(y,Ue)&&!(De&&(Ue=="length"||Ae&&(Ue=="offset"||Ue=="parent")||ge&&(Ue=="buffer"||Ue=="byteLength"||Ue=="byteOffset")||$i(Ue,Ve)))&&Me.push(Ue);return Me}function cs(y,_){for(var C=y.length;C--;)if(ar(y[C][0],_))return C;return-1}function hn(y,_,C){var H=_(y);return Nr(y)?H:Zn(H,C(y))}function xr(y){return y==null?y===void 0?xe:L:Ut&&Ut in Object(y)?_r(y):ir(y)}function fn(y){return Ft(y)&&xr(y)==h}function On(y,_,C,H,Ae){return y===_?!0:y==null||_==null||!Ft(y)&&!Ft(_)?y!==y&&_!==_:Ha(y,_,C,H,On,Ae)}function Ha(y,_,C,H,Ae,ge){var De=Nr(y),Me=Nr(_),Ve=De?p:sr(y),Ue=Me?p:sr(_);Ve=Ve==h?M:Ve,Ue=Ue==h?M:Ue;var ct=Ve==M,jt=Ue==M,tt=Ve==Ue;if(tt&&hs(y)){if(!hs(_))return!1;De=!0,ct=!1}if(tt&&!ct)return ge||(ge=new nr),De||Zs(y)?Rn(y,_,C,H,Ae,ge):Ln(y,_,Ve,C,H,Ae,ge);if(!(C&a)){var dt=ct&&_t.call(y,"__wrapped__"),ft=jt&&_t.call(_,"__wrapped__");if(dt||ft){var ot=dt?y.value():y,Lt=ft?_.value():_;return ge||(ge=new nr),Ae(ot,Lt,C,H,ge)}}return tt?(ge||(ge=new nr),Ka(y,_,C,H,Ae,ge)):!1}function Va(y){if(!Ys(y)||Js(y))return!1;var _=mn(y)?Ai:ie;return _.test(et(y))}function Ws(y){return Ft(y)&&Qs(y.length)&&!!ne[xr(y)]}function Ii(y){if(!ds(y))return Kt(y);var _=[];for(var C in Object(y))_t.call(y,C)&&C!="constructor"&&_.push(C);return _}function Rn(y,_,C,H,Ae,ge){var De=C&a,Me=y.length,Ve=_.length;if(Me!=Ve&&!(De&&Ve>Me))return!1;var Ue=ge.get(y);if(Ue&&ge.get(_))return Ue==_;var ct=-1,jt=!0,tt=C&l?new Cn:void 0;for(ge.set(y,_),ge.set(_,y);++ct<Me;){var dt=y[ct],ft=_[ct];if(H)var ot=De?H(ft,dt,ct,_,y,ge):H(dt,ft,ct,y,_,ge);if(ot!==void 0){if(ot)continue;jt=!1;break}if(tt){if(!Xn(_,function(Lt,Ur){if(!gr(tt,Ur)&&(dt===Lt||Ae(dt,Lt,C,H,ge)))return tt.push(Ur)})){jt=!1;break}}else if(!(dt===ft||Ae(dt,ft,C,H,ge))){jt=!1;break}}return ge.delete(y),ge.delete(_),jt}function Ln(y,_,C,H,Ae,ge,De){switch(C){case K:if(y.byteLength!=_.byteLength||y.byteOffset!=_.byteOffset)return!1;y=y.buffer,_=_.buffer;case T:return!(y.byteLength!=_.byteLength||!ge(new ss(y),new ss(_)));case b:case w:case j:return ar(+y,+_);case v:return y.name==_.name&&y.message==_.message;case te:case me:return y==_+"";case S:var Me=es;case ae:var Ve=H&a;if(Me||(Me=rr),y.size!=_.size&&!Ve)return!1;var Ue=De.get(y);if(Ue)return Ue==_;H|=l,De.set(y,_);var ct=Rn(Me(y),Me(_),H,Ae,ge,De);return De.delete(y),ct;case Le:if(cn)return cn.call(y)==cn.call(_)}return!1}function Ka(y,_,C,H,Ae,ge){var De=C&a,Me=qr(y),Ve=Me.length,Ue=qr(_),ct=Ue.length;if(Ve!=ct&&!De)return!1;for(var jt=Ve;jt--;){var tt=Me[jt];if(!(De?tt in _:_t.call(_,tt)))return!1}var dt=ge.get(y);if(dt&&ge.get(_))return dt==_;var ft=!0;ge.set(y,_),ge.set(_,y);for(var ot=De;++jt<Ve;){tt=Me[jt];var Lt=y[tt],Ur=_[tt];if(H)var fs=De?H(Ur,Lt,tt,_,y,ge):H(Lt,Ur,tt,y,_,ge);if(!(fs===void 0?Lt===Ur||Ae(Lt,Ur,C,H,ge):fs)){ft=!1;break}ot||(ot=tt=="constructor")}if(ft&&!ot){var qi=y.constructor,ps=_.constructor;qi!=ps&&"constructor"in y&&"constructor"in _&&!(typeof qi=="function"&&qi instanceof qi&&typeof ps=="function"&&ps instanceof ps)&&(ft=!1)}return ge.delete(y),ge.delete(_),ft}function qr(y){return hn(y,Xs,Gs)}function Ie(y,_){var C=y.__data__;return Di(_)?C[typeof _=="string"?"string":"hash"]:C.map}function wr(y,_){var C=yr(y,_);return Va(C)?C:void 0}function _r(y){var _=_t.call(y,Ut),C=y[Ut];try{y[Ut]=void 0;var H=!0}catch{}var Ae=Ci.call(y);return H&&(_?y[Ut]=C:delete y[Ut]),Ae}var Gs=on?function(y){return y==null?[]:(y=Object(y),gt(on(y),function(_){return an.call(y,_)}))}:Pn,sr=xr;(is&&sr(new is(new ArrayBuffer(1)))!=K||ln&&sr(new ln)!=S||as&&sr(as.resolve())!=q||os&&sr(new os)!=ae||ls&&sr(new ls)!=Pe)&&(sr=function(y){var _=xr(y),C=_==M?y.constructor:void 0,H=C?et(C):"";if(H)switch(H){case Fs:return K;case Bt:return S;case Hs:return q;case Tn:return ae;case La:return Pe}return _});function $i(y,_){return _=_??u,!!_&&(typeof y=="number"||oe.test(y))&&y>-1&&y%1==0&&y<_}function Di(y){var _=typeof y;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?y!=="__proto__":y===null}function Js(y){return!!sn&&sn in y}function ds(y){var _=y&&y.constructor,C=typeof _=="function"&&_.prototype||Ir;return y===C}function ir(y){return Ci.call(y)}function et(y){if(y!=null){try{return ts.call(y)}catch{}try{return y+""}catch{}}return""}function ar(y,_){return y===_||y!==y&&_!==_}var pn=fn((function(){return arguments})())?fn:function(y){return Ft(y)&&_t.call(y,"callee")&&!an.call(y,"callee")},Nr=Array.isArray;function Gt(y){return y!=null&&Qs(y.length)&&!mn(y)}var hs=vr||In;function Mi(y,_){return On(y,_)}function mn(y){if(!Ys(y))return!1;var _=xr(y);return _==N||_==k||_==g||_==Y}function Qs(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=u}function Ys(y){var _=typeof y;return y!=null&&(_=="object"||_=="function")}function Ft(y){return y!=null&&typeof y=="object"}var Zs=Xe?Bs(Xe):Ws;function Xs(y){return Gt(y)?Fa(y):Ii(y)}function Pn(){return[]}function In(){return!1}n.exports=Mi})(ko,ko.exports)),ko.exports}var eu={},wm;function pE(){if(wm)return eu;wm=1,Object.defineProperty(eu,"__esModule",{value:!0});const n=Xg(),e=ey();var t;return(function(s){function a(p={},g={},b=!1){typeof p!="object"&&(p={}),typeof g!="object"&&(g={});let w=n(g);b||(w=Object.keys(w).reduce((v,N)=>(w[N]!=null&&(v[N]=w[N]),v),{}));for(const v in p)p[v]!==void 0&&g[v]===void 0&&(w[v]=p[v]);return Object.keys(w).length>0?w:void 0}s.compose=a;function l(p={},g={}){typeof p!="object"&&(p={}),typeof g!="object"&&(g={});const b=Object.keys(p).concat(Object.keys(g)).reduce((w,v)=>(e(p[v],g[v])||(w[v]=g[v]===void 0?null:g[v]),w),{});return Object.keys(b).length>0?b:void 0}s.diff=l;function u(p={},g={}){p=p||{};const b=Object.keys(g).reduce((w,v)=>(g[v]!==p[v]&&p[v]!==void 0&&(w[v]=g[v]),w),{});return Object.keys(p).reduce((w,v)=>(p[v]!==g[v]&&g[v]===void 0&&(w[v]=null),w),b)}s.invert=u;function h(p,g,b=!1){if(typeof p!="object")return g;if(typeof g!="object")return;if(!b)return g;const w=Object.keys(g).reduce((v,N)=>(p[N]===void 0&&(v[N]=g[N]),v),{});return Object.keys(w).length>0?w:void 0}s.transform=h})(t||(t={})),eu.default=t,eu}var tu={},_m;function ty(){if(_m)return tu;_m=1,Object.defineProperty(tu,"__esModule",{value:!0});var n;return(function(e){function t(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}e.length=t})(n||(n={})),tu.default=n,tu}var ru={},Nm;function mE(){if(Nm)return ru;Nm=1,Object.defineProperty(ru,"__esModule",{value:!0});const n=ty();class e{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const a=this.ops[this.index];if(a){const l=this.offset,u=n.default.length(a);if(s>=u-l?(s=u-l,this.index+=1,this.offset=0):this.offset+=s,typeof a.delete=="number")return{delete:s};{const h={};return a.attributes&&(h.attributes=a.attributes),typeof a.retain=="number"?h.retain=s:typeof a.retain=="object"&&a.retain!==null?h.retain=a.retain:typeof a.insert=="string"?h.insert=a.insert.substr(l,s):h.insert=a.insert,h}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,a=this.index,l=this.next(),u=this.ops.slice(this.index);return this.offset=s,this.index=a,[l].concat(u)}}else return[]}}return ru.default=e,ru}var km;function gE(){return km||(km=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=fE(),s=Xg(),a=ey(),l=pE();e.AttributeMap=l.default;const u=ty();e.Op=u.default;const h=mE();e.OpIterator=h.default;const p="\0",g=(w,v)=>{if(typeof w!="object"||w===null)throw new Error(`cannot retain a ${typeof w}`);if(typeof v!="object"||v===null)throw new Error(`cannot retain a ${typeof v}`);const N=Object.keys(w)[0];if(!N||N!==Object.keys(v)[0])throw new Error(`embed types not matched: ${N} != ${Object.keys(v)[0]}`);return[N,w[N],v[N]]};class b{constructor(v){Array.isArray(v)?this.ops=v:v!=null&&Array.isArray(v.ops)?this.ops=v.ops:this.ops=[]}static registerEmbed(v,N){this.handlers[v]=N}static unregisterEmbed(v){delete this.handlers[v]}static getHandler(v){const N=this.handlers[v];if(!N)throw new Error(`no handlers for embed type "${v}"`);return N}insert(v,N){const k={};return typeof v=="string"&&v.length===0?this:(k.insert=v,N!=null&&typeof N=="object"&&Object.keys(N).length>0&&(k.attributes=N),this.push(k))}delete(v){return v<=0?this:this.push({delete:v})}retain(v,N){if(typeof v=="number"&&v<=0)return this;const k={retain:v};return N!=null&&typeof N=="object"&&Object.keys(N).length>0&&(k.attributes=N),this.push(k)}push(v){let N=this.ops.length,k=this.ops[N-1];if(v=s(v),typeof k=="object"){if(typeof v.delete=="number"&&typeof k.delete=="number")return this.ops[N-1]={delete:k.delete+v.delete},this;if(typeof k.delete=="number"&&v.insert!=null&&(N-=1,k=this.ops[N-1],typeof k!="object"))return this.ops.unshift(v),this;if(a(v.attributes,k.attributes)){if(typeof v.insert=="string"&&typeof k.insert=="string")return this.ops[N-1]={insert:k.insert+v.insert},typeof v.attributes=="object"&&(this.ops[N-1].attributes=v.attributes),this;if(typeof v.retain=="number"&&typeof k.retain=="number")return this.ops[N-1]={retain:k.retain+v.retain},typeof v.attributes=="object"&&(this.ops[N-1].attributes=v.attributes),this}}return N===this.ops.length?this.ops.push(v):this.ops.splice(N,0,v),this}chop(){const v=this.ops[this.ops.length-1];return v&&typeof v.retain=="number"&&!v.attributes&&this.ops.pop(),this}filter(v){return this.ops.filter(v)}forEach(v){this.ops.forEach(v)}map(v){return this.ops.map(v)}partition(v){const N=[],k=[];return this.forEach(S=>{(v(S)?N:k).push(S)}),[N,k]}reduce(v,N){return this.ops.reduce(v,N)}changeLength(){return this.reduce((v,N)=>N.insert?v+u.default.length(N):N.delete?v-N.delete:v,0)}length(){return this.reduce((v,N)=>v+u.default.length(N),0)}slice(v=0,N=1/0){const k=[],S=new h.default(this.ops);let j=0;for(;j<N&&S.hasNext();){let L;j<v?L=S.next(v-j):(L=S.next(N-j),k.push(L)),j+=u.default.length(L)}return new b(k)}compose(v){const N=new h.default(this.ops),k=new h.default(v.ops),S=[],j=k.peek();if(j!=null&&typeof j.retain=="number"&&j.attributes==null){let M=j.retain;for(;N.peekType()==="insert"&&N.peekLength()<=M;)M-=N.peekLength(),S.push(N.next());j.retain-M>0&&k.next(j.retain-M)}const L=new b(S);for(;N.hasNext()||k.hasNext();)if(k.peekType()==="insert")L.push(k.next());else if(N.peekType()==="delete")L.push(N.next());else{const M=Math.min(N.peekLength(),k.peekLength()),q=N.next(M),Y=k.next(M);if(Y.retain){const te={};if(typeof q.retain=="number")te.retain=typeof Y.retain=="number"?M:Y.retain;else if(typeof Y.retain=="number")q.retain==null?te.insert=q.insert:te.retain=q.retain;else{const me=q.retain==null?"insert":"retain",[Le,xe,Pe]=g(q[me],Y.retain),T=b.getHandler(Le);te[me]={[Le]:T.compose(xe,Pe,me==="retain")}}const ae=l.default.compose(q.attributes,Y.attributes,typeof q.retain=="number");if(ae&&(te.attributes=ae),L.push(te),!k.hasNext()&&a(L.ops[L.ops.length-1],te)){const me=new b(N.rest());return L.concat(me).chop()}}else typeof Y.delete=="number"&&(typeof q.retain=="number"||typeof q.retain=="object"&&q.retain!==null)&&L.push(Y)}return L.chop()}concat(v){const N=new b(this.ops.slice());return v.ops.length>0&&(N.push(v.ops[0]),N.ops=N.ops.concat(v.ops.slice(1))),N}diff(v,N){if(this.ops===v.ops)return new b;const k=[this,v].map(q=>q.map(Y=>{if(Y.insert!=null)return typeof Y.insert=="string"?Y.insert:p;const te=q===v?"on":"with";throw new Error("diff() called "+te+" non-document")}).join("")),S=new b,j=t(k[0],k[1],N,!0),L=new h.default(this.ops),M=new h.default(v.ops);return j.forEach(q=>{let Y=q[1].length;for(;Y>0;){let te=0;switch(q[0]){case t.INSERT:te=Math.min(M.peekLength(),Y),S.push(M.next(te));break;case t.DELETE:te=Math.min(Y,L.peekLength()),L.next(te),S.delete(te);break;case t.EQUAL:te=Math.min(L.peekLength(),M.peekLength(),Y);const ae=L.next(te),me=M.next(te);a(ae.insert,me.insert)?S.retain(te,l.default.diff(ae.attributes,me.attributes)):S.push(me).delete(te);break}Y-=te}}),S.chop()}eachLine(v,N=`
`){const k=new h.default(this.ops);let S=new b,j=0;for(;k.hasNext();){if(k.peekType()!=="insert")return;const L=k.peek(),M=u.default.length(L)-k.peekLength(),q=typeof L.insert=="string"?L.insert.indexOf(N,M)-M:-1;if(q<0)S.push(k.next());else if(q>0)S.push(k.next(q));else{if(v(S,k.next(1).attributes||{},j)===!1)return;j+=1,S=new b}}S.length()>0&&v(S,{},j)}invert(v){const N=new b;return this.reduce((k,S)=>{if(S.insert)N.delete(u.default.length(S));else{if(typeof S.retain=="number"&&S.attributes==null)return N.retain(S.retain),k+S.retain;if(S.delete||typeof S.retain=="number"){const j=S.delete||S.retain;return v.slice(k,k+j).forEach(M=>{S.delete?N.push(M):S.retain&&S.attributes&&N.retain(u.default.length(M),l.default.invert(S.attributes,M.attributes))}),k+j}else if(typeof S.retain=="object"&&S.retain!==null){const j=v.slice(k,k+1),L=new h.default(j.ops).next(),[M,q,Y]=g(S.retain,L.insert),te=b.getHandler(M);return N.retain({[M]:te.invert(q,Y)},l.default.invert(S.attributes,L.attributes)),k+1}}return k},0),N.chop()}transform(v,N=!1){if(N=!!N,typeof v=="number")return this.transformPosition(v,N);const k=v,S=new h.default(this.ops),j=new h.default(k.ops),L=new b;for(;S.hasNext()||j.hasNext();)if(S.peekType()==="insert"&&(N||j.peekType()!=="insert"))L.retain(u.default.length(S.next()));else if(j.peekType()==="insert")L.push(j.next());else{const M=Math.min(S.peekLength(),j.peekLength()),q=S.next(M),Y=j.next(M);if(q.delete)continue;if(Y.delete)L.push(Y);else{const te=q.retain,ae=Y.retain;let me=typeof ae=="object"&&ae!==null?ae:M;if(typeof te=="object"&&te!==null&&typeof ae=="object"&&ae!==null){const Le=Object.keys(te)[0];if(Le===Object.keys(ae)[0]){const xe=b.getHandler(Le);xe&&(me={[Le]:xe.transform(te[Le],ae[Le],N)})}}L.retain(me,l.default.transform(q.attributes,Y.attributes,N))}}return L.chop()}transformPosition(v,N=!1){N=!!N;const k=new h.default(this.ops);let S=0;for(;k.hasNext()&&S<=v;){const j=k.peekLength(),L=k.peekType();if(k.next(),L==="delete"){v-=Math.min(j,v-S);continue}else L==="insert"&&(S<v||!N)&&(v+=j);S+=j}return v}}b.Op=u.default,b.OpIterator=h.default,b.AttributeMap=l.default,b.handlers={},e.default=b,n.exports=b,n.exports.default=b})(Xl,Xl.exports)),Xl.exports}var Pr=gE();const ye=yh(Pr);class rn extends mr{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}rn.blotName="break";rn.tagName="BR";let en=class extends wu{};const yE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ru(n){return n.replace(/[&<>"']/g,e=>yE[e])}const wn=class wn extends Ph{static compare(e,t){const s=wn.order.indexOf(e),a=wn.order.indexOf(t);return s>=0||a>=0?s-a:e===t?0:e<t?-1:1}formatAt(e,t,s,a){if(wn.compare(this.statics.blotName,s)<0&&this.scroll.query(s,be.BLOT)){const l=this.isolate(e,t);a&&l.wrap(s,a)}else super.formatAt(e,t,s,a)}optimize(e){if(super.optimize(e),this.parent instanceof wn&&wn.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};le(wn,"allowedChildren",[wn,rn,mr,en]),le(wn,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Sn=wn;const Sm=1;class Rt extends zo{constructor(){super(...arguments);le(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=ry(this)),this.cache.delta}deleteAt(t,s){super.deleteAt(t,s),this.cache={}}formatAt(t,s,a,l){s<=0||(this.scroll.query(a,be.BLOCK)?t+s===this.length()&&this.format(a,l):super.formatAt(t,Math.min(s,this.length()-t-1),a,l),this.cache={})}insertAt(t,s,a){if(a!=null){super.insertAt(t,s,a),this.cache={};return}if(s.length===0)return;const l=s.split(`
`),u=l.shift();u.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),u):this.children.tail.insertAt(this.children.tail.length(),u),this.cache={});let h=this;l.reduce((p,g)=>(h=h.split(p,!0),h.insertAt(0,g),g.length),t+u.length)}insertBefore(t,s){const{head:a}=this.children;super.insertBefore(t,s),a instanceof rn&&a.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Sm),this.cache.length}moveChildren(t,s){super.moveChildren(t,s),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(t===0||t>=this.length()-Sm)){const l=this.clone();return t===0?(this.parent.insertBefore(l,this),this):(this.parent.insertBefore(l,this.next),l)}const a=super.split(t,s);return this.cache={},a}}Rt.blotName="block";Rt.tagName="P";Rt.defaultChild=rn;Rt.allowedChildren=[rn,Sn,mr,en];class Lr extends mr{attach(){super.attach(),this.attributes=new Au(this.domNode)}delta(){return new ye().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const s=this.scroll.query(e,be.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,t)}formatAt(e,t,s,a){this.format(s,a)}insertAt(e,t,s){if(s!=null){super.insertAt(e,t,s);return}const a=t.split(`
`),l=a.pop(),u=a.map(p=>{const g=this.scroll.create(Rt.blotName);return g.insertAt(0,p),g}),h=this.split(e);u.forEach(p=>{this.parent.insertBefore(p,h)}),l&&this.parent.insertBefore(this.scroll.create("text",l),h)}}Lr.scope=be.BLOCK_BLOT;function ry(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(Mt).reduce((t,s)=>s.length()===0?t:t.insert(s.value(),Or(s,{},e)),new ye).insert(`
`,Or(n))}function Or(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:Or(n.parent,e,t)}const Ar=class Ar extends mr{static value(){}constructor(e,t,s){super(e,t),this.selection=s,this.textNode=document.createTextNode(Ar.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let s=this,a=0;for(;s!=null&&s.statics.scope!==be.BLOCK_BLOT;)a+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=Ar.CONTENTS.length,s.optimize(),s.formatAt(a,Ar.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof en?this.prev:null,s=t?t.length():0,a=this.next instanceof en?this.next:null,l=a?a.text:"",{textNode:u}=this,h=u.data.split(Ar.CONTENTS).join("");u.data=Ar.CONTENTS;let p;if(t)p=t,(h||a)&&(t.insertAt(t.length(),h+l),a&&a.remove());else if(a)p=a,a.insertAt(0,h);else{const g=document.createTextNode(h);p=this.scroll.create(g),this.parent.insertBefore(p,this)}if(this.remove(),e){const g=(v,N)=>t&&v===t.domNode?N:v===u?s+N-1:a&&v===a.domNode?s+h.length+N:null,b=g(e.start.node,e.start.offset),w=g(e.end.node,e.end.offset);if(b!==null&&w!==null)return{startNode:p.domNode,startOffset:b,endNode:p.domNode,endOffset:w}}return null}update(e,t){if(e.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(t.range=s)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Ar.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};le(Ar,"blotName","cursor"),le(Ar,"className","ql-cursor"),le(Ar,"tagName","span"),le(Ar,"CONTENTS","\uFEFF");let Ca=Ar;var Sd={exports:{}},Em;function vE(){return Em||(Em=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function a(p,g,b){this.fn=p,this.context=g,this.once=b||!1}function l(p,g,b,w,v){if(typeof b!="function")throw new TypeError("The listener must be a function");var N=new a(b,w||p,v),k=t?t+g:g;return p._events[k]?p._events[k].fn?p._events[k]=[p._events[k],N]:p._events[k].push(N):(p._events[k]=N,p._eventsCount++),p}function u(p,g){--p._eventsCount===0?p._events=new s:delete p._events[g]}function h(){this._events=new s,this._eventsCount=0}h.prototype.eventNames=function(){var g=[],b,w;if(this._eventsCount===0)return g;for(w in b=this._events)e.call(b,w)&&g.push(t?w.slice(1):w);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(b)):g},h.prototype.listeners=function(g){var b=t?t+g:g,w=this._events[b];if(!w)return[];if(w.fn)return[w.fn];for(var v=0,N=w.length,k=new Array(N);v<N;v++)k[v]=w[v].fn;return k},h.prototype.listenerCount=function(g){var b=t?t+g:g,w=this._events[b];return w?w.fn?1:w.length:0},h.prototype.emit=function(g,b,w,v,N,k){var S=t?t+g:g;if(!this._events[S])return!1;var j=this._events[S],L=arguments.length,M,q;if(j.fn){switch(j.once&&this.removeListener(g,j.fn,void 0,!0),L){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,b),!0;case 3:return j.fn.call(j.context,b,w),!0;case 4:return j.fn.call(j.context,b,w,v),!0;case 5:return j.fn.call(j.context,b,w,v,N),!0;case 6:return j.fn.call(j.context,b,w,v,N,k),!0}for(q=1,M=new Array(L-1);q<L;q++)M[q-1]=arguments[q];j.fn.apply(j.context,M)}else{var Y=j.length,te;for(q=0;q<Y;q++)switch(j[q].once&&this.removeListener(g,j[q].fn,void 0,!0),L){case 1:j[q].fn.call(j[q].context);break;case 2:j[q].fn.call(j[q].context,b);break;case 3:j[q].fn.call(j[q].context,b,w);break;case 4:j[q].fn.call(j[q].context,b,w,v);break;default:if(!M)for(te=1,M=new Array(L-1);te<L;te++)M[te-1]=arguments[te];j[q].fn.apply(j[q].context,M)}}return!0},h.prototype.on=function(g,b,w){return l(this,g,b,w,!1)},h.prototype.once=function(g,b,w){return l(this,g,b,w,!0)},h.prototype.removeListener=function(g,b,w,v){var N=t?t+g:g;if(!this._events[N])return this;if(!b)return u(this,N),this;var k=this._events[N];if(k.fn)k.fn===b&&(!v||k.once)&&(!w||k.context===w)&&u(this,N);else{for(var S=0,j=[],L=k.length;S<L;S++)(k[S].fn!==b||v&&!k[S].once||w&&k[S].context!==w)&&j.push(k[S]);j.length?this._events[N]=j.length===1?j[0]:j:u(this,N)}return this},h.prototype.removeAllListeners=function(g){var b;return g?(b=t?t+g:g,this._events[b]&&u(this,b)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,n.exports=h})(Sd)),Sd.exports}var bE=vE();const xE=yh(bE),ah=new WeakMap,oh=["error","warn","log","info"];let lh="warn";function ny(n){if(lh&&oh.indexOf(n)<=oh.indexOf(lh)){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];console[n](...t)}}function Yn(n){return oh.reduce((e,t)=>(e[t]=ny.bind(console,t,n),e),{})}Yn.level=n=>{lh=n};ny.level=Yn.level;const Ed=Yn("quill:events"),wE=["selectionchange","mousedown","mouseup","click"];wE.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(a=>{const l=ah.get(a);l&&l.emitter&&l.emitter.handleDOM(...t)})})});class he extends xE{constructor(){super(),this.domListeners={},this.on("error",Ed.error)}emit(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Ed.log.call(Ed,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];(this.domListeners[e.type]||[]).forEach(l=>{let{node:u,handler:h}=l;(e.target===u||u.contains(e.target))&&h(e,...s)})}listenDOM(e,t,s){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:s})}}le(he,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),le(he,"sources",{API:"api",SILENT:"silent",USER:"user"});const jd=Yn("quill:selection");class xi{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class _E{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new xi(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,he.sources.USER),1)}),this.emitter.on(he.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(he.events.SCROLL_UPDATE,(a,l)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const u=l.some(h=>h.type==="characterData"||h.type==="childList"||h.type==="attributes"&&h.target===this.root);this.update(u?he.sources.SILENT:a)}catch{}})}),this.emitter.on(he.events.SCROLL_OPTIMIZE,(s,a)=>{if(a.range){const{startNode:l,startOffset:u,endNode:h,endOffset:p}=a.range;this.setNativeRange(l,u,h,p),this.update(he.sources.SILENT)}}),this.update(he.sources.SILENT)}handleComposition(){this.emitter.on(he.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(he.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(he.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(e,be.BLOCK))){if(s.start.node!==this.cursor.textNode){const a=this.scroll.find(s.start.node,!1);if(a==null)return;if(a instanceof Mt){const l=a.split(s.start.offset);a.parent.insertBefore(this.cursor,l)}else a.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();e=Math.min(e,s-1),t=Math.min(e+t,s-1)-e;let a,[l,u]=this.scroll.leaf(e);if(l==null)return null;if(t>0&&u===l.length()){const[b]=this.scroll.leaf(e+1);if(b){const[w]=this.scroll.line(e),[v]=this.scroll.line(e+1);w===v&&(l=b,u=0)}}[a,u]=l.position(u,!0);const h=document.createRange();if(t>0)return h.setStart(a,u),[l,u]=this.scroll.leaf(e+t),l==null?null:([a,u]=l.position(u,!0),h.setEnd(a,u),h.getBoundingClientRect());let p="left",g;if(a instanceof Text){if(!a.data.length)return null;u<a.data.length?(h.setStart(a,u),h.setEnd(a,u+1)):(h.setStart(a,u-1),h.setEnd(a,u),p="right"),g=h.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;g=l.domNode.getBoundingClientRect(),u>0&&(p="right")}return{bottom:g.top+g.height,height:g.height,left:g[p],right:g[p],top:g.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const s=this.normalizeNative(t);return jd.info("getNativeRange",s),s}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Td(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const s=t.map(u=>{const[h,p]=u,g=this.scroll.find(h,!0),b=g.offset(this.scroll);return p===0?b:g instanceof Mt?b+g.index(h,p):b+g.length()}),a=Math.min(Math.max(...s),this.scroll.length()-1),l=Math.min(a,...s);return new xi(l,a-l)}normalizeNative(e){if(!Td(this.root,e.startContainer)||!e.collapsed&&!Td(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(s=>{let{node:a,offset:l}=s;for(;!(a instanceof Text)&&a.childNodes.length>0;)if(a.childNodes.length>l)a=a.childNodes[l],l=0;else if(a.childNodes.length===l)a=a.lastChild,a instanceof Text?l=a.data.length:a.childNodes.length>0?l=a.childNodes.length:l=a.childNodes.length+1;else break;s.node=a,s.offset=l}),t}rangeToNative(e){const t=this.scroll.length(),s=(a,l)=>{a=Math.min(t-1,a);const[u,h]=this.scroll.leaf(a);return u?u.position(h,l):[null,-1]};return[...s(e.index,!1),...s(e.index+e.length,!0)]}setNativeRange(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(jd.info("setNativeRange",e,t,s,a),e!=null&&(this.root.parentNode==null||e.parentNode==null||s.parentNode==null))return;const u=document.getSelection();if(u!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:h}=this.getNativeRange()||{};if(h==null||l||e!==h.startContainer||t!==h.startOffset||s!==h.endContainer||a!==h.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),s instanceof Element&&s.tagName==="BR"&&(a=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const p=document.createRange();p.setStart(e,t),p.setEnd(s,a),u.removeAllRanges(),u.addRange(p)}}else u.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:he.sources.API;if(typeof t=="string"&&(s=t,t=!1),jd.info("setRange",e),e!=null){const a=this.rangeToNative(e);this.setNativeRange(...a,t)}else this.setNativeRange(null);this.update(s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:he.sources.USER;const t=this.lastRange,[s,a]=this.getRange();if(this.lastRange=s,this.lastNative=a,this.lastRange!=null&&(this.savedRange=this.lastRange),!Rs(t,this.lastRange)){if(!this.composing&&a!=null&&a.native.collapsed&&a.start.node!==this.cursor.textNode){const u=this.cursor.restore();u&&this.setNativeRange(u.startNode,u.startOffset,u.endNode,u.endOffset)}const l=[he.events.SELECTION_CHANGE,ka(this.lastRange),ka(t),e];this.emitter.emit(he.events.EDITOR_CHANGE,...l),e!==he.sources.SILENT&&this.emitter.emit(...l)}}}function Td(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const NE=/^[ -~]*$/;class kE{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const s=jm(e),a=new ye;return EE(s.ops.slice()).reduce((u,h)=>{const p=Pr.Op.length(h);let g=h.attributes||{},b=!1,w=!1;if(h.insert!=null){if(a.retain(p),typeof h.insert=="string"){const k=h.insert;w=!k.endsWith(`
`)&&(t<=u||!!this.scroll.descendant(Lr,u)[0]),this.scroll.insertAt(u,k);const[S,j]=this.scroll.line(u);let L=Ds({},Or(S));if(S instanceof Rt){const[M]=S.descendant(Mt,j);M&&(L=Ds(L,Or(M)))}g=Pr.AttributeMap.diff(L,g)||{}}else if(typeof h.insert=="object"){const k=Object.keys(h.insert)[0];if(k==null)return u;const S=this.scroll.query(k,be.INLINE)!=null;if(S)(t<=u||this.scroll.descendant(Lr,u)[0])&&(w=!0);else if(u>0){const[j,L]=this.scroll.descendant(Mt,u-1);j instanceof en?j.value()[L]!==`
`&&(b=!0):j instanceof mr&&j.statics.scope===be.INLINE_BLOT&&(b=!0)}if(this.scroll.insertAt(u,k,h.insert[k]),S){const[j]=this.scroll.descendant(Mt,u);if(j){const L=Ds({},Or(j));g=Pr.AttributeMap.diff(L,g)||{}}}}t+=p}else if(a.push(h),h.retain!==null&&typeof h.retain=="object"){const k=Object.keys(h.retain)[0];if(k==null)return u;this.scroll.updateEmbedAt(u,k,h.retain[k])}Object.keys(g).forEach(k=>{this.scroll.formatAt(u,p,k,g[k])});const v=b?1:0,N=w?1:0;return t+=v+N,a.retain(v),a.delete(N),u+p+v+N},0),a.reduce((u,h)=>typeof h.delete=="number"?(this.scroll.deleteAt(u,h.delete),u):u+Pr.Op.length(h),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new ye().retain(e).delete(t))}formatLine(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(l=>{this.scroll.lines(e,Math.max(t,1)).forEach(u=>{u.format(l,s[l])})}),this.scroll.optimize();const a=new ye().retain(e).retain(t,ka(s));return this.update(a)}formatText(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(l=>{this.scroll.formatAt(e,t,l,s[l])});const a=new ye().retain(e).retain(t,ka(s));return this.update(a)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new ye)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],a=[];t===0?this.scroll.path(e).forEach(h=>{const[p]=h;p instanceof Rt?s.push(p):p instanceof Mt&&a.push(p)}):(s=this.scroll.lines(e,t),a=this.scroll.descendants(Mt,e,t));const[l,u]=[s,a].map(h=>{const p=h.shift();if(p==null)return{};let g=Or(p);for(;Object.keys(g).length>0;){const b=h.shift();if(b==null)return g;g=SE(Or(b),g)}return g});return{...l,...u}}getHTML(e,t){const[s,a]=this.scroll.line(e);if(s){const l=s.length();return s.length()>=a+t&&!(a===0&&t===l)?Fo(s,a,t,!0):Fo(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(e,t){const s=jm(t),a=new ye().retain(e).concat(s);return this.scroll.insertContents(e,s),this.update(a)}insertEmbed(e,t,s){return this.scroll.insertAt(e,t,s),this.update(new ye().retain(e).insert({[t]:s}))}insertText(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(s).forEach(a=>{this.scroll.formatAt(e,t.length,a,s[a])}),this.update(new ye().retain(e).insert(t,ka(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Rt.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof rn}removeFormat(e,t){const s=this.getText(e,t),[a,l]=this.scroll.line(e+t);let u=0,h=new ye;a!=null&&(u=a.length()-l,h=a.delta().slice(l,l+u-1).insert(`
`));const g=this.getContents(e,t+u).diff(new ye().insert(s).concat(h)),b=new ye().retain(e).concat(g);return this.applyDelta(b)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const a=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(NE)&&this.scroll.find(t[0].target)){const l=this.scroll.find(t[0].target),u=Or(l),h=l.offset(this.scroll),p=t[0].oldValue.replace(Ca.CONTENTS,""),g=new ye().insert(p),b=new ye().insert(l.value()),w=s&&{oldRange:Tm(s.oldRange,-h),newRange:Tm(s.newRange,-h)};e=new ye().retain(h).concat(g.diff(b,w)).reduce((N,k)=>k.insert?N.insert(k.insert,u):N.push(k),new ye),this.delta=a.compose(e)}else this.delta=this.getDelta(),(!e||!Rs(a.compose(e),this.delta))&&(e=a.diff(this.delta,s));return e}}function ba(n,e,t){if(n.length===0){const[N]=Cd(t.pop());return e<=0?`</li></${N}>`:`</li></${N}>${ba([],e-1,t)}`}const[{child:s,offset:a,length:l,indent:u,type:h},...p]=n,[g,b]=Cd(h);if(u>e)return t.push(h),u===e+1?`<${g}><li${b}>${Fo(s,a,l)}${ba(p,u,t)}`:`<${g}><li>${ba(n,e+1,t)}`;const w=t[t.length-1];if(u===e&&h===w)return`</li><li${b}>${Fo(s,a,l)}${ba(p,u,t)}`;const[v]=Cd(t.pop());return`</li></${v}>${ba(n,e-1,t)}`}function Fo(n,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof en)return Ru(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Xr){if(n.statics.blotName==="list-container"){const g=[];return n.children.forEachAt(e,t,(b,w,v)=>{const N="formats"in b&&typeof b.formats=="function"?b.formats():{};g.push({child:b,offset:w,length:v,indent:N.indent||0,type:N.list})}),ba(g,-1,[])}const a=[];if(n.children.forEachAt(e,t,(g,b,w)=>{a.push(Fo(g,b,w))}),s||n.statics.blotName==="list")return a.join("");const{outerHTML:l,innerHTML:u}=n.domNode,[h,p]=l.split(`>${u}<`);return h==="<table"?`<table style="border: 1px solid #000;">${a.join("")}<${p}`:`${h}>${a.join("")}<${p}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function SE(n,e){return Object.keys(e).reduce((t,s)=>{if(n[s]==null)return t;const a=e[s];return a===n[s]?t[s]=a:Array.isArray(a)?a.indexOf(n[s])<0?t[s]=a.concat([n[s]]):t[s]=a:t[s]=[a,n[s]],t},{})}function Cd(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function jm(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const s=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(s,t.attributes)}return e.push(t)},new ye)}function Tm(n,e){let{index:t,length:s}=n;return new xi(t+e,s)}function EE(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((a,l)=>{l&&e.push({insert:`
`,attributes:t.attributes}),a&&e.push({insert:a,attributes:t.attributes})}):e.push(t)}),e}class nn{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}le(nn,"DEFAULTS",{});const nu="\uFEFF";class $h extends mr{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(nu),this.rightGuard=document.createTextNode(nu),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,s;const a=e.data.split(nu).join("");if(e===this.leftGuard)if(this.prev instanceof en){const l=this.prev.length();this.prev.insertAt(l,a),t={startNode:this.prev.domNode,startOffset:l+a.length}}else s=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(s),this),t={startNode:s,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof en?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(s=document.createTextNode(a),this.parent.insertBefore(this.scroll.create(s),this.next),t={startNode:s,startOffset:a.length}));return e.data=nu,t}update(e,t){e.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const a=this.restore(s.target);a&&(t.range=a)}})}}class jE{constructor(e,t){le(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof $h)&&(this.emitter.emit(he.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(he.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(he.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(he.events.COMPOSITION_END,e),this.isComposing=!1}}const Ao=class Ao{constructor(e,t){le(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};le(Ao,"DEFAULTS",{modules:{}}),le(Ao,"themes",{default:Ao});let Aa=Ao;const TE=n=>n.parentElement||n.getRootNode().host||null,CE=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,s="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*s,left:e.left}},su=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},Cm=(n,e,t,s,a,l)=>n<t&&e>s?0:n<t?-(t-n+a):e>s?e-n>s-t?n+a-t:e-s+l:0,AE=(n,e)=>{var l,u,h;const t=n.ownerDocument;let s=e,a=n;for(;a;){const p=a===t.body,g=p?{top:0,right:((l=window.visualViewport)==null?void 0:l.width)??t.documentElement.clientWidth,bottom:((u=window.visualViewport)==null?void 0:u.height)??t.documentElement.clientHeight,left:0}:CE(a),b=getComputedStyle(a),w=Cm(s.left,s.right,g.left,g.right,su(b.scrollPaddingLeft),su(b.scrollPaddingRight)),v=Cm(s.top,s.bottom,g.top,g.bottom,su(b.scrollPaddingTop),su(b.scrollPaddingBottom));if(w||v)if(p)(h=t.defaultView)==null||h.scrollBy(w,v);else{const{scrollLeft:N,scrollTop:k}=a;v&&(a.scrollTop+=v),w&&(a.scrollLeft+=w);const S=a.scrollLeft-N,j=a.scrollTop-k;s={left:s.left-S,top:s.top-j,right:s.right-S,bottom:s.bottom-j}}a=p||b.position==="fixed"?null:TE(a)}},OE=100,RE=["block","break","cursor","inline","scroll","text"],LE=(n,e,t)=>{const s=new Ta;return RE.forEach(a=>{const l=e.query(a);l&&s.register(l)}),n.forEach(a=>{let l=e.query(a);l||t.error(`Cannot register "${a}" specified in "formats" config. Are you sure it was registered?`);let u=0;for(;l;)if(s.register(l),l="blotName"in l?l.requiredContainer??null:null,u+=1,u>OE){t.error(`Cycle detected in registering blot requiredContainer: "${a}"`);break}}),s},Ea=Yn("quill"),iu=new Ta;Xr.uiClass="ql-ui";var tr;let J=(tr=class{static debug(e){e===!0&&(e="log"),Yn.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ah.get(e)||iu.find(e,t)}static import(e){return this.imports[e]==null&&Ea.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in e?e.attrName:e.blotName;typeof s=="string"?this.register(`formats/${s}`,e,t):Object.keys(e).forEach(a=>{this.register(a,e[a],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!s&&Ea.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&iu.register(t),typeof t.register=="function"&&t.register(iu)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=PE(e,t),this.container=this.options.container,this.container==null){Ea.error("Invalid Quill container",e);return}this.options.debug&&tr.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",ah.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new he;const a=Ih.blotName,l=this.options.registry.query(a);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${a}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new kE(this.scroll),this.selection=new _E(this.scroll,this.emitter),this.composition=new jE(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(he.events.EDITOR_CHANGE,u=>{u===he.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(he.events.SCROLL_UPDATE,(u,h)=>{const p=this.selection.lastRange,[g]=this.selection.getRange(),b=p&&g?{oldRange:p,newRange:g}:void 0;Wr.call(this,()=>this.editor.update(null,h,b),u)}),this.emitter.on(he.events.SCROLL_EMBED_UPDATE,(u,h)=>{const p=this.selection.lastRange,[g]=this.selection.getRange(),b=p&&g?{oldRange:p,newRange:g}:void 0;Wr.call(this,()=>{const w=new ye().retain(u.offset(this)).retain({[u.statics.blotName]:h});return this.editor.update(w,[],b)},tr.sources.USER)}),s){const u=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(u)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const s=e;e=document.createElement("div"),e.classList.add(s)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,s){return[e,t,,s]=Hn(e,t,s),Wr.call(this,()=>this.editor.deleteText(e,t),s,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:he.sources.API;return Wr.call(this,()=>{const a=this.getSelection(!0);let l=new ye;if(a==null)return l;if(this.scroll.query(e,be.BLOCK))l=this.editor.formatLine(a.index,a.length,{[e]:t});else{if(a.length===0)return this.selection.format(e,t),l;l=this.editor.formatText(a.index,a.length,{[e]:t})}return this.setSelection(a,he.sources.SILENT),l},s)}formatLine(e,t,s,a,l){let u;return[e,t,u,l]=Hn(e,t,s,a,l),Wr.call(this,()=>this.editor.formatLine(e,t,u),l,e,0)}formatText(e,t,s,a,l){let u;return[e,t,u,l]=Hn(e,t,s,a,l),Wr.call(this,()=>this.editor.formatText(e,t,u),l,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof e=="number"?s=this.selection.getBounds(e,t):s=this.selection.getBounds(e.index,e.length),!s)return null;const a=this.container.getBoundingClientRect();return{bottom:s.bottom-a.top,height:s.height,left:s.left-a.left,right:s.right-a.left,top:s.top-a.top,width:s.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=Hn(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Hn(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Hn(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:tr.sources.API;return Wr.call(this,()=>this.editor.insertEmbed(e,t,s),a,e)}insertText(e,t,s,a,l){let u;return[e,,u,l]=Hn(e,0,s,a,l),Wr.call(this,()=>this.editor.insertText(e,t,u),l,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,s){return[e,t,,s]=Hn(e,t,s),Wr.call(this,()=>this.editor.removeFormat(e,t),s,e)}scrollRectIntoView(e){AE(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he.sources.API;return Wr.call(this,()=>{e=new ye(e);const s=this.getLength(),a=this.editor.deleteText(0,s),l=this.editor.insertContents(0,e),u=this.editor.deleteText(this.getLength()-1,1);return a.compose(l).compose(u)},t)}setSelection(e,t,s){e==null?this.selection.setRange(null,t||tr.sources.API):([e,t,,s]=Hn(e,t,s),this.selection.setRange(new xi(Math.max(0,e),t),s),s!==he.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he.sources.API;const s=new ye().insert(e);return this.setContents(s,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:he.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he.sources.API;return Wr.call(this,()=>(e=new ye(e),this.editor.applyDelta(e)),t,!0)}},le(tr,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:iu,theme:"default"}),le(tr,"events",he.events),le(tr,"sources",he.sources),le(tr,"version","2.0.3"),le(tr,"imports",{delta:ye,parchment:hE,"core/module":nn,"core/theme":Aa}),tr);function Am(n){return typeof n=="string"?document.querySelector(n):n}function Ad(n){return Object.entries(n??{}).reduce((e,t)=>{let[s,a]=t;return{...e,[s]:a===!0?{}:a}},{})}function Om(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function PE(n,e){const t=Am(n);if(!t)throw new Error("Invalid Quill container");const a=!e.theme||e.theme===J.DEFAULTS.theme?Aa:J.import(`themes/${e.theme}`);if(!a)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:l,...u}=J.DEFAULTS,{modules:h,...p}=a.DEFAULTS;let g=Ad(e.modules);g!=null&&g.toolbar&&g.toolbar.constructor!==Object&&(g={...g,toolbar:{container:g.toolbar}});const b=Ds({},Ad(l),Ad(h),g),w={...u,...Om(p),...Om(e)};let v=e.registry;return v?e.formats&&Ea.warn('Ignoring "formats" option because "registry" is specified'):v=e.formats?LE(e.formats,w.registry,Ea):w.registry,{...w,registry:v,container:t,theme:a,modules:Object.entries(b).reduce((N,k)=>{let[S,j]=k;if(!j)return N;const L=J.import(`modules/${S}`);return L==null?(Ea.error(`Cannot load ${S} module. Are you sure you registered it?`),N):{...N,[S]:Ds({},L.DEFAULTS||{},j)}},{}),bounds:Am(w.bounds)}}function Wr(n,e,t,s){if(!this.isEnabled()&&e===he.sources.USER&&!this.allowReadOnlyEdits)return new ye;let a=t==null?null:this.getSelection();const l=this.editor.delta,u=n();if(a!=null&&(t===!0&&(t=a.index),s==null?a=Rm(a,u,e):s!==0&&(a=Rm(a,t,s,e)),this.setSelection(a,he.sources.SILENT)),u.length()>0){const h=[he.events.TEXT_CHANGE,u,l,e];this.emitter.emit(he.events.EDITOR_CHANGE,...h),e!==he.sources.SILENT&&this.emitter.emit(...h)}return u}function Hn(n,e,t,s,a){let l={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(a=s,s=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(a=s,s=t,t=e,e=0),typeof t=="object"?(l=t,a=s):typeof t=="string"&&(s!=null?l[t]=s:a=t),a=a||he.sources.API,[n,e,l,a]}function Rm(n,e,t,s){const a=typeof t=="number"?t:0;if(n==null)return null;let l,u;return e&&typeof e.transformPosition=="function"?[l,u]=[n.index,n.index+n.length].map(h=>e.transformPosition(h,s!==he.sources.USER)):[l,u]=[n.index,n.index+n.length].map(h=>h<e||h===e&&s===he.sources.USER?h:a>=0?h+a:Math.max(e,h+a)),new xi(l,u-l)}class ki extends Ou{}function Lm(n){return n instanceof Rt||n instanceof Lr}function Pm(n){return typeof n.updateContent=="function"}class xa extends Ih{constructor(e,t,s){let{emitter:a}=s;super(e,t),this.emitter=a,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",l=>this.handleDragStart(l))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(he.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(he.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(he.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[s,a]=this.line(e),[l]=this.line(e+t);if(super.deleteAt(e,t),l!=null&&s!==l&&a>0){if(s instanceof Lr||l instanceof Lr){this.optimize();return}const u=l.children.head instanceof rn?null:l.children.head;s.moveChildren(l,u),s.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,s,a){super.formatAt(e,t,s,a),this.optimize()}insertAt(e,t,s){if(e>=this.length())if(s==null||this.scroll.query(t,be.BLOCK)==null){const a=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(a),s==null&&t.endsWith(`
`)?a.insertAt(0,t.slice(0,-1),s):a.insertAt(0,t,s)}else{const a=this.scroll.create(t,s);this.appendChild(a)}else super.insertAt(e,t,s);this.optimize()}insertBefore(e,t){if(e.statics.scope===be.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(e),super.insertBefore(s,t)}else super.insertBefore(e,t)}insertContents(e,t){const s=this.deltaToRenderBlocks(t.concat(new ye().insert(`
`))),a=s.pop();if(a==null)return;this.batchStart();const l=s.shift();if(l){const p=l.type==="block"&&(l.delta.length()===0||!this.descendant(Lr,e)[0]&&e<this.length()),g=l.type==="block"?l.delta:new ye().insert({[l.key]:l.value});Od(this,e,g);const b=l.type==="block"?1:0,w=e+g.length()+b;p&&this.insertAt(w-1,`
`);const v=Or(this.line(e)[0]),N=Pr.AttributeMap.diff(v,l.attributes)||{};Object.keys(N).forEach(k=>{this.formatAt(w-1,1,k,N[k])}),e=w}let[u,h]=this.children.find(e);if(s.length&&(u&&(u=u.split(h),h=0),s.forEach(p=>{if(p.type==="block"){const g=this.createBlock(p.attributes,u||void 0);Od(g,0,p.delta)}else{const g=this.create(p.key,p.value);this.insertBefore(g,u||void 0),Object.keys(p.attributes).forEach(b=>{g.format(b,p.attributes[b])})}})),a.type==="block"&&a.delta.length()){const p=u?u.offset(u.scroll)+h:this.length();Od(this,p,a.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[s,a]=t;return s instanceof Mt?[s,a]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Lm,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(a,l,u)=>{let h=[],p=u;return a.children.forEachAt(l,u,(g,b,w)=>{Lm(g)?h.push(g):g instanceof Ou&&(h=h.concat(s(g,b,p))),p-=w}),h};return s(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(he.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=he.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(s=>{let{target:a}=s;const l=this.find(a,!0);return l&&!Pm(l)}),e.length>0&&this.emitter.emit(he.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(he.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,s){const[a]=this.descendant(l=>l instanceof Lr,e);a&&a.statics.blotName===t&&Pm(a)&&a.updateContent(s)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let s=new ye;return e.forEach(a=>{const l=a==null?void 0:a.insert;if(l)if(typeof l=="string"){const u=l.split(`
`);u.slice(0,-1).forEach(p=>{s.insert(p,a.attributes),t.push({type:"block",delta:s,attributes:a.attributes??{}}),s=new ye});const h=u[u.length-1];h&&s.insert(h,a.attributes)}else{const u=Object.keys(l)[0];if(!u)return;this.query(u,be.INLINE)?s.push(a):(s.length()&&t.push({type:"block",delta:s,attributes:{}}),s=new ye,t.push({type:"blockEmbed",key:u,value:l[u],attributes:a.attributes??{}}))}}),s.length()&&t.push({type:"block",delta:s,attributes:{}}),t}createBlock(e,t){let s;const a={};Object.entries(e).forEach(h=>{let[p,g]=h;this.query(p,be.BLOCK&be.BLOT)!=null?s=p:a[p]=g});const l=this.create(s||this.statics.defaultChild.blotName,s?e[s]:void 0);this.insertBefore(l,t||void 0);const u=l.length();return Object.entries(a).forEach(h=>{let[p,g]=h;l.formatAt(0,u,p,g)}),l}}le(xa,"blotName","scroll"),le(xa,"className","ql-editor"),le(xa,"tagName","DIV"),le(xa,"defaultChild",Rt),le(xa,"allowedChildren",[Rt,Lr,ki]);function Od(n,e,t){t.reduce((s,a)=>{const l=Pr.Op.length(a);let u=a.attributes||{};if(a.insert!=null){if(typeof a.insert=="string"){const h=a.insert;n.insertAt(s,h);const[p]=n.descendant(Mt,s),g=Or(p);u=Pr.AttributeMap.diff(g,u)||{}}else if(typeof a.insert=="object"){const h=Object.keys(a.insert)[0];if(h==null)return s;if(n.insertAt(s,h,a.insert[h]),n.scroll.query(h,be.INLINE)!=null){const[g]=n.descendant(Mt,s),b=Or(g);u=Pr.AttributeMap.diff(b,u)||{}}}}return Object.keys(u).forEach(h=>{n.formatAt(s,l,h,u[h])}),s+l},e)}const Dh={scope:be.BLOCK,whitelist:["right","center","justify"]},IE=new kn("align","align",Dh),sy=new tn("align","ql-align",Dh),iy=new Us("align","text-align",Dh);class ay extends Us{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):t}}const $E=new tn("color","ql-color",{scope:be.INLINE}),Mh=new ay("color","color",{scope:be.INLINE}),DE=new tn("background","ql-bg",{scope:be.INLINE}),qh=new ay("background","background-color",{scope:be.INLINE});class Si extends ki{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${Ru(this.code(e,t))}
</pre>`}}class qt extends Rt{static register(){J.register(Si)}}le(qt,"TAB","  ");class Uh extends Sn{}Uh.blotName="code";Uh.tagName="CODE";qt.blotName="code-block";qt.className="ql-code-block";qt.tagName="DIV";Si.blotName="code-block-container";Si.className="ql-code-block-container";Si.tagName="DIV";Si.allowedChildren=[qt];qt.allowedChildren=[en,rn,Ca];qt.requiredContainer=Si;const Bh={scope:be.BLOCK,whitelist:["rtl"]},oy=new kn("direction","dir",Bh),ly=new tn("direction","ql-direction",Bh),uy=new Us("direction","direction",Bh),cy={scope:be.INLINE,whitelist:["serif","monospace"]},dy=new tn("font","ql-font",cy);class ME extends Us{value(e){return super.value(e).replace(/["']/g,"")}}const hy=new ME("font","font-family",cy),fy=new tn("size","ql-size",{scope:be.INLINE,whitelist:["small","large","huge"]}),py=new Us("size","font-size",{scope:be.INLINE,whitelist:["10px","18px","32px"]}),qE=Yn("quill:keyboard"),UE=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Lu extends nn{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!t[s]!==e[s]&&t[s]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=zE(e);if(a==null){qE.warn("Attempted to add invalid keyboard binding",a);return}typeof t=="function"&&(t={handler:t}),typeof s=="function"&&(s={handler:s}),(Array.isArray(a.key)?a.key:[a.key]).forEach(u=>{const h={...a,key:u,...t,...s};this.bindings[h.key]=this.bindings[h.key]||[],this.bindings[h.key].push(h)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const a=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(L=>Lu.match(e,L));if(a.length===0)return;const l=J.find(e.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const u=this.quill.getSelection();if(u==null||!this.quill.hasFocus())return;const[h,p]=this.quill.getLine(u.index),[g,b]=this.quill.getLeaf(u.index),[w,v]=u.length===0?[g,b]:this.quill.getLeaf(u.index+u.length),N=g instanceof wu?g.value().slice(0,b):"",k=w instanceof wu?w.value().slice(v):"",S={collapsed:u.length===0,empty:u.length===0&&h.length()<=1,format:this.quill.getFormat(u),line:h,offset:p,prefix:N,suffix:k,event:e};a.some(L=>{if(L.collapsed!=null&&L.collapsed!==S.collapsed||L.empty!=null&&L.empty!==S.empty||L.offset!=null&&L.offset!==S.offset)return!1;if(Array.isArray(L.format)){if(L.format.every(M=>S.format[M]==null))return!1}else if(typeof L.format=="object"&&!Object.keys(L.format).every(M=>L.format[M]===!0?S.format[M]!=null:L.format[M]===!1?S.format[M]==null:Rs(L.format[M],S.format[M])))return!1;return L.prefix!=null&&!L.prefix.test(S.prefix)||L.suffix!=null&&!L.suffix.test(S.suffix)?!1:L.handler.call(this,u,S,L)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let a={};const[l]=this.quill.getLine(e.index);let u=new ye().retain(e.index-s).delete(s);if(t.offset===0){const[h]=this.quill.getLine(e.index-1);if(h&&!(h.statics.blotName==="block"&&h.length()<=1)){const g=l.formats(),b=this.quill.getFormat(e.index-1,1);if(a=Pr.AttributeMap.diff(g,b)||{},Object.keys(a).length>0){const w=new ye().retain(e.index+l.length()-2).retain(1,a);u=u.compose(w)}}}this.quill.updateContents(u,J.sources.USER),this.quill.focus()}handleDelete(e,t){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-s)return;let a={};const[l]=this.quill.getLine(e.index);let u=new ye().retain(e.index).delete(s);if(t.offset>=l.length()-1){const[h]=this.quill.getLine(e.index+1);if(h){const p=l.formats(),g=this.quill.getFormat(e.index,1);a=Pr.AttributeMap.diff(p,g)||{},Object.keys(a).length>0&&(u=u.retain(h.length()-1).retain(1,a))}}this.quill.updateContents(u,J.sources.USER),this.quill.focus()}handleDeleteRange(e){zh({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const s=Object.keys(t.format).reduce((l,u)=>(this.quill.scroll.query(u,be.BLOCK)&&!Array.isArray(t.format[u])&&(l[u]=t.format[u]),l),{}),a=new ye().retain(e.index).delete(e.length).insert(`
`,s);this.quill.updateContents(a,J.sources.USER),this.quill.setSelection(e.index+1,J.sources.SILENT),this.quill.focus()}}const BE={bindings:{bold:Rd("bold"),italic:Rd("italic"),underline:Rd("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",J.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",J.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",J.sources.USER):e.format.list!=null&&this.quill.format("list",!1,J.sources.USER)}},"indent code-block":Im(!0),"outdent code-block":Im(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,J.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new ye().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,J.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,J.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,J.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,J.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),s={...e.formats(),list:"checked"},a=new ye().retain(n.index).insert(`
`,s).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,J.sources.USER),this.quill.setSelection(n.index+1,J.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,s]=this.quill.getLine(n.index),a=new ye().retain(n.index).insert(`
`,e.format).retain(t.length()-s-1).retain(1,{header:null});this.quill.updateContents(a,J.sources.USER),this.quill.setSelection(n.index+1,J.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,s,a,l]=e.getTable(n),u=FE(t,s,a,l);if(u==null)return;let h=t.offset();if(u<0){const p=new ye().retain(h).insert(`
`);this.quill.updateContents(p,J.sources.USER),this.quill.setSelection(n.index+1,n.length,J.sources.SILENT)}else if(u>0){h+=t.length();const p=new ye().retain(h).insert(`
`);this.quill.updateContents(p,J.sources.USER),this.quill.setSelection(h,J.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:s}=e,a=s.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(a-1,J.sources.USER):this.quill.setSelection(a+s.length(),J.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[s,a]=this.quill.getLine(n.index);if(a>t)return!0;let l;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(n.index," ",J.sources.USER),this.quill.history.cutoff();const u=new ye().retain(n.index-a).delete(t+1).retain(s.length()-2-a).retain(1,{list:l});return this.quill.updateContents(u,J.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,J.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let s=2,a=e;for(;a!=null&&a.length()<=1&&a.formats()["code-block"];)if(a=a.prev,s-=1,s<=0){const l=new ye().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,J.sources.USER),this.quill.setSelection(n.index-1,J.sources.SILENT),!1}return!0}},"embed left":au("ArrowLeft",!1),"embed left shift":au("ArrowLeft",!0),"embed right":au("ArrowRight",!1),"embed right shift":au("ArrowRight",!0),"table down":$m(!1),"table up":$m(!0)}};Lu.DEFAULTS=BE;function Im(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:s}=t;const a=this.quill.scroll.query("code-block"),{TAB:l}=a;if(e.length===0&&!s.shiftKey){this.quill.insertText(e.index,l,J.sources.USER),this.quill.setSelection(e.index+l.length,J.sources.SILENT);return}const u=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:h,length:p}=e;u.forEach((g,b)=>{n?(g.insertAt(0,l),b===0?h+=l.length:p+=l.length):g.domNode.textContent.startsWith(l)&&(g.deleteAt(0,l.length),b===0?h-=l.length:p-=l.length)}),this.quill.update(J.sources.USER),this.quill.setSelection(h,p,J.sources.SILENT)}}}function au(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:a}=s;n==="ArrowRight"&&(a+=s.length+1);const[l]=this.quill.getLeaf(a);return l instanceof mr?(n==="ArrowLeft"?e?this.quill.setSelection(s.index-1,s.length+1,J.sources.USER):this.quill.setSelection(s.index-1,J.sources.USER):e?this.quill.setSelection(s.index,s.length+1,J.sources.USER):this.quill.setSelection(s.index+s.length+1,J.sources.USER),!1):!0}}}function Rd(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],J.sources.USER)}}}function $m(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const s=n?"prev":"next",a=t.line,l=a.parent[s];if(l!=null){if(l.statics.blotName==="table-row"){let u=l.children.head,h=a;for(;h.prev!=null;)h=h.prev,u=u.next;const p=u.offset(this.quill.scroll)+Math.min(t.offset,u.length()-1);this.quill.setSelection(p,0,J.sources.USER)}}else{const u=a.table()[s];u!=null&&(n?this.quill.setSelection(u.offset(this.quill.scroll)+u.length()-1,0,J.sources.USER):this.quill.setSelection(u.offset(this.quill.scroll),0,J.sources.USER))}return!1}}}function zE(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=ka(n);else return null;return n.shortKey&&(n[UE]=n.shortKey,delete n.shortKey),n}function zh(n){let{quill:e,range:t}=n;const s=e.getLines(t);let a={};if(s.length>1){const l=s[0].formats(),u=s[s.length-1].formats();a=Pr.AttributeMap.diff(u,l)||{}}e.deleteText(t,J.sources.USER),Object.keys(a).length>0&&e.formatLine(t.index,1,a,J.sources.USER),e.setSelection(t.index,J.sources.SILENT)}function FE(n,e,t,s){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?s===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const HE=/font-weight:\s*normal/,VE=["P","OL","UL"],Dm=n=>n&&VE.includes(n.tagName),KE=n=>{Array.from(n.querySelectorAll("br")).filter(e=>Dm(e.previousElementSibling)&&Dm(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},WE=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(HE)}).forEach(e=>{var s;const t=n.createDocumentFragment();t.append(...e.childNodes),(s=e.parentNode)==null||s.replaceChild(t,e)})};function GE(n){n.querySelector('[id^="docs-internal-guid-"]')&&(WE(n),KE(n))}const JE=/\bmso-list:[^;]*ignore/i,QE=/\bmso-list:[^;]*\bl(\d+)/i,YE=/\bmso-list:[^;]*\blevel(\d+)/i,ZE=(n,e)=>{const t=n.getAttribute("style"),s=t==null?void 0:t.match(QE);if(!s)return null;const a=Number(s[1]),l=t==null?void 0:t.match(YE),u=l?Number(l[1]):1,h=new RegExp(`@list l${a}:level${u}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),p=e.match(h),g=p&&p[1]==="bullet"?"bullet":"ordered";return{id:a,indent:u,type:g,element:n}},XE=n=>{var u,h;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],s=[];e.forEach(p=>{(p.getAttribute("style")||"").match(JE)?t.push(p):s.push(p)}),t.forEach(p=>{var g;return(g=p.parentNode)==null?void 0:g.removeChild(p)});const a=n.documentElement.innerHTML,l=s.map(p=>ZE(p,a)).filter(p=>p);for(;l.length;){const p=[];let g=l.shift();for(;g;)p.push(g),g=l.length&&((u=l[0])==null?void 0:u.element)===g.element.nextElementSibling&&l[0].id===g.id?l.shift():null;const b=document.createElement("ul");p.forEach(N=>{const k=document.createElement("li");k.setAttribute("data-list",N.type),N.indent>1&&k.setAttribute("class",`ql-indent-${N.indent-1}`),k.innerHTML=N.element.innerHTML,b.appendChild(k)});const w=(h=p[0])==null?void 0:h.element,{parentNode:v}=w??{};w&&(v==null||v.replaceChild(b,w)),p.slice(1).forEach(N=>{let{element:k}=N;v==null||v.removeChild(k)})}};function e5(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&XE(n)}const t5=[e5,GE],r5=n=>{n.documentElement&&t5.forEach(e=>{e(n)})},n5=Yn("quill:clipboard"),s5=[[Node.TEXT_NODE,g5],[Node.TEXT_NODE,qm],["br",u5],[Node.ELEMENT_NODE,qm],[Node.ELEMENT_NODE,l5],[Node.ELEMENT_NODE,o5],[Node.ELEMENT_NODE,p5],["li",h5],["ol, ul",f5],["pre",c5],["tr",m5],["b",Ld("bold")],["i",Ld("italic")],["strike",Ld("strike")],["style",d5]],i5=[IE,oy].reduce((n,e)=>(n[e.keyName]=e,n),{}),Mm=[iy,qh,Mh,uy,hy,py].reduce((n,e)=>(n[e.keyName]=e,n),{});class my extends nn{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],s5.concat(this.options.matchers??[]).forEach(s=>{let[a,l]=s;this.addMatcher(a,l)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a[qt.blotName])return new ye().insert(s||"",{[qt.blotName]:a[qt.blotName]});if(!t)return new ye().insert(s||"",a);const l=this.convertHTML(t);return Go(l,`
`)&&(l.ops[l.ops.length-1].attributes==null||a.table)?l.compose(new ye().retain(l.length()-1).delete(1)):l}normalizeHTML(e){r5(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const s=t.body,a=new WeakMap,[l,u]=this.prepareMatching(s,a);return Fh(this.quill.scroll,s,l,u,a)}dangerouslyPasteHTML(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.sources.API;if(typeof e=="string"){const a=this.convert({html:e,text:""});this.quill.setContents(a,t),this.quill.setSelection(0,J.sources.SILENT)}else{const a=this.convert({html:t,text:""});this.quill.updateContents(new ye().retain(e).concat(a),s),this.quill.setSelection(e+a.length(),J.sources.SILENT)}}onCaptureCopy(e){var u,h;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:a,text:l}=this.onCopy(s,t);(u=e.clipboardData)==null||u.setData("text/plain",l),(h=e.clipboardData)==null||h.setData("text/html",a),t&&zh({range:s,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var u,h,p,g,b;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const s=(u=e.clipboardData)==null?void 0:u.getData("text/html");let a=(h=e.clipboardData)==null?void 0:h.getData("text/plain");if(!s&&!a){const w=(p=e.clipboardData)==null?void 0:p.getData("text/uri-list");w&&(a=this.normalizeURIList(w))}const l=Array.from(((g=e.clipboardData)==null?void 0:g.files)||[]);if(!s&&l.length>0){this.quill.uploader.upload(t,l);return}if(s&&l.length>0){const w=new DOMParser().parseFromString(s,"text/html");if(w.body.childElementCount===1&&((b=w.body.firstElementChild)==null?void 0:b.tagName)==="IMG"){this.quill.uploader.upload(t,l);return}}this.onPaste(t,{html:s,text:a})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:s,html:a}=t;const l=this.quill.getFormat(e.index),u=this.convert({text:s,html:a},l);n5.log("onPaste",u,{text:s,html:a});const h=new ye().retain(e.index).delete(e.length).concat(u);this.quill.updateContents(h,J.sources.USER),this.quill.setSelection(h.length()-e.length,J.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const s=[],a=[];return this.matchers.forEach(l=>{const[u,h]=l;switch(u){case Node.TEXT_NODE:a.push(h);break;case Node.ELEMENT_NODE:s.push(h);break;default:Array.from(e.querySelectorAll(u)).forEach(p=>{if(t.has(p)){const g=t.get(p);g==null||g.push(h)}else t.set(p,[h])});break}}),[s,a]}}le(my,"DEFAULTS",{matchers:[]});function Ei(n,e,t,s){return s.query(e)?n.reduce((a,l)=>{if(!l.insert)return a;if(l.attributes&&l.attributes[e])return a.push(l);const u=t?{[e]:t}:{};return a.insert(l.insert,{...u,...l.attributes})},new ye):n}function Go(n,e){let t="";for(let s=n.ops.length-1;s>=0&&t.length<e.length;--s){const a=n.ops[s];if(typeof a.insert!="string")break;t=a.insert+t}return t.slice(-1*e.length)===e}function Is(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof mr?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function a5(n,e){return n.previousElementSibling&&n.nextElementSibling&&!Is(n.previousElementSibling,e)&&!Is(n.nextElementSibling,e)}const ou=new WeakMap;function gy(n){return n==null?!1:(ou.has(n)||(n.tagName==="PRE"?ou.set(n,!0):ou.set(n,gy(n.parentNode))),ou.get(n))}function Fh(n,e,t,s,a){return e.nodeType===e.TEXT_NODE?s.reduce((l,u)=>u(e,l,n),new ye):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((l,u)=>{let h=Fh(n,u,t,s,a);return u.nodeType===e.ELEMENT_NODE&&(h=t.reduce((p,g)=>g(u,p,n),h),h=(a.get(u)||[]).reduce((p,g)=>g(u,p,n),h)),l.concat(h)},new ye):new ye}function Ld(n){return(e,t,s)=>Ei(t,n,!0,s)}function o5(n,e,t){const s=kn.keys(n),a=tn.keys(n),l=Us.keys(n),u={};return s.concat(a).concat(l).forEach(h=>{let p=t.query(h,be.ATTRIBUTE);p!=null&&(u[p.attrName]=p.value(n),u[p.attrName])||(p=i5[h],p!=null&&(p.attrName===h||p.keyName===h)&&(u[p.attrName]=p.value(n)||void 0),p=Mm[h],p!=null&&(p.attrName===h||p.keyName===h)&&(p=Mm[h],u[p.attrName]=p.value(n)||void 0))}),Object.entries(u).reduce((h,p)=>{let[g,b]=p;return Ei(h,g,b,t)},e)}function l5(n,e,t){const s=t.query(n);if(s==null)return e;if(s.prototype instanceof mr){const a={},l=s.value(n);if(l!=null)return a[s.blotName]=l,new ye().insert(a,s.formats(n,t))}else if(s.prototype instanceof zo&&!Go(e,`
`)&&e.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return Ei(e,s.blotName,s.formats(n,t),t);return e}function u5(n,e){return Go(e,`
`)||e.insert(`
`),e}function c5(n,e,t){const s=t.query("code-block"),a=s&&"formats"in s&&typeof s.formats=="function"?s.formats(n,t):!0;return Ei(e,"code-block",a,t)}function d5(){return new ye}function h5(n,e,t){const s=t.query(n);if(s==null||s.blotName!=="list"||!Go(e,`
`))return e;let a=-1,l=n.parentNode;for(;l!=null;)["OL","UL"].includes(l.tagName)&&(a+=1),l=l.parentNode;return a<=0?e:e.reduce((u,h)=>h.insert?h.attributes&&typeof h.attributes.indent=="number"?u.push(h):u.insert(h.insert,{indent:a,...h.attributes||{}}):u,new ye)}function f5(n,e,t){const s=n;let a=s.tagName==="OL"?"ordered":"bullet";const l=s.getAttribute("data-checked");return l&&(a=l==="true"?"checked":"unchecked"),Ei(e,"list",a,t)}function qm(n,e,t){if(!Go(e,`
`)){if(Is(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let s=n.nextSibling;for(;s!=null;){if(Is(s,t))return e.insert(`
`);const a=t.query(s);if(a&&a.prototype instanceof Lr)return e.insert(`
`);s=s.firstChild}}}return e}function p5(n,e,t){var l;const s={},a=n.style||{};return a.fontStyle==="italic"&&(s.italic=!0),a.textDecoration==="underline"&&(s.underline=!0),a.textDecoration==="line-through"&&(s.strike=!0),((l=a.fontWeight)!=null&&l.startsWith("bold")||parseInt(a.fontWeight,10)>=700)&&(s.bold=!0),e=Object.entries(s).reduce((u,h)=>{let[p,g]=h;return Ei(u,p,g,t)},e),parseFloat(a.textIndent||0)>0?new ye().insert("	").concat(e):e}function m5(n,e,t){var a,l;const s=((a=n.parentElement)==null?void 0:a.tagName)==="TABLE"?n.parentElement:(l=n.parentElement)==null?void 0:l.parentElement;if(s!=null){const h=Array.from(s.querySelectorAll("tr")).indexOf(n)+1;return Ei(e,"table",h,t)}return e}function g5(n,e,t){var a;let s=n.data;if(((a=n.parentElement)==null?void 0:a.tagName)==="O:P")return e.insert(s.trim());if(!gy(n)){if(s.trim().length===0&&s.includes(`
`)&&!a5(n,t))return e;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&Is(n.parentElement,t)||n.previousSibling instanceof Element&&Is(n.previousSibling,t))&&(s=s.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&Is(n.parentElement,t)||n.nextSibling instanceof Element&&Is(n.nextSibling,t))&&(s=s.replace(/ $/,"")),s=s.replaceAll(""," ")}return e.insert(s)}class yy extends nn{constructor(t,s){super(t,s);le(this,"lastRecorded",0);le(this,"ignoreChange",!1);le(this,"stack",{undo:[],redo:[]});le(this,"currentRange",null);this.quill.on(J.events.EDITOR_CHANGE,(a,l,u,h)=>{a===J.events.SELECTION_CHANGE?l&&h!==J.sources.SILENT&&(this.currentRange=l):a===J.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||h===J.sources.USER?this.record(l,u):this.transform(l)),this.currentRange=uh(this.currentRange,l))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",a=>{a.inputType==="historyUndo"?(this.undo(),a.preventDefault()):a.inputType==="historyRedo"&&(this.redo(),a.preventDefault())})}change(t,s){if(this.stack[t].length===0)return;const a=this.stack[t].pop();if(!a)return;const l=this.quill.getContents(),u=a.delta.invert(l);this.stack[s].push({delta:u,range:uh(a.range,u)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(a.delta,J.sources.USER),this.ignoreChange=!1,this.restoreSelection(a)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,s){if(t.ops.length===0)return;this.stack.redo=[];let a=t.invert(s),l=this.currentRange;const u=Date.now();if(this.lastRecorded+this.options.delay>u&&this.stack.undo.length>0){const h=this.stack.undo.pop();h&&(a=a.compose(h.delta),l=h.range)}else this.lastRecorded=u;a.length()!==0&&(this.stack.undo.push({delta:a,range:l}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){Um(this.stack.undo,t),Um(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,J.sources.USER);else{const s=v5(this.quill.scroll,t.delta);this.quill.setSelection(s,J.sources.USER)}}}le(yy,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Um(n,e){let t=e;for(let s=n.length-1;s>=0;s-=1){const a=n[s];n[s]={delta:t.transform(a.delta,!0),range:a.range&&uh(a.range,t)},t=a.delta.transform(t),n[s].delta.length()===0&&n.splice(s,1)}}function y5(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(s=>n.query(s,be.BLOCK)!=null):!1}function v5(n,e){const t=e.reduce((a,l)=>a+(l.delete||0),0);let s=e.length()-t;return y5(n,e)&&(s-=1),s}function uh(n,e){if(!n)return n;const t=e.transformPosition(n.index),s=e.transformPosition(n.index+n.length);return{index:t,length:s-t}}class vy extends nn{constructor(e,t){super(e,t),e.root.addEventListener("drop",s=>{var u;s.preventDefault();let a=null;if(document.caretRangeFromPoint)a=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const h=document.caretPositionFromPoint(s.clientX,s.clientY);a=document.createRange(),a.setStart(h.offsetNode,h.offset),a.setEnd(h.offsetNode,h.offset)}const l=a&&e.selection.normalizeNative(a);if(l){const h=e.selection.normalizedToRange(l);(u=s.dataTransfer)!=null&&u.files&&this.upload(h,s.dataTransfer.files)}})}upload(e,t){const s=[];Array.from(t).forEach(a=>{var l;a&&((l=this.options.mimetypes)!=null&&l.includes(a.type))&&s.push(a)}),s.length>0&&this.options.handler.call(this,e,s)}}vy.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(s=>new Promise(a=>{const l=new FileReader;l.onload=()=>{a(l.result)},l.readAsDataURL(s)}));Promise.all(t).then(s=>{const a=s.reduce((l,u)=>l.insert({image:u}),new ye().retain(n.index).delete(n.length));this.quill.updateContents(a,he.sources.USER),this.quill.setSelection(n.index+s.length,he.sources.SILENT)})}};const b5=["insertText","insertReplacementText"];class x5 extends nn{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||e.on(J.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){zh({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const s=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new ye().retain(e.index).insert(t,s),J.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,J.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!b5.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const s=w5(e);if(s==null)return;const a=this.quill.selection.normalizeNative(t),l=a?this.quill.selection.normalizedToRange(a):null;l&&this.replaceText(l,s)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function w5(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const _5=/Mac/i.test(navigator.platform),N5=100,k5=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||_5&&n.key==="a"&&n.ctrlKey===!0);class S5 extends nn{constructor(t,s){super(t,s);le(this,"isListening",!1);le(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,s){let{line:a,event:l}=s;if(!(a instanceof Xr)||!a.uiNode)return!0;const u=getComputedStyle(a.domNode).direction==="rtl";return u&&l.key!=="ArrowRight"||!u&&l.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(l.shiftKey?1:0),J.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&k5(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+N5,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const s=t.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const a=this.quill.scroll.find(s.startContainer);if(!(a instanceof Xr)||!a.uiNode)return;const l=document.createRange();l.setStartAfter(a.uiNode),l.setEndAfter(a.uiNode),t.removeAllRanges(),t.addRange(l)}}J.register({"blots/block":Rt,"blots/block/embed":Lr,"blots/break":rn,"blots/container":ki,"blots/cursor":Ca,"blots/embed":$h,"blots/inline":Sn,"blots/scroll":xa,"blots/text":en,"modules/clipboard":my,"modules/history":yy,"modules/keyboard":Lu,"modules/uploader":vy,"modules/input":x5,"modules/uiNode":S5});class E5 extends tn{add(e,t){let s=0;if(t==="+1"||t==="-1"){const a=this.value(e)||0;s=t==="+1"?a+1:a-1}else typeof t=="number"&&(s=t);return s===0?(this.remove(e),!0):super.add(e,s.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const j5=new E5("indent","ql-indent",{scope:be.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class ch extends Rt{}le(ch,"blotName","blockquote"),le(ch,"tagName","blockquote");class dh extends Rt{static formats(e){return this.tagName.indexOf(e.tagName)+1}}le(dh,"blotName","header"),le(dh,"tagName",["H1","H2","H3","H4","H5","H6"]);class Jo extends ki{}Jo.blotName="list-container";Jo.tagName="OL";class Qo extends Rt{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){J.register(Jo)}constructor(e,t){super(e,t);const s=t.ownerDocument.createElement("span"),a=l=>{if(!e.isEnabled())return;const u=this.statics.formats(t,e);u==="checked"?(this.format("list","unchecked"),l.preventDefault()):u==="unchecked"&&(this.format("list","checked"),l.preventDefault())};s.addEventListener("mousedown",a),s.addEventListener("touchstart",a),this.attachUI(s)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Qo.blotName="list";Qo.tagName="LI";Jo.allowedChildren=[Qo];Qo.requiredContainer=Jo;class Ho extends Sn{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}le(Ho,"blotName","bold"),le(Ho,"tagName",["STRONG","B"]);class hh extends Ho{}le(hh,"blotName","italic"),le(hh,"tagName",["EM","I"]);class $s extends Sn{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return by(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}le($s,"blotName","link"),le($s,"tagName","A"),le($s,"SANITIZED_URL","about:blank"),le($s,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function by(n,e){const t=document.createElement("a");t.href=n;const s=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(s)>-1}class fh extends Sn{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}le(fh,"blotName","script"),le(fh,"tagName",["SUB","SUP"]);class ph extends Ho{}le(ph,"blotName","strike"),le(ph,"tagName",["S","STRIKE"]);class mh extends Sn{}le(mh,"blotName","underline"),le(mh,"tagName","U");class du extends $h{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}le(du,"blotName","formula"),le(du,"className","ql-formula"),le(du,"tagName","SPAN");const Bm=["alt","height","width"];class gh extends mr{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Bm.reduce((t,s)=>(e.hasAttribute(s)&&(t[s]=e.getAttribute(s)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return by(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){Bm.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}le(gh,"blotName","image"),le(gh,"tagName","IMG");const zm=["height","width"];class hu extends Lr{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return zm.reduce((t,s)=>(e.hasAttribute(s)&&(t[s]=e.getAttribute(s)),t),{})}static sanitize(e){return $s.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){zm.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}le(hu,"blotName","video"),le(hu,"className","ql-video"),le(hu,"tagName","IFRAME");const So=new tn("code-token","hljs",{scope:be.INLINE});class Wn extends Sn{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(qt.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,s){super(e,t,s),So.add(this.domNode,s)}format(e,t){e!==Wn.blotName?super.format(e,t):t?So.add(this.domNode,t):(So.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),So.value(this.domNode)||this.unwrap()}}Wn.blotName="code-token";Wn.className="ql-token";class Rr extends qt{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Wn.blotName,!1),super.replaceWith(e,t)}}class Co extends Si{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Rr.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(e,t)}))}formatAt(e,t,s,a){s===Rr.blotName&&(this.forceNext=!0),super.formatAt(e,t,s,a)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const a=`${Array.from(this.domNode.childNodes).filter(u=>u!==this.uiNode).map(u=>u.textContent).join(`
`)}
`,l=Rr.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==a){if(a.trim().length>0||this.cachedText==null){const u=this.children.reduce((p,g)=>p.concat(ry(g,!1)),new ye),h=e(a,l);u.diff(h).reduce((p,g)=>{let{retain:b,attributes:w}=g;return b?(w&&Object.keys(w).forEach(v=>{[Rr.blotName,Wn.blotName].includes(v)&&this.formatAt(p,b,v,w[v])}),p+b):p},0)}this.cachedText=a,this.forceNext=!1}}html(e,t){const[s]=this.children.find(e);return`<pre data-language="${s?Rr.formats(s.domNode):"plain"}">
${Ru(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Rr.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Co.allowedChildren=[Rr];Rr.requiredContainer=Co;Rr.allowedChildren=[Wn,Ca,en,rn];const T5=(n,e,t)=>{if(typeof n.versionString=="string"){const s=n.versionString.split(".")[0];if(parseInt(s,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class xy extends nn{static register(){J.register(Wn,!0),J.register(Rr,!0),J.register(Co,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,a)=>{let{key:l}=a;return s[l]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(J.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Co))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:a,label:l}=s;const u=t.ownerDocument.createElement("option");u.textContent=l,u.setAttribute("value",a),t.appendChild(u)}),t.addEventListener("change",()=>{e.format(Rr.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Rr.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(J.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(J.sources.USER);const s=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Co):[e]).forEach(l=>{l.highlight(this.highlightBlot,t)}),this.quill.update(J.sources.SILENT),s!=null&&this.quill.setSelection(s,J.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return Ru(e).split(`
`).reduce((a,l,u)=>(u!==0&&a.insert(`
`,{[qt.blotName]:t}),a.insert(l)),new ye);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(qt.className),s.innerHTML=T5(this.options.hljs,t,e),Fh(this.quill.scroll,s,[(a,l)=>{const u=So.value(a);return u?l.compose(new ye().retain(l.length(),{[Wn.blotName]:u})):l}],[(a,l)=>a.data.split(`
`).reduce((u,h,p)=>(p!==0&&u.insert(`
`,{[qt.blotName]:t}),u.insert(h)),l)],new WeakMap)}}xy.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Oo=class Oo extends Rt{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",Hh()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Oo.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};le(Oo,"blotName","table"),le(Oo,"tagName","TD");let Zr=Oo;class Gn extends ki{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),s=this.next.children.head.formats(),a=this.next.children.tail.formats();return e.table===t.table&&e.table===s.table&&e.table===a.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const s=t.formats(),a=t.next.formats();if(s.table!==a.table){const l=this.splitAfter(t);l&&l.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}le(Gn,"blotName","table-row"),le(Gn,"tagName","TR");class Nn extends ki{}le(Nn,"blotName","table-body"),le(Nn,"tagName","TBODY");class Oa extends ki{balanceCells(){const e=this.descendants(Gn),t=e.reduce((s,a)=>Math.max(a.children.length,s),0);e.forEach(s=>{new Array(t-s.children.length).fill(0).forEach(()=>{let a;s.children.head!=null&&(a=Zr.formats(s.children.head.domNode));const l=this.scroll.create(Zr.blotName,a);s.appendChild(l),l.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Nn);t==null||t.children.head==null||t.children.forEach(s=>{const a=s.children.at(e);a!=null&&a.remove()})}insertColumn(e){const[t]=this.descendant(Nn);t==null||t.children.head==null||t.children.forEach(s=>{const a=s.children.at(e),l=Zr.formats(s.children.head.domNode),u=this.scroll.create(Zr.blotName,l);s.insertBefore(u,a)})}insertRow(e){const[t]=this.descendant(Nn);if(t==null||t.children.head==null)return;const s=Hh(),a=this.scroll.create(Gn.blotName);t.children.head.children.forEach(()=>{const u=this.scroll.create(Zr.blotName,s);a.appendChild(u)});const l=t.children.at(e);t.insertBefore(a,l)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}le(Oa,"blotName","table-container"),le(Oa,"tagName","TABLE");Oa.allowedChildren=[Nn];Nn.requiredContainer=Oa;Nn.allowedChildren=[Gn];Gn.requiredContainer=Nn;Gn.allowedChildren=[Zr];Zr.requiredContainer=Gn;function Hh(){return`row-${Math.random().toString(36).slice(2,6)}`}class C5 extends nn{static register(){J.register(Zr),J.register(Gn),J.register(Nn),J.register(Oa)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Oa).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(J.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(J.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(J.sources.USER),this.quill.setSelection(t,J.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,s]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Zr.blotName)return[null,null,null,-1];const a=t.parent;return[a.parent.parent,a,t,s]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[s,a,l]=this.getTable(t);if(l==null)return;const u=l.cellOffset();s.insertColumn(u+e),this.quill.update(J.sources.USER);let h=a.rowOffset();e===0&&(h+=1),this.quill.setSelection(t.index+h,t.length,J.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[s,a,l]=this.getTable(t);if(l==null)return;const u=a.rowOffset();s.insertRow(u+e),this.quill.update(J.sources.USER),e>0?this.quill.setSelection(t,J.sources.SILENT):this.quill.setSelection(t.index+a.children.length,t.length,J.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const s=this.quill.getSelection();if(s==null)return;const a=new Array(e).fill(0).reduce(l=>{const u=new Array(t).fill(`
`).join("");return l.insert(u,{table:Hh()})},new ye().retain(s.index));this.quill.updateContents(a,J.sources.USER),this.quill.setSelection(s.index,J.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(J.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(J.events.TEXT_CHANGE,(s,a,l)=>{l===J.sources.USER&&this.balanceTables()}),!0):!1)})}}const Fm=Yn("quill:toolbar");class Vh extends nn{constructor(e,t){var s,a;if(super(e,t),Array.isArray(this.options.container)){const l=document.createElement("div");l.setAttribute("role","toolbar"),A5(l,this.options.container),(a=(s=e.container)==null?void 0:s.parentNode)==null||a.insertBefore(l,e.container),this.container=l}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Fm.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(l=>{var h;const u=(h=this.options.handlers)==null?void 0:h[l];u&&this.addHandler(l,u)}),Array.from(this.container.querySelectorAll("button, select")).forEach(l=>{this.attach(l)}),this.quill.on(J.events.EDITOR_CHANGE,()=>{const[l]=this.quill.selection.getRange();this.update(l)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(a=>a.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){Fm.warn("ignoring attaching to nonexistent format",t,e);return}const s=e.tagName==="SELECT"?"change":"click";e.addEventListener(s,a=>{let l;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const h=e.options[e.selectedIndex];h.hasAttribute("selected")?l=!1:l=h.value||!1}else e.classList.contains("ql-active")?l=!1:l=e.value||!e.hasAttribute("value"),a.preventDefault();this.quill.focus();const[u]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,l);else if(this.quill.scroll.query(t).prototype instanceof mr){if(l=prompt(`Enter ${t}`),!l)return;this.quill.updateContents(new ye().retain(u.index).delete(u.length).insert({[t]:l}),J.sources.USER)}else this.quill.format(t,l,J.sources.USER);this.update(u)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(s=>{const[a,l]=s;if(l.tagName==="SELECT"){let u=null;if(e==null)u=null;else if(t[a]==null)u=l.querySelector("option[selected]");else if(!Array.isArray(t[a])){let h=t[a];typeof h=="string"&&(h=h.replace(/"/g,'\\"')),u=l.querySelector(`option[value="${h}"]`)}u==null?(l.value="",l.selectedIndex=-1):u.selected=!0}else if(e==null)l.classList.remove("ql-active"),l.setAttribute("aria-pressed","false");else if(l.hasAttribute("value")){const u=t[a],h=u===l.getAttribute("value")||u!=null&&u.toString()===l.getAttribute("value")||u==null&&!l.getAttribute("value");l.classList.toggle("ql-active",h),l.setAttribute("aria-pressed",h.toString())}else{const u=t[a]!=null;l.classList.toggle("ql-active",u),l.setAttribute("aria-pressed",u.toString())}})}}Vh.DEFAULTS={};function Hm(n,e,t){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${e}`),s.setAttribute("aria-pressed","false"),t!=null?(s.value=t,s.setAttribute("aria-label",`${e}: ${t}`)):s.setAttribute("aria-label",e),n.appendChild(s)}function A5(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const s=document.createElement("span");s.classList.add("ql-formats"),t.forEach(a=>{if(typeof a=="string")Hm(s,a);else{const l=Object.keys(a)[0],u=a[l];Array.isArray(u)?O5(s,l,u):Hm(s,l,u)}}),n.appendChild(s)})}function O5(n,e,t){const s=document.createElement("select");s.classList.add(`ql-${e}`),t.forEach(a=>{const l=document.createElement("option");a!==!1?l.setAttribute("value",String(a)):l.setAttribute("selected","selected"),s.appendChild(l)}),n.appendChild(s)}Vh.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,be.INLINE)!=null&&this.quill.format(t,!1,J.sources.USER)})}else this.quill.removeFormat(n.index,n.length,J.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",J.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,J.sources.USER),this.quill.format("direction",n,J.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),s=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let a=n==="+1"?1:-1;t.direction==="rtl"&&(a*=-1),this.quill.format("indent",s+a,J.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,J.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,J.sources.USER):this.quill.format("list","unchecked",J.sources.USER):this.quill.format("list",n,J.sources.USER)}}};const R5='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',L5='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',P5='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',I5='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',$5='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',D5='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',M5='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',q5='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Vm='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',U5='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',B5='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',z5='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',F5='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',H5='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',V5='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',K5='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',W5='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',G5='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',J5='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Q5='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Y5='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Z5='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',X5='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',ej='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',tj='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',rj='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',nj='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',sj='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',ij='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',aj='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',oj='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',lj='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',uj='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Vo={align:{"":R5,center:L5,right:P5,justify:I5},background:$5,blockquote:D5,bold:M5,clean:q5,code:Vm,"code-block":Vm,color:U5,direction:{"":B5,rtl:z5},formula:F5,header:{1:H5,2:V5,3:K5,4:W5,5:G5,6:J5},italic:Q5,image:Y5,indent:{"+1":Z5,"-1":X5},link:ej,list:{bullet:tj,check:rj,ordered:nj},script:{sub:sj,super:ij},strike:aj,table:oj,underline:lj,video:uj},cj='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Km=0;function Wm(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class Pu{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Wm(this.label,"aria-expanded"),Wm(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const s=e.getAttribute("value");return s&&t.setAttribute("data-value",s),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",a=>{switch(a.key){case"Enter":this.selectItem(t,!0),a.preventDefault();break;case"Escape":this.escape(),a.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=cj,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Km}`,Km+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const s=this.buildItem(t);e.appendChild(s),t.selected===!0&&this.selectItem(s)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");e!==s&&(s!=null&&s.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class wy extends Pu{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const s=this.label.querySelector(".ql-color-label"),a=e&&e.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=a:s.style.fill=a)}}class _y extends Pu{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=t[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const s=e||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const dj=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class Ny{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,dj(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,s=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const a=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let u=0;if(l.right>a.right&&(u=a.right-l.right,this.root.style.left=`${t+u}px`),l.left<a.left&&(u=a.left-l.left,this.root.style.left=`${t+u}px`),l.bottom>a.bottom){const h=l.bottom-l.top,p=e.bottom-e.top+h;this.root.style.top=`${s-p}px`,this.root.classList.add("ql-flip")}return u}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const hj=[!1,"center","right","justify"],fj=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],pj=[!1,"serif","monospace"],mj=["1","2","3",!1],gj=["small",!1,"large","huge"];class Yo extends Aa{constructor(e,t){super(e,t);const s=a=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(a.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(l=>{l.container.contains(a.target)||l.close()})};e.emitter.listenDOM("click",document.body,s)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),t[l]!=null))if(l==="direction")s.innerHTML=t[l][""]+t[l].rtl;else if(typeof t[l]=="string")s.innerHTML=t[l];else{const u=s.value||"";u!=null&&t[l][u]&&(s.innerHTML=t[l][u])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(a=>{if(a.classList.contains("ql-align")&&(a.querySelector("option")==null&&wo(a,hj),typeof t.align=="object"))return new _y(a,t.align);if(a.classList.contains("ql-background")||a.classList.contains("ql-color")){const l=a.classList.contains("ql-background")?"background":"color";return a.querySelector("option")==null&&wo(a,fj,l==="background"?"#ffffff":"#000000"),new wy(a,t[l])}return a.querySelector("option")==null&&(a.classList.contains("ql-font")?wo(a,pj):a.classList.contains("ql-header")?wo(a,mj):a.classList.contains("ql-size")&&wo(a,gj)),new Pu(a)});const s=()=>{this.pickers.forEach(a=>{a.update()})};this.quill.on(he.events.EDITOR_CHANGE,s)}}Yo.DEFAULTS=Ds({},Aa.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class ky extends Ny{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,he.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,he.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=yj(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const s=t.index+t.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),e,he.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",he.sources.USER),this.quill.setSelection(s+2,he.sources.USER)}break}}this.textbox.value="",this.hide()}}function yj(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function wo(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(s=>{const a=document.createElement("option");s===t?a.setAttribute("selected","selected"):a.setAttribute("value",String(s)),n.appendChild(a)})}const vj=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Sy extends ky{constructor(e,t){super(e,t),this.quill.on(he.events.EDITOR_CHANGE,(s,a,l,u)=>{if(s===he.events.SELECTION_CHANGE)if(a!=null&&a.length>0&&u===he.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const h=this.quill.getLines(a.index,a.length);if(h.length===1){const p=this.quill.getBounds(a);p!=null&&this.position(p)}else{const p=h[h.length-1],g=this.quill.getIndex(p),b=Math.min(p.length()-1,a.index+a.length-g),w=this.quill.getBounds(new xi(g,b));w!=null&&this.position(w)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(he.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",t!==0&&(s.style.marginLeft=`${-1*t-s.offsetWidth/2}px`),t}}le(Sy,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class Ey extends Yo{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=vj),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new Sy(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Vo),this.buildPickers(e.container.querySelectorAll("select"),Vo))}}Ey.DEFAULTS=Ds({},Yo.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,J.sources.USER)}}}}});const bj=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class jy extends ky{constructor(){super(...arguments);le(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,he.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(he.events.SELECTION_CHANGE,(t,s,a)=>{if(t!=null){if(t.length===0&&a===he.sources.USER){const[l,u]=this.quill.scroll.descendant($s,t.index);if(l!=null){this.linkRange=new xi(t.index-u,l.length());const h=$s.formats(l.domNode);this.preview.textContent=h,this.preview.setAttribute("href",h),this.show();const p=this.quill.getBounds(this.linkRange);p!=null&&this.position(p);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}le(jy,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Ty extends Yo{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=bj),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Vo),this.buildPickers(e.container.querySelectorAll("select"),Vo),this.tooltip=new jy(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,s)=>{e.handlers.link.call(e,!s.format.link)}))}}Ty.DEFAULTS=Ds({},Yo.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:s}=this.quill.theme;s.edit("link",t)}else this.quill.format("link",!1,J.sources.USER)}}}}});J.register({"attributors/attribute/direction":oy,"attributors/class/align":sy,"attributors/class/background":DE,"attributors/class/color":$E,"attributors/class/direction":ly,"attributors/class/font":dy,"attributors/class/size":fy,"attributors/style/align":iy,"attributors/style/background":qh,"attributors/style/color":Mh,"attributors/style/direction":uy,"attributors/style/font":hy,"attributors/style/size":py},!0);J.register({"formats/align":sy,"formats/direction":ly,"formats/indent":j5,"formats/background":qh,"formats/color":Mh,"formats/font":dy,"formats/size":fy,"formats/blockquote":ch,"formats/code-block":qt,"formats/header":dh,"formats/list":Qo,"formats/bold":Ho,"formats/code":Uh,"formats/italic":hh,"formats/link":$s,"formats/script":fh,"formats/strike":ph,"formats/underline":mh,"formats/formula":du,"formats/image":gh,"formats/video":hu,"modules/syntax":xy,"modules/table":C5,"modules/toolbar":Vh,"themes/bubble":Ey,"themes/snow":Ty,"ui/icons":Vo,"ui/picker":Pu,"ui/icon-picker":_y,"ui/color-picker":wy,"ui/tooltip":Ny},!0);class Zo extends xn.Component{constructor(e){super(e),this.editingAreaRef=se.createRef(),this.containerRef=se.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(s,a,l,u)=>{var h,p;s==="text-change"?(h=this.onEditorChangeText)==null||h.call(this,this.editor.getSemanticHTML(),a,u,this.unprivilegedEditor):s==="selection-change"&&((p=this.onEditorChangeSelection)==null||p.call(this,a,u,this.unprivilegedEditor))};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(xn.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(xn.Children.count(e.children)){const t=xn.Children.only(e.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const s=this.getEditorContents(),a=e.value??"";this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(s=>!Rs(e[s],this.props[s]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!Rs(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const s=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.editor&&e.placeholder!==this.props.placeholder&&(this.editor.root.dataset.placeholder=this.props.placeholder||""),this.state.generation!==t.generation){const{delta:s,selection:a}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const l=this.editor;l.setContents(s),Gm(()=>this.setEditorSelection(l,a))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var s,a;if(!this.editor)return;this.unhookEditor(this.editor);const e=(s=this.props.modules)==null?void 0:s.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const l=(a=this.containerRef.current)==null?void 0:a.querySelector(".ql-toolbar");l&&l.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const s=new J(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(s,t.tabIndex),this.hookEditor(s),s}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?Rs(e.ops,t.ops):Rs(e,t)}setEditorContents(e,t){this.value=t;const s=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),Gm(()=>this.setEditorSelection(e,s))}setEditorSelection(e,t){if(this.selection=t,t){const s=e.getLength();t.index=Math.max(0,Math.min(t.index,s-1)),t.length=Math.max(0,Math.min(t.length,s-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){var s;(s=e==null?void 0:e.scroll)!=null&&s.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:s}=this.state,a={key:s,ref:this.editingAreaRef};return xn.Children.count(e)?xn.cloneElement(xn.Children.only(e),a):t?xn.createElement("pre",{...a}):xn.createElement("div",{...a})}render(){return xn.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,s,a){var u,h;if(!this.editor)return;const l=this.isDelta(this.value)?a.getContents():a.getSemanticHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=l,(h=(u=this.props).onChange)==null||h.call(u,e,t,s,a))}onEditorChangeSelection(e,t,s){var h,p,g,b,w,v;if(!this.editor)return;const a=this.getEditorSelection(),l=!a&&e,u=a&&!e;Rs(e,a)||(this.selection=e,(p=(h=this.props).onChangeSelection)==null||p.call(h,e,t,s),l?(b=(g=this.props).onFocus)==null||b.call(g,e,t,s):u&&((v=(w=this.props).onBlur)==null||v.call(w,a,t,s)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Zo.displayName="React Quill";Zo.Quill=J;Zo.defaultProps={theme:"snow",modules:{},readOnly:!1};function Gm(n){Promise.resolve().then(n)}const xj=Zo;function wj({product:n,categories:e,onSave:t,onCancel:s}){var g,b;const[a,l]=se.useState({name:"",category_id:((g=e[0])==null?void 0:g.id)||"",price:0,file_size:0,is_free:!1,description:"",features:[]}),[u,h]=se.useState(!1);se.useEffect(()=>{n?l(n):e.length>0&&l(w=>({...w,category_id:e[0].id}))},[n,e]);const p=async w=>{w.preventDefault(),h(!0);try{const v=(n==null?void 0:n.id)||`prod_${crypto.randomUUID()}`,N={...a,id:v,created_at:(n==null?void 0:n.created_at)||new Date().toISOString()};await wt.set(`product:${v}`,N),t()}catch(v){console.error("Failed to save product:",v),alert("Failed to save product")}finally{h(!1)}};return d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:n?"Edit Product":"Add New Product"}),d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Product Name"}),d.jsx("input",{type:"text",value:a.name,onChange:w=>l({...a,name:w.target.value}),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category"}),d.jsx("select",{value:a.category_id,onChange:w=>l({...a,category_id:w.target.value}),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-purple-500",children:e.map(w=>d.jsx("option",{value:w.id,children:w.name},w.id))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Price ($)"}),d.jsx("input",{type:"number",step:"0.01",value:a.price,onChange:w=>l({...a,price:parseFloat(w.target.value)}),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"File Size (GB)"}),d.jsx("input",{type:"number",step:"0.1",value:a.file_size,onChange:w=>l({...a,file_size:parseFloat(w.target.value)}),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-purple-500"})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:a.is_free,onChange:w=>l({...a,is_free:w.target.checked}),className:"w-4 h-4 rounded border-slate-700 bg-slate-800 text-purple-600 focus:ring-purple-500"}),d.jsx("span",{children:"Is Free Product?"})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Features (Comma separated)"}),d.jsx("input",{type:"text",value:(b=a.features)==null?void 0:b.join(", "),onChange:w=>l({...a,features:w.target.value.split(",").map(v=>v.trim())}),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-purple-500",placeholder:"VST Support, 64-bit, etc"})]}),d.jsxs("div",{className:"h-80 pb-12",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),d.jsx("div",{className:"h-64 bg-slate-800/50 rounded-lg text-slate-100",children:d.jsx(xj,{theme:"snow",value:a.description,onChange:w=>l({...a,description:w}),className:"h-full"})})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-700/50 mt-8",children:[d.jsxs("button",{type:"button",onClick:s,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors flex items-center gap-2",children:[d.jsx(Nu,{className:"w-4 h-4"}),"Cancel"]}),d.jsxs("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-cyan-500 text-white rounded-lg hover:from-purple-400 hover:to-cyan-400 transition-all flex items-center gap-2",children:[u?d.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):d.jsx(xh,{className:"w-4 h-4"}),"Save Product"]})]})]})]})}function _j(){const[n,e]=se.useState("list"),[t,s]=se.useState([]),[a,l]=se.useState([]),[u,h]=se.useState(null),[p,g]=se.useState(!0),b=async()=>{g(!0);try{const[S,j]=await Promise.all([wt.listByPrefix("product:"),wt.listByPrefix("category:")]);s(S.map(L=>L.value)),l(j.map(L=>L.value).sort((L,M)=>L.order-M.order))}catch(S){console.error("Failed to fetch data:",S)}finally{g(!1)}};se.useEffect(()=>{b()},[]);const w=()=>{h(null),e("form")},v=S=>{h(S),e("form")},N=()=>{b(),e("list")},k=()=>{e("list"),h(null)};return p?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})}):d.jsx("div",{children:n==="list"?d.jsx(O_,{products:t,categories:a,onAdd:w,onEdit:v,onRefresh:b}):d.jsx(wj,{product:u,categories:a,onSave:N,onCancel:k})})}function Nj({categories:n,onEdit:e,onAdd:t,onRefresh:s}){const[a,l]=se.useState(null),u=async h=>{if(confirm("Are you sure you want to delete this category?")){l(h);try{await wt.delete(`category:${h}`),s()}catch(p){console.error("Failed to delete:",p),alert("Failed to delete category")}finally{l(null)}}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white",children:"Manage Categories"}),d.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors",children:[d.jsx(bh,{className:"w-4 h-4"}),"Add Category"]})]}),d.jsx("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[d.jsx("thead",{className:"bg-slate-800/50 text-slate-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 font-medium",children:"Icon"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Name"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Description"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Order"}),d.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-700/50",children:[n.map(h=>{var p;return d.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 text-2xl",children:h.icon||""}),d.jsx("td",{className:"px-6 py-4 font-medium text-white",children:h.name}),d.jsx("td",{className:"px-6 py-4 truncate max-w-xs",children:(p=h.description)==null?void 0:p.replace(/<[^>]*>?/gm,"")}),d.jsx("td",{className:"px-6 py-4",children:h.order}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>e(h),className:"p-2 text-blue-400 hover:bg-blue-500/10 rounded-lg transition-colors",title:"Edit",children:d.jsx(tg,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>u(h.id),disabled:a===h.id,className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors disabled:opacity-50",title:"Delete",children:d.jsx(_h,{className:"w-4 h-4"})})]})})]},h.id)}),n.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"No categories found. Add one to get started!"})})]})]})})})]})}const kj=Zo;function Sj({category:n,onSave:e,onCancel:t}){const[s,a]=se.useState({name:"",name_sw:"",description:"",icon:"",order:0}),[l,u]=se.useState(!1);se.useEffect(()=>{n&&a(n)},[n]);const h=async p=>{p.preventDefault(),u(!0);try{const g=(n==null?void 0:n.id)||`cat_${crypto.randomUUID()}`,b={...s,id:g,created_at:(n==null?void 0:n.created_at)||new Date().toISOString()};await wt.set(`category:${g}`,b),e()}catch(g){console.error("Failed to save category:",g),alert("Failed to save category")}finally{u(!1)}};return d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:n?"Edit Category":"Add New Category"}),d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category Name"}),d.jsx("input",{type:"text",value:s.name||"",onChange:p=>a({...s,name:p.target.value}),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-purple-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Swahili Name (Optional)"}),d.jsx("input",{type:"text",value:s.name_sw||"",onChange:p=>a({...s,name_sw:p.target.value}),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Order/Priority"}),d.jsx("input",{type:"number",value:s.order,onChange:p=>a({...s,order:Number(p.target.value)||0}),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Icon (Emoji/URL)"}),d.jsx("input",{type:"text",value:s.icon||"",onChange:p=>a({...s,icon:p.target.value}),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-purple-500",placeholder:"e.g. "})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Helper Text"}),d.jsx("input",{type:"text",value:s.helper_text||"",onChange:p=>a({...s,helper_text:p.target.value}),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-purple-500",placeholder:"e.g. Recommended for beginners"})]})]}),d.jsxs("div",{className:"h-80 pb-12",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),d.jsx("div",{className:"h-64 bg-slate-800/50 rounded-lg text-slate-100",children:d.jsx(kj,{theme:"snow",value:s.description,onChange:p=>a({...s,description:p}),className:"h-full"})})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-700/50 mt-8",children:[d.jsxs("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors flex items-center gap-2",children:[d.jsx(Nu,{className:"w-4 h-4"}),"Cancel"]}),d.jsxs("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-cyan-500 text-white rounded-lg hover:from-purple-400 hover:to-cyan-400 transition-all flex items-center gap-2",children:[l?d.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):d.jsx(xh,{className:"w-4 h-4"}),"Save Category"]})]})]})]})}function Ej(){const[n,e]=se.useState("list"),[t,s]=se.useState([]),[a,l]=se.useState(null),[u,h]=se.useState(!0),p=async()=>{h(!0);try{const N=await wt.listByPrefix("category:");s(N.map(k=>k.value).sort((k,S)=>k.order-S.order))}catch(N){console.error("Failed to fetch categories:",N)}finally{h(!1)}};se.useEffect(()=>{p()},[]);const g=()=>{l(null),e("form")},b=N=>{l(N),e("form")},w=()=>{p(),e("list")},v=()=>{e("list"),l(null)};return u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})}):d.jsx("div",{children:n==="list"?d.jsx(Nj,{categories:t,onAdd:g,onEdit:b,onRefresh:p}):d.jsx(Sj,{category:a,onSave:w,onCancel:v})})}function jj({orders:n,onRefresh:e}){const[t,s]=se.useState(null),a=async(h,p)=>{s(h.id);try{const g={...h,status:p};await wt.set(`order:${h.id}`,g),e()}catch(g){console.error("Failed to update order:",g),alert("Failed to update order")}finally{s(null)}},l=async h=>{if(confirm("Are you sure you want to delete this order?")){s(h);try{await wt.delete(`order:${h}`),e()}catch(p){console.error("Failed to delete:",p)}finally{s(null)}}},u=h=>{switch(h){case"completed":return"text-emerald-400 bg-emerald-400/10 border-emerald-400/20";case"cancelled":return"text-red-400 bg-red-400/10 border-red-400/20";default:return"text-amber-400 bg-amber-400/10 border-amber-400/20"}};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-white",children:"Manage Orders"}),d.jsx("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[d.jsx("thead",{className:"bg-slate-800/50 text-slate-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 font-medium",children:"Order ID"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Customer"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Items"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Total"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),d.jsx("th",{className:"px-6 py-4 font-medium",children:"Date"}),d.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-700/50",children:[n.map(h=>d.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[d.jsxs("td",{className:"px-6 py-4 font-mono text-xs",children:[h.id.substring(0,8),"..."]}),d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("div",{className:"font-medium text-white",children:h.customer_name}),d.jsx("div",{className:"text-xs text-slate-500",children:h.customer_email})]}),d.jsxs("td",{className:"px-6 py-4",children:[h.items.length," items",d.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[h.items.map(p=>p.product_name).join(", ").substring(0,30),h.items.map(p=>p.product_name).join(", ").length>30?"...":""]})]}),d.jsxs("td",{className:"px-6 py-4 font-bold text-white",children:["$",h.total_amount.toFixed(2)]}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("span",{className:`px-2 py-1 rounded-full text-xs border ${u(h.status)} capitalize flex w-fit items-center gap-1`,children:[h.status==="completed"&&d.jsx(p0,{className:"w-3 h-3"}),h.status==="pending"&&d.jsx(R1,{className:"w-3 h-3"}),h.status==="cancelled"&&d.jsx(m0,{className:"w-3 h-3"}),h.status]})}),d.jsx("td",{className:"px-6 py-4",children:new Date(h.created_at).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[h.status==="pending"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>a(h,"completed"),disabled:!!t,className:"p-2 text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",title:"Mark Completed",children:d.jsx(p0,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>a(h,"cancelled"),disabled:!!t,className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Cancel Order",children:d.jsx(m0,{className:"w-4 h-4"})})]}),d.jsx("button",{onClick:()=>l(h.id),disabled:!!t,className:"p-2 text-slate-400 hover:bg-slate-500/10 rounded-lg transition-colors",title:"Delete",children:d.jsx(_h,{className:"w-4 h-4"})})]})})]},h.id)),n.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-slate-500",children:"No orders found."})})]})]})})})]})}function Tj(){const[n,e]=se.useState([]),[t,s]=se.useState(!0),a=async()=>{s(!0);try{const l=await wt.listByPrefix("order:");e(l.map(u=>u.value).sort((u,h)=>new Date(h.created_at).getTime()-new Date(u.created_at).getTime()))}catch(l){console.error("Failed to fetch orders:",l)}finally{s(!1)}};return se.useEffect(()=>{a()},[]),t?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})}):d.jsx("div",{children:d.jsx(jj,{orders:n,onRefresh:a})})}const Jm={websiteName:"Music Studio Builder",logoUrl:"",supportEmail:"",headerLinks:[],smtp:{host:"",port:"587",user:"",pass:"",secure:!0},sms:{provider:"",apiKey:"",senderId:""},payment:{pesaPalEnabled:!0,pesaPalMerchantId:"",offlineEnabled:!0,offlineInstruction:""}};function Cj(){const[n,e]=se.useState(Jm),[t,s]=se.useState(!0),[a,l]=se.useState(!1);se.useEffect(()=>{u()},[]);const u=async()=>{s(!0);try{const g=await wt.get("settings:general");g&&e({...Jm,...g})}catch(g){console.error("Failed to load settings:",g)}finally{s(!1)}},h=async g=>{g.preventDefault(),l(!0);try{await wt.set("settings:general",n),alert("Settings saved successfully!")}catch(b){console.error("Failed to save settings:",b),alert("Failed to save settings.")}finally{l(!1)}},p=(g,b,w)=>{e(v=>g==="websiteName"||g==="logoUrl"||g==="supportEmail"?{...v,[g]:w}:{...v,[g]:{...v[g],[b]:w}})};return t?d.jsx("div",{className:"text-white p-6",children:"Loading settings..."}):d.jsxs("form",{onSubmit:h,className:"space-y-8 max-w-4xl pb-10",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"General Settings"}),d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:d.jsx(fu,{className:"w-6 h-6 text-blue-400"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Website Information"})]}),d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-slate-400 mb-2",children:"Website Name"}),d.jsx("input",{type:"text",value:n.websiteName,onChange:g=>p("websiteName","",g.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-slate-400 mb-2",children:"Logo URL"}),d.jsx("input",{type:"text",value:n.logoUrl,onChange:g=>p("logoUrl","",g.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",placeholder:"https://..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-slate-400 mb-2",children:"Support Email"}),d.jsx("input",{type:"email",value:n.supportEmail,onChange:g=>p("supportEmail","",g.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]})]}),d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl",children:d.jsx(Ro,{className:"w-6 h-6 text-green-400"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"SMTP Email Configuration"})]}),d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-slate-400 mb-2",children:"Host"}),d.jsx("input",{type:"text",value:n.smtp.host,onChange:g=>p("smtp","host",g.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-slate-400 mb-2",children:"Port"}),d.jsx("input",{type:"text",value:n.smtp.port,onChange:g=>p("smtp","port",g.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-slate-400 mb-2",children:"User"}),d.jsx("input",{type:"text",value:n.smtp.user,onChange:g=>p("smtp","user",g.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-slate-400 mb-2",children:"Password"}),d.jsx("input",{type:"password",value:n.smtp.pass,onChange:g=>p("smtp","pass",g.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]})]}),d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-xl",children:d.jsx(ib,{className:"w-6 h-6 text-yellow-400"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"SMS Configuration"})]}),d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-slate-400 mb-2",children:"Provider"}),d.jsxs("select",{value:n.sms.provider,onChange:g=>p("sms","provider",g.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[d.jsx("option",{value:"",children:"Select Provider"}),d.jsx("option",{value:"twilio",children:"Twilio"}),d.jsx("option",{value:"africastalking",children:"AfricasTalking"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-slate-400 mb-2",children:"API Key"}),d.jsx("input",{type:"password",value:n.sms.apiKey,onChange:g=>p("sms","apiKey",g.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-slate-400 mb-2",children:"Sender ID"}),d.jsx("input",{type:"text",value:n.sms.senderId,onChange:g=>p("sms","senderId",g.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]})]}),d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"p-3 bg-pink-500/20 rounded-xl",children:d.jsx(Zm,{className:"w-6 h-6 text-pink-400"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:"Payment Methods"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-xl",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-white",children:"PesaPal"}),d.jsx("p",{className:"text-sm text-slate-400",children:"Enable PesaPal payment gateway (Default)"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:n.payment.pesaPalEnabled,onChange:g=>p("payment","pesaPalEnabled",g.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-slate-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-xl",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-white",children:"Offline Payment"}),d.jsx("p",{className:"text-sm text-slate-400",children:"Allow customers to pay offline (Cash, Bank Transfer)"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:n.payment.offlineEnabled,onChange:g=>p("payment","offlineEnabled",g.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-slate-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]})]})]}),d.jsxs("button",{type:"submit",disabled:a,className:"fixed bottom-6 right-6 flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-full shadow-lg hover:shadow-cyan-500/25 transition-all text-white font-bold text-lg z-50 hover:scale-105",children:[d.jsx(xh,{className:"w-6 h-6"}),a?"Saving...":"Save Settings"]})]})}function Aj(){const[n,e]=se.useState(!1),t=async(l,u)=>{e(!0);try{let h=[],p="",g="";if(l==="orders"?(h=(await wt.listByPrefix("order:")).map(w=>w.value),p="orders"):(h=(await wt.listByPrefix("product:")).map(w=>w.value),p="products"),g=`${p}_report_${new Date().toISOString().split("T")[0]}`,u==="json"){const b=new Blob([JSON.stringify(h,null,2)],{type:"application/json"});a(b,`${g}.json`)}else{const b=s(h),w=new Blob([b],{type:"text/csv"});a(w,`${g}.csv`)}}catch(h){console.error("Export failed:",h),alert("Export failed. Please try again.")}finally{e(!1)}},s=l=>{const u=typeof l!="object"?JSON.parse(l):l;if(u.length===0)return"";const h=Array.from(new Set(u.flatMap(Object.keys)));let p=h.join(",")+`\r
`;for(let g=0;g<u.length;g++){let b="";for(const w of h){b!==""&&(b+=",");let v=u[g][w];typeof v=="object"?(v=JSON.stringify(v).replace(/"/g,'""'),v=`"${v}"`):typeof v=="string"&&(v=`"${v.replace(/"/g,'""')}"`),b+=v!==void 0?v:""}p+=b+`\r
`}return p},a=(l,u)=>{const h=window.URL.createObjectURL(l),p=document.createElement("a");p.href=h,p.download=u,p.click(),window.URL.revokeObjectURL(h)};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Reports & Exports"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:d.jsx(z1,{className:"w-6 h-6 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:"Orders Report"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Export all order history and details"})]})]}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsxs("button",{onClick:()=>t("orders","csv"),disabled:n,className:"flex-1 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[d.jsx(Wl,{className:"w-4 h-4"})," CSV"]}),d.jsxs("button",{onClick:()=>t("orders","json"),disabled:n,className:"flex-1 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[d.jsx(Wl,{className:"w-4 h-4"})," JSON"]})]})]}),d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl",children:d.jsx(Xm,{className:"w-6 h-6 text-purple-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:"Products Inventory"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Export full product catalog list"})]})]}),d.jsxs("div",{className:"flex gap-3 mt-4",children:[d.jsxs("button",{onClick:()=>t("products","csv"),disabled:n,className:"flex-1 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[d.jsx(Wl,{className:"w-4 h-4"})," CSV"]}),d.jsxs("button",{onClick:()=>t("products","json"),disabled:n,className:"flex-1 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[d.jsx(Wl,{className:"w-4 h-4"})," JSON"]})]})]})]})]})}function Oj({onBackToHome:n}){const[e,t]=se.useState("overview"),[s,a]=se.useState({products:0,categories:0,orders:0,revenue:0}),[l,u]=se.useState(!1),[h,p]=se.useState(""),[g,b]=se.useState(!1),[w,v]=se.useState(!1);se.useEffect(()=>{e==="overview"&&N()},[e]);const N=async()=>{b(!0);try{const[j,L,M]=await Promise.all([wt.listByPrefix("product:"),wt.listByPrefix("category:"),wt.listByPrefix("order:")]),Y=M.map(te=>te.value).filter(te=>te.status==="completed").reduce((te,ae)=>te+ae.total_amount,0);a({products:j.length,categories:L.length,orders:M.length,revenue:Y})}catch(j){console.error("Failed to fetch dashboard stats",j)}finally{b(!1)}},k=async()=>{u(!0),p(" Seeding demo data...");try{const j=`https://${yu}.supabase.co/functions/v1/make-server-bbbda4f3/seed-demo-data`,L=await fetch(j,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wd}`,apikey:Wd}}),M=L.headers.get("content-type");let q;if(M&&M.includes("application/json"))q=await L.json();else{const Y=await L.text();throw new Error(`Server returned non-JSON response: ${Y.substring(0,200)}`)}if(L.ok&&q.success)p(" Demo data seeded successfully!"),N(),setTimeout(()=>p(""),5e3);else{const Y=q.error||q.message||"Unknown error";p(` Failed to seed demo data: ${Y}`)}}catch(j){console.error("Seed demo data error:",j);const L=j instanceof Error?j.message:String(j);p(` Error seeding demo data: ${L}`)}finally{u(!1)}},S=[{id:"overview",label:"Overview",icon:Pd},{id:"products",label:"Products",icon:wa},{id:"categories",label:"Categories",icon:g0},{id:"orders",label:"Orders",icon:b0},{id:"reports",label:"Reports",icon:Xm},{id:"settings",label:"Settings",icon:hb}];return d.jsxs("div",{className:"min-h-screen bg-slate-950 text-white font-sans selection:bg-cyan-500/30 flex",children:[w&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden",onClick:()=>v(!1)}),d.jsxs("aside",{className:`
          fixed top-0 left-0 z-50 h-screen w-64 bg-slate-900/95 backdrop-blur-xl border-r border-slate-800 
          transition-transform duration-300 ease-in-out
          ${w?"translate-x-0":"-translate-x-full"} 
          md:relative md:translate-x-0
        `,children:[d.jsxs("div",{className:"p-6 flex items-center justify-between h-20",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-cyan-500/20",children:d.jsx(wa,{className:"w-5 h-5 text-white"})}),d.jsx("span",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:"StudioAdmin"})]}),d.jsx("button",{onClick:()=>v(!1),className:"md:hidden text-slate-400 hover:text-white",children:d.jsx(Nu,{className:"w-6 h-6"})})]}),d.jsx("nav",{className:"px-4 py-2 space-y-1 overflow-y-auto h-[calc(100vh-140px)]",children:S.map(j=>{const L=j.icon,M=e===j.id;return d.jsxs("button",{onClick:()=>{t(j.id),v(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${M?"bg-gradient-to-r from-cyan-500/20 to-purple-500/20 text-white border border-cyan-500/20":"text-slate-400 hover:bg-slate-800/50 hover:text-white"}`,children:[d.jsx(L,{className:`w-5 h-5 transition-colors ${M?"text-cyan-400":"group-hover:text-cyan-300"}`}),d.jsx("span",{className:"font-medium",children:j.label})]},j.id)})}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-800 bg-slate-900/95",children:d.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 text-rose-400 hover:bg-rose-500/10 rounded-xl transition-all group",children:[d.jsx(eb,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]}),d.jsxs("main",{className:"flex-1 min-w-0 h-screen overflow-y-auto bg-slate-950 scrollbar-thin scrollbar-thumb-slate-800 scrollbar-track-transparent",children:[d.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-slate-950/80 backdrop-blur-md border-b border-slate-800 p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-lg flex items-center justify-center",children:d.jsx(wa,{className:"w-5 h-5 text-white"})}),d.jsx("span",{className:"font-bold text-lg",children:"StudioAdmin"})]}),d.jsx("button",{onClick:()=>v(!0),className:"text-white p-2 hover:bg-slate-800 rounded-lg",children:d.jsx(eg,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto pb-20",children:[e==="overview"&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("header",{className:"mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Dashboard Overview"}),d.jsx("p",{className:"text-slate-400",children:"Welcome back. Here's what's happening today."})]}),g?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})}):d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("button",{onClick:()=>t("products"),className:"bg-slate-900/50 backdrop-blur-xl p-6 rounded-2xl border border-slate-700/50 hover:border-purple-500/50 transition-all text-left group hover:scale-[1.02] hover:shadow-lg hover:shadow-purple-500/10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl group-hover:bg-purple-500/30 transition-colors",children:d.jsx(wa,{className:"w-6 h-6 text-purple-400"})}),d.jsx("span",{className:"text-slate-400 text-sm",children:"Total Products"})]}),d.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:s.products}),d.jsx("div",{className:"text-purple-400 text-sm flex items-center gap-1",children:"Manage Inventory "})]}),d.jsxs("button",{onClick:()=>t("categories"),className:"bg-slate-900/50 backdrop-blur-xl p-6 rounded-2xl border border-slate-700/50 hover:border-cyan-500/50 transition-all text-left group hover:scale-[1.02] hover:shadow-lg hover:shadow-cyan-500/10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-xl group-hover:bg-cyan-500/30 transition-colors",children:d.jsx(g0,{className:"w-6 h-6 text-cyan-400"})}),d.jsx("span",{className:"text-slate-400 text-sm",children:"Categories"})]}),d.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:s.categories}),d.jsx("div",{className:"text-cyan-400 text-sm flex items-center gap-1",children:"View Categories "})]}),d.jsxs("button",{onClick:()=>t("orders"),className:"bg-slate-900/50 backdrop-blur-xl p-6 rounded-2xl border border-slate-700/50 hover:border-emerald-500/50 transition-all text-left group hover:scale-[1.02] hover:shadow-lg hover:shadow-emerald-500/10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl group-hover:bg-emerald-500/30 transition-colors",children:d.jsx(b0,{className:"w-6 h-6 text-emerald-400"})}),d.jsx("span",{className:"text-slate-400 text-sm",children:"Orders"})]}),d.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:s.orders}),d.jsx("div",{className:"text-emerald-400 text-sm flex items-center gap-1",children:"View Orders "})]}),d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl p-6 rounded-2xl border border-slate-700/50 group",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:d.jsx(_1,{className:"w-6 h-6 text-blue-400"})}),d.jsx("span",{className:"text-slate-400 text-sm",children:"Revenue"})]}),d.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:["$",s.revenue.toLocaleString()]}),d.jsx("div",{className:"text-blue-400 text-sm flex items-center gap-1",children:"Lifetime Earnings"})]}),d.jsx("div",{className:"col-span-1 md:col-span-2 lg:col-span-4 mt-4",children:d.jsx("button",{onClick:k,disabled:l,className:"w-full relative overflow-hidden bg-gradient-to-r from-rose-500/10 to-orange-500/10 border border-rose-500/30 rounded-2xl p-6 group hover:border-rose-500/50 transition-all",children:d.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-rose-500/20 rounded-xl group-hover:bg-rose-500/30 transition-colors",children:d.jsx(Cb,{className:"w-6 h-6 text-rose-400"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:l?"Seeding Database...":"Seed Demo Data"}),d.jsx("p",{className:"text-slate-400 text-sm",children:h||"Reset your database with sample categories, products, and orders for testing."})]})]})})})]})]}),e==="products"&&d.jsx(_j,{}),e==="categories"&&d.jsx(Ej,{}),e==="orders"&&d.jsx(Tj,{}),e==="settings"&&d.jsx(Cj,{}),e==="reports"&&d.jsx(Aj,{})]})]})]})}function Rj(){const[n,e]=se.useState("home"),[t,s]=se.useState(!1),[a,l]=se.useState(!1);se.useEffect(()=>{Ps.auth.getSession().then(({data:{session:g}})=>{g&&s(!0)});const{data:{subscription:p}}=Ps.auth.onAuthStateChange((g,b)=>{s(!!b)});return()=>p.unsubscribe()},[]);const u=async()=>{await Ps.auth.signOut(),s(!1),e("home"),l(!1)},h=p=>{e(p),l(!1)};return d.jsx(Gb,{children:d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-purple-950",children:[n!=="admin-dashboard"&&d.jsxs(d.Fragment,{children:[d.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/90 backdrop-blur-xl border-b border-slate-700/50",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs("button",{onClick:()=>h("home"),className:"flex items-center gap-2 text-white hover:text-cyan-400 transition-colors",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-500 to-purple-500 rounded-lg shadow-lg shadow-purple-500/20",children:d.jsx(ud,{className:"w-5 h-5"})}),d.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Studio Builder"})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-4 lg:gap-6",children:[d.jsxs("button",{onClick:()=>h("home"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${n==="home"?"bg-slate-800/50 text-cyan-400 border border-slate-700/50":"text-slate-300 hover:text-white hover:bg-slate-800/30"}`,children:[d.jsx(ud,{className:"w-4 h-4"}),d.jsx("span",{children:"Home"})]}),d.jsxs("button",{onClick:()=>h("about"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${n==="about"?"bg-slate-800/50 text-cyan-400 border border-slate-700/50":"text-slate-300 hover:text-white hover:bg-slate-800/30"}`,children:[d.jsx(y0,{className:"w-4 h-4"}),d.jsx("span",{children:"About"})]}),d.jsxs("button",{onClick:()=>h("contact"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${n==="contact"?"bg-slate-800/50 text-cyan-400 border border-slate-700/50":"text-slate-300 hover:text-white hover:bg-slate-800/30"}`,children:[d.jsx(Ro,{className:"w-4 h-4"}),d.jsx("span",{children:"Contact"})]}),d.jsxs("button",{onClick:()=>h("admin-dashboard"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500/20 to-cyan-500/20 border border-purple-500/50 rounded-lg text-purple-300 hover:from-purple-500/30 hover:to-cyan-500/30 transition-all hover:shadow-lg hover:shadow-purple-500/10",children:[d.jsx(Pd,{className:"w-4 h-4"}),d.jsx("span",{children:"Admin Dashboard"})]})]}),d.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 md:hidden z-50",children:d.jsx("button",{onClick:()=>l(!0),className:"p-2 text-white bg-slate-800/80 hover:bg-slate-700 rounded-lg transition-colors border border-slate-700/50 backdrop-blur-sm shadow-lg",children:d.jsx(eg,{className:"w-6 h-6"})})})]})})}),a&&d.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>l(!1)}),d.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-72 bg-slate-900 border-l border-slate-800 shadow-2xl animate-in slide-in-from-right duration-300 flex flex-col",children:[d.jsxs("div",{className:"p-6 border-b border-slate-800 flex items-center justify-between",children:[d.jsx("span",{className:"font-bold text-lg text-white",children:"Menu"}),d.jsx("button",{onClick:()=>l(!1),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:d.jsx(Nu,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex-1 p-6 space-y-2 overflow-y-auto",children:[d.jsxs("button",{onClick:()=>h("home"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="home"?"bg-gradient-to-r from-purple-500/20 to-cyan-500/20 border border-purple-500/30 text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[d.jsx(ud,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"Home"})]}),d.jsxs("button",{onClick:()=>h("about"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="about"?"bg-gradient-to-r from-purple-500/20 to-cyan-500/20 border border-purple-500/30 text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[d.jsx(y0,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"About"})]}),d.jsxs("button",{onClick:()=>h("contact"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="contact"?"bg-gradient-to-r from-purple-500/20 to-cyan-500/20 border border-purple-500/30 text-white":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[d.jsx(Ro,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:"Contact"})]}),d.jsx("div",{className:"my-4 border-t border-slate-800/50"}),d.jsxs("button",{onClick:()=>h("admin-dashboard"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700/50 text-purple-300 hover:text-white hover:bg-slate-700/50 transition-all font-medium",children:[d.jsx(Pd,{className:"w-5 h-5"}),d.jsx("span",{children:"Admin Dashboard"})]})]}),d.jsx("div",{className:"p-6 border-t border-slate-800",children:d.jsx("p",{className:"text-xs text-slate-500 text-center",children:" 2024 Studio Builder"})})]})]})]}),d.jsxs("div",{className:n!=="admin-dashboard"?"pt-16":"",children:[n==="home"&&d.jsx(A_,{}),n==="about"&&d.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:d.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[d.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent mb-6",children:"About Studio Builder"}),d.jsx("p",{className:"text-xl text-slate-300 mb-8",children:"Studio Builder is your comprehensive solution for building a professional music production setup. We help you select the perfect combination of software, plugins, and storage to match your creative needs and budget."}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsx("div",{className:"text-4xl mb-4",children:""}),d.jsx("h3",{className:"text-white font-semibold mb-2",children:"Curated Selection"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Hand-picked tools for music producers at every level"})]}),d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsx("div",{className:"text-4xl mb-4",children:""}),d.jsx("h3",{className:"text-white font-semibold mb-2",children:"Storage Calculator"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Automatically calculates your storage needs"})]}),d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6",children:[d.jsx("div",{className:"text-4xl mb-4",children:""}),d.jsx("h3",{className:"text-white font-semibold mb-2",children:"Fast Delivery"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Ships to Tanzania and neighboring countries"})]})]})]})}),n==="contact"&&d.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent mb-6 text-center",children:"Get In Touch"}),d.jsx("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Name"}),d.jsx("input",{type:"text",placeholder:"Your name",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),d.jsx("input",{type:"email",placeholder:"your.email@example.com",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message"}),d.jsx("textarea",{rows:5,placeholder:"How can we help you?",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all resize-none"})]}),d.jsx("button",{className:"w-full py-3 px-6 bg-gradient-to-r from-purple-500 to-cyan-500 text-white rounded-xl hover:from-purple-400 hover:to-cyan-400 transition-all shadow-lg shadow-purple-500/50 font-medium",children:"Send Message"})]})})]})}),n==="admin-dashboard"&&(t?d.jsx(Oj,{onBackToHome:u}):d.jsx(Lj,{onLoginSuccess:()=>s(!0)}))]})]})})}function Lj({onLoginSuccess:n}){const[e,t]=se.useState("admin@gmail.com"),[s,a]=se.useState("pass@123"),[l,u]=se.useState(!1),[h,p]=se.useState(""),[g,b]=se.useState(!0),[w,v]=se.useState("");se.useEffect(()=>{N()},[]);const N=async()=>{var S;v("Initializing admin account...");try{const L=await(await fetch(`https://${yu}.supabase.co/functions/v1/make-server-bbbda4f3/auth/init-admin`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();L.success?(v(" Admin account created! You can now sign in."),b(!0)):(S=L.message)!=null&&S.includes("already exists")?(v(" Admin account ready. Use the credentials below to sign in."),b(!0)):v("")}catch(j){console.error("Init admin error:",j)}},k=async S=>{S.preventDefault(),p(""),u(!0);try{const{data:j,error:L}=await Ps.auth.signInWithPassword({email:e,password:s});if(L){p(L.message),u(!1);return}if(!j.session){p("Failed to create session"),u(!1);return}if(!(await fetch(`https://${yu}.supabase.co/functions/v1/make-server-bbbda4f3/auth/verify`,{headers:{Authorization:`Bearer ${j.session.access_token}`}})).ok){p("Unauthorized - Admin access required"),u(!1);return}n(j.session.access_token,j.user)}catch(j){console.error("Login error:",j),p("Failed to login. Please try again."),u(!1)}};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-purple-950 flex items-center justify-center px-4",children:[d.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),d.jsxs("div",{className:"w-full max-w-md relative z-10",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-500 to-cyan-500 rounded-2xl mb-4 shadow-xl shadow-purple-500/50",children:d.jsx(pb,{className:"w-10 h-10 text-white"})}),d.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Admin Dashboard"}),d.jsx("p",{className:"text-slate-400",children:"Sign in to manage your studio builder"})]}),d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-3xl p-8 shadow-2xl",children:[d.jsxs("form",{onSubmit:k,className:"space-y-6",children:[h&&d.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/50 rounded-xl text-red-400 text-sm",children:h}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Ro,{className:"w-5 h-5 text-slate-500"})}),d.jsx("input",{id:"email",type:"email",value:e,onChange:S=>t(S.target.value),placeholder:"admin@example.com",required:!0,className:"w-full pl-12 pr-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx(Z1,{className:"w-5 h-5 text-slate-500"})}),d.jsx("input",{id:"password",type:"password",value:s,onChange:S=>a(S.target.value),placeholder:"",required:!0,className:"w-full pl-12 pr-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all"})]})]}),d.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-6 bg-gradient-to-r from-purple-500 to-cyan-500 text-white rounded-xl hover:from-purple-400 hover:to-cyan-400 transition-all shadow-lg shadow-purple-500/50 hover:shadow-xl hover:shadow-purple-500/70 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:l?"Signing in...":"Sign In"})]}),w&&d.jsx("div",{className:"mt-6 pt-6 border-t border-slate-700/50",children:d.jsx("p",{className:"text-sm text-slate-400 text-center",children:w})}),g&&d.jsxs("div",{className:"mt-6 p-4 bg-cyan-500/10 border border-cyan-500/30 rounded-xl",children:[d.jsx("p",{className:"text-xs text-cyan-300 font-semibold mb-2 text-center",children:"Default Credentials:"}),d.jsxs("div",{className:"space-y-1 text-xs text-slate-300",children:[d.jsxs("p",{children:[d.jsx("span",{className:"text-slate-400",children:"Email:"})," admin@gmail.com"]}),d.jsxs("p",{children:[d.jsx("span",{className:"text-slate-400",children:"Password:"})," pass@123"]})]})]})]})]})]})}h1.createRoot(document.getElementById("root")).render(d.jsx(Rj,{}))});export default Pj();
